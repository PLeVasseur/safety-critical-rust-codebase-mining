{
  "source": "Rust Reference",
  "source_repo": "https://github.com/rust-lang/reference",
  "extraction_date": "2026-01-03",
  "chapter": 8,
  "title": "Attributes",
  "file": "attributes.md",
  "sections": [
    {
      "id": "attributes",
      "title": "Attributes",
      "level": 1,
      "content": "",
      "parent_id": null,
      "paragraphs": {}
    },
    {
      "id": "attributes.syntax",
      "title": "Attributes",
      "level": 1,
      "content": ",attributes\nInnerAttribute -> `#` `!` `[` Attr `]`\n\nOuterAttribute -> `#` `[` Attr `]`\n\nAttr ->\n      SimplePath AttrInput?\n    | `unsafe` `(` SimplePath AttrInput? `)`\n\nAttrInput ->\n      DelimTokenTree\n    | `=` Expression",
      "parent_id": null,
      "paragraphs": {
        "attributes.syntax": ",attributes\nInnerAttribute -> `#` `!` `[` Attr `]`\n\nOuterAttribute -> `#` `[` Attr `]`\n\nAttr ->\n      SimplePath AttrInput?\n    | `unsafe` `(` SimplePath AttrInput? `)`\n\nAttrInput ->\n      DelimTokenTree\n    | `=` Expression"
      }
    },
    {
      "id": "attributes.intro",
      "title": "Attributes",
      "level": 1,
      "content": "An _attribute_ is a general, free-form metadatum that is interpreted according\nto name, convention, language, and compiler version. Attributes are modeled\non Attributes in [ECMA-335], with the syntax coming from [ECMA-334] \\(C#).",
      "parent_id": null,
      "paragraphs": {
        "attributes.intro": "An _attribute_ is a general, free-form metadatum that is interpreted according\nto name, convention, language, and compiler version. Attributes are modeled\non Attributes in [ECMA-335], with the syntax coming from [ECMA-334] \\(C#)."
      }
    },
    {
      "id": "attributes.inner",
      "title": "Attributes",
      "level": 1,
      "content": "_Inner attributes_, written with a bang (`!`) after the hash (`#`), apply to the form that the attribute is declared within.\n\n> [!EXAMPLE]\n> ```rust\n> // General metadata applied to the enclosing module or crate.\n> #![crate_type = \"lib\"]\n>\n> // Inner attribute applies to the entire function.\n> fn some_unused_variables() {\n>   #![allow(unused_variables)]\n>\n>   let x = ();\n>   let y = ();\n>   let z = ();\n> }\n> ```",
      "parent_id": null,
      "paragraphs": {
        "attributes.inner": "_Inner attributes_, written with a bang (`!`) after the hash (`#`), apply to the form that the attribute is declared within.\n\n> [!EXAMPLE]\n> ```rust\n> // General metadata applied to the enclosing module or crate.\n> #![crate_type = \"lib\"]\n>\n> // Inner attribute applies to the entire function.\n> fn some_unused_variables() {\n>   #![allow(unused_variables)]\n>\n>   let x = ();\n>   let y = ();\n>   let z = ();\n> }\n> ```"
      }
    },
    {
      "id": "attributes.outer",
      "title": "Attributes",
      "level": 1,
      "content": "_Outer attributes_, written without the bang after the hash, apply to the form that follows the attribute.\n\n> [!EXAMPLE]\n> ```rust\n> // A function marked as a unit test\n> #[test]\n> fn test_foo() {\n>     /* ... */\n> }\n>\n> // A conditionally-compiled module\n> #[cfg(target_os = \"linux\")]\n> mod bar {\n>     /* ... */\n> }\n>\n> // A lint attribute used to suppress a warning/error\n> #[allow(non_camel_case_types)]\n> type int8_t = i8;\n> ```",
      "parent_id": null,
      "paragraphs": {
        "attributes.outer": "_Outer attributes_, written without the bang after the hash, apply to the form that follows the attribute.\n\n> [!EXAMPLE]\n> ```rust\n> // A function marked as a unit test\n> #[test]\n> fn test_foo() {\n>     /* ... */\n> }\n>\n> // A conditionally-compiled module\n> #[cfg(target_os = \"linux\")]\n> mod bar {\n>     /* ... */\n> }\n>\n> // A lint attribute used to suppress a warning/error\n> #[allow(non_camel_case_types)]\n> type int8_t = i8;\n> ```"
      }
    },
    {
      "id": "attributes.input",
      "title": "Attributes",
      "level": 1,
      "content": "The attribute consists of a path to the attribute, followed by an optional\ndelimited token tree whose interpretation is defined by the attribute.\nAttributes other than macro attributes also allow the input to be an equals\nsign (`=`) followed by an expression. See the meta item\nsyntax below for more details.",
      "parent_id": null,
      "paragraphs": {
        "attributes.input": "The attribute consists of a path to the attribute, followed by an optional\ndelimited token tree whose interpretation is defined by the attribute.\nAttributes other than macro attributes also allow the input to be an equals\nsign (`=`) followed by an expression. See the meta item\nsyntax below for more details."
      }
    },
    {
      "id": "attributes.safety",
      "title": "Attributes",
      "level": 1,
      "content": "An attribute may be unsafe to apply. To avoid undefined behavior when using\nthese attributes, certain obligations that cannot be checked by the compiler\nmust be met.  To assert these have been, the attribute is wrapped in\n`unsafe(..)`, e.g. `#[unsafe(no_mangle)]`.\n\nThe following attributes are unsafe:\n\n* [`export_name`]\n* [`link_section`]\n* [`naked`]\n* [`no_mangle`]",
      "parent_id": null,
      "paragraphs": {
        "attributes.safety": "An attribute may be unsafe to apply. To avoid undefined behavior when using\nthese attributes, certain obligations that cannot be checked by the compiler\nmust be met.  To assert these have been, the attribute is wrapped in\n`unsafe(..)`, e.g. `#[unsafe(no_mangle)]`.\n\nThe following attributes are unsafe:\n\n* [`export_name`]\n* [`link_section`]\n* [`naked`]\n* [`no_mangle`]"
      }
    },
    {
      "id": "attributes.kind",
      "title": "Attributes",
      "level": 1,
      "content": "Attributes can be classified into the following kinds:\n\n* [Built-in attributes]\n* Proc macro attributes\n* [Derive macro helper attributes]\n* Tool attributes",
      "parent_id": null,
      "paragraphs": {
        "attributes.kind": "Attributes can be classified into the following kinds:\n\n* [Built-in attributes]\n* Proc macro attributes\n* [Derive macro helper attributes]\n* Tool attributes"
      }
    },
    {
      "id": "attributes.allowed-position",
      "title": "Attributes",
      "level": 1,
      "content": "Attributes may be applied to many forms in the language:\n\n* All [item declarations] accept outer attributes while [external blocks],\n  [functions], [implementations], and [modules] accept inner attributes.\n* Most [statements] accept outer attributes (see [Expression Attributes] for\n  limitations on expression statements).\n* [Block expressions] accept outer and inner attributes, but only when they are\n  the outer expression of an [expression statement] or the final expression of\n  another block expression.\n* [Enum] variants and [struct] and [union] fields accept outer attributes.\n* Match expression arms accept outer attributes.\n* Generic lifetime or type parameter accept outer attributes.\n* Expressions accept outer attributes in limited situations, see [Expression\n  Attributes] for details.\n* Function, [closure] and [function pointer]\n  parameters accept outer attributes. This includes attributes on variadic parameters\n  denoted with `...` in function pointers and external blocks.\n* [Inline assembly] template strings and operands accept outer attributes. Only certain attributes are accepted semantically; for details, see [asm.attributes.supported-attributes].",
      "parent_id": null,
      "paragraphs": {
        "attributes.allowed-position": "Attributes may be applied to many forms in the language:\n\n* All [item declarations] accept outer attributes while [external blocks],\n  [functions], [implementations], and [modules] accept inner attributes.\n* Most [statements] accept outer attributes (see [Expression Attributes] for\n  limitations on expression statements).\n* [Block expressions] accept outer and inner attributes, but only when they are\n  the outer expression of an [expression statement] or the final expression of\n  another block expression.\n* [Enum] variants and [struct] and [union] fields accept outer attributes.\n* Match expression arms accept outer attributes.\n* Generic lifetime or type parameter accept outer attributes.\n* Expressions accept outer attributes in limited situations, see [Expression\n  Attributes] for details.\n* Function, [closure] and [function pointer]\n  parameters accept outer attributes. This includes attributes on variadic parameters\n  denoted with `...` in function pointers and external blocks.\n* [Inline assembly] template strings and operands accept outer attributes. Only certain attributes are accepted semantically; for details, see [asm.attributes.supported-attributes]."
      }
    },
    {
      "id": "attributes.meta",
      "title": "Meta item attribute syntax",
      "level": 1,
      "content": "A \"meta item\" is the syntax used for the [Attr] rule by most [built-in\nattributes]. It has the following grammar:\n\n,attributes\n@root MetaItem ->\n      SimplePath\n    | SimplePath `=` Expression\n    | SimplePath `(` MetaSeq? `)`\n\nMetaSeq ->\n    MetaItemInner ( `,` MetaItemInner )* `,`?\n\nMetaItemInner ->\n      MetaItem\n    | Expression\n\nExpressions in meta items must macro-expand to literal expressions, which must not\ninclude integer or float type suffixes. Expressions which are not literal expressions\nwill be syntactically accepted (and can be passed to proc-macros), but will be rejected after parsing.\n\nNote that if the attribute appears within another macro, it will be expanded\nafter that outer macro. For example, the following code will expand the\n`Serialize` proc-macro first, which must preserve the `include_str!` call in\norder for it to be expanded:\n\n ignore\n#[derive(Serialize)]\nstruct Foo {\n    #[doc = include_str!(\"x.md\")]\n    x: u32\n}\n\nAdditionally, macros in attributes will be expanded only after all other attributes applied to the item:\n\n ignore\n#[macro_attr1] // expanded first\n#[doc = mac!()] // `mac!` is expanded fourth.\n#[macro_attr2] // expanded second\n#[derive(MacroDerive1, MacroDerive2)] // expanded third\nfn foo() {}\n\nVarious built-in attributes use different subsets of the meta item syntax to\nspecify their inputs. The following grammar rules show some commonly used\nforms:\n\n,attributes\n@root MetaWord ->\n    IDENTIFIER\n\nMetaNameValueStr ->\n    IDENTIFIER `=` (STRING_LITERAL | RAW_STRING_LITERAL)\n\n@root MetaListPaths ->\n    IDENTIFIER `(` ( SimplePath (`,` SimplePath)* `,`? )? `)`\n\n@root MetaListIdents ->\n    IDENTIFIER `(` ( IDENTIFIER (`,` IDENTIFIER)* `,`? )? `)`\n\n@root MetaListNameValueStr ->\n    IDENTIFIER `(` ( MetaNameValueStr (`,` MetaNameValueStr)* `,`? )? `)`\n\nSome examples of meta items are:\n\nStyle | Example\n------|--------\n[MetaWord] | `no_std`\n[MetaNameValueStr] | `doc = \"example\"`\n[MetaListPaths] | `allow(unused, clippy::inline_always)`\n[MetaListIdents] | `macro_use(foo, bar)`\n[MetaListNameValueStr] | `link(name = \"CoreFoundation\", kind = \"framework\")`",
      "parent_id": null,
      "paragraphs": {
        "attributes.meta.intro": "A \"meta item\" is the syntax used for the [Attr] rule by most [built-in\nattributes]. It has the following grammar:",
        "attributes.meta.syntax": ",attributes\n@root MetaItem ->\n      SimplePath\n    | SimplePath `=` Expression\n    | SimplePath `(` MetaSeq? `)`\n\nMetaSeq ->\n    MetaItemInner ( `,` MetaItemInner )* `,`?\n\nMetaItemInner ->\n      MetaItem\n    | Expression",
        "attributes.meta.literal-expr": "Expressions in meta items must macro-expand to literal expressions, which must not\ninclude integer or float type suffixes. Expressions which are not literal expressions\nwill be syntactically accepted (and can be passed to proc-macros), but will be rejected after parsing.",
        "attributes.meta.order": "Note that if the attribute appears within another macro, it will be expanded\nafter that outer macro. For example, the following code will expand the\n`Serialize` proc-macro first, which must preserve the `include_str!` call in\norder for it to be expanded:\n\n ignore\n#[derive(Serialize)]\nstruct Foo {\n    #[doc = include_str!(\"x.md\")]\n    x: u32\n}",
        "attributes.meta.order-macro": "Additionally, macros in attributes will be expanded only after all other attributes applied to the item:\n\n ignore\n#[macro_attr1] // expanded first\n#[doc = mac!()] // `mac!` is expanded fourth.\n#[macro_attr2] // expanded second\n#[derive(MacroDerive1, MacroDerive2)] // expanded third\nfn foo() {}",
        "attributes.meta.builtin": "Various built-in attributes use different subsets of the meta item syntax to\nspecify their inputs. The following grammar rules show some commonly used\nforms:",
        "attributes.meta.builtin.syntax": ",attributes\n@root MetaWord ->\n    IDENTIFIER\n\nMetaNameValueStr ->\n    IDENTIFIER `=` (STRING_LITERAL | RAW_STRING_LITERAL)\n\n@root MetaListPaths ->\n    IDENTIFIER `(` ( SimplePath (`,` SimplePath)* `,`? )? `)`\n\n@root MetaListIdents ->\n    IDENTIFIER `(` ( IDENTIFIER (`,` IDENTIFIER)* `,`? )? `)`\n\n@root MetaListNameValueStr ->\n    IDENTIFIER `(` ( MetaNameValueStr (`,` MetaNameValueStr)* `,`? )? `)`\n\nSome examples of meta items are:\n\nStyle | Example\n------|--------\n[MetaWord] | `no_std`\n[MetaNameValueStr] | `doc = \"example\"`\n[MetaListPaths] | `allow(unused, clippy::inline_always)`\n[MetaListIdents] | `macro_use(foo, bar)`\n[MetaListNameValueStr] | `link(name = \"CoreFoundation\", kind = \"framework\")`"
      }
    },
    {
      "id": "attributes.activity",
      "title": "Active and inert attributes",
      "level": 2,
      "content": "An attribute is either active or inert. During attribute processing, *active\nattributes* remove themselves from the form they are on while *inert attributes*\nstay on.\n\nThe [`cfg`] and [`cfg_attr`] attributes are active.\n[Attribute macros] are active. All other attributes are inert.",
      "parent_id": null,
      "paragraphs": {
        "attributes.activity.intro": "An attribute is either active or inert. During attribute processing, *active\nattributes* remove themselves from the form they are on while *inert attributes*\nstay on.\n\nThe [`cfg`] and [`cfg_attr`] attributes are active.\n[Attribute macros] are active. All other attributes are inert."
      }
    },
    {
      "id": "attributes.tool",
      "title": "Tool attributes",
      "level": 2,
      "content": "The compiler may allow attributes for external tools where each tool resides\nin its own module in the [tool prelude]. The first segment of the attribute\npath is the name of the tool, with one or more additional segments whose\ninterpretation is up to the tool.\n\nWhen a tool is not in use, the tool's attributes are accepted without a\nwarning. When the tool is in use, the tool is responsible for processing and\ninterpretation of its attributes.\n\nTool attributes are not available if the [`no_implicit_prelude`] attribute is\nused.\n\n// Tells the rustfmt tool to not format the following element.\n#[rustfmt::skip]\nstruct S {\n}\n\n// Controls the \"cyclomatic complexity\" threshold for the clippy tool.\n#[clippy::cyclomatic_complexity = \"100\"]\npub fn f() {}\n\n> [!NOTE]\n> `rustc` currently recognizes the tools \"clippy\", \"rustfmt\", \"diagnostic\", \"miri\", and \"rust_analyzer\".",
      "parent_id": null,
      "paragraphs": {
        "attributes.tool.intro": "The compiler may allow attributes for external tools where each tool resides\nin its own module in the [tool prelude]. The first segment of the attribute\npath is the name of the tool, with one or more additional segments whose\ninterpretation is up to the tool.",
        "attributes.tool.ignored": "When a tool is not in use, the tool's attributes are accepted without a\nwarning. When the tool is in use, the tool is responsible for processing and\ninterpretation of its attributes.",
        "attributes.tool.prelude": "Tool attributes are not available if the [`no_implicit_prelude`] attribute is\nused.\n\n// Tells the rustfmt tool to not format the following element.\n#[rustfmt::skip]\nstruct S {\n}\n\n// Controls the \"cyclomatic complexity\" threshold for the clippy tool.\n#[clippy::cyclomatic_complexity = \"100\"]\npub fn f() {}\n\n> [!NOTE]\n> `rustc` currently recognizes the tools \"clippy\", \"rustfmt\", \"diagnostic\", \"miri\", and \"rust_analyzer\"."
      }
    },
    {
      "id": "attributes.builtin",
      "title": "Built-in attributes index",
      "level": 2,
      "content": "The following is an index of all built-in attributes.\n\n- Conditional compilation\n  - [`cfg`] --- Controls conditional compilation.\n  - [`cfg_attr`] --- Conditionally includes attributes.\n\n- Testing\n  - [`test`] --- Marks a function as a test.\n  - [`ignore`] --- Disables a test function.\n  - [`should_panic`] --- Indicates a test should generate a panic.\n\n- Derive\n  - [`derive`] --- Automatic trait implementations.\n  - [`automatically_derived`] --- Marker for implementations created by\n    `derive`.\n\n- Macros\n  - [`macro_export`] --- Exports a `macro_rules` macro for cross-crate usage.\n  - [`macro_use`] --- Expands macro visibility, or imports macros from other\n    crates.\n  - [`proc_macro`] --- Defines a function-like macro.\n  - [`proc_macro_derive`] --- Defines a derive macro.\n  - [`proc_macro_attribute`] --- Defines an attribute macro.\n\n- Diagnostics\n  - [`allow`], [`expect`], [`warn`], [`deny`], [`forbid`] --- Alters the default lint level.\n  - [`deprecated`] --- Generates deprecation notices.\n  - [`must_use`] --- Generates a lint for unused values.\n  - [`diagnostic::on_unimplemented`] --- Hints the compiler to emit a certain error\n    message if a trait is not implemented.\n  - [`diagnostic::do_not_recommend`] --- Hints the compiler to not show a certain trait impl in error messages.\n\n- ABI, linking, symbols, and FFI\n  - [`link`] --- Specifies a native library to link with an `extern` block.\n  - [`link_name`] --- Specifies the name of the symbol for functions or statics\n    in an `extern` block.\n  - [`link_ordinal`] --- Specifies the ordinal of the symbol for functions or\n    statics in an `extern` block.\n  - [`no_link`] --- Prevents linking an extern crate.\n  - [`repr`] --- Controls type layout.\n  - [`crate_type`] --- Specifies the type of crate (library, executable, etc.).\n  - [`no_main`] --- Disables emitting the `main` symbol.\n  - [`export_name`] --- Specifies the exported symbol name for a function or\n    static.\n  - [`link_section`] --- Specifies the section of an object file to use for a\n    function or static.\n  - [`no_mangle`] --- Disables symbol name encoding.\n  - [`used`] --- Forces the compiler to keep a static item in the output\n    object file.\n  - [`crate_name`] --- Specifies the crate name.\n\n- Code generation\n  - [`inline`] --- Hint to inline code.\n  - [`cold`] --- Hint that a function is unlikely to be called.\n  - [`naked`] --- Prevent the compiler from emitting a function prologue and epilogue.\n  - [`no_builtins`] --- Disables use of certain built-in functions.\n  - [`target_feature`] --- Configure platform-specific code generation.\n  - [`track_caller`] --- Pass the parent call location to `std::panic::Location::caller()`.\n  - [`instruction_set`] --- Specify the instruction set used to generate a function's code.\n\n- Documentation\n  - `doc` --- Specifies documentation. See [The Rustdoc Book] for more\n    information. [Doc comments] are transformed into `doc` attributes.\n\n- Preludes\n  - [`no_std`] --- Removes std from the prelude.\n  - [`no_implicit_prelude`] --- Disables prelude lookups within a module.\n\n- Modules\n  - [`path`] --- Specifies the filename for a module.\n\n- Limits\n  - [`recursion_limit`] --- Sets the maximum recursion limit for certain\n    compile-time operations.\n  - [`type_length_limit`] --- Sets the maximum size of a polymorphic type.\n\n- Runtime\n  - [`panic_handler`] --- Sets the function to handle panics.\n  - [`global_allocator`] --- Sets the global memory allocator.\n  - [`windows_subsystem`] --- Specifies the windows subsystem to link with.\n\n- Features\n  - `feature` --- Used to enable unstable or experimental compiler features. See\n    [The Unstable Book] for features implemented in `rustc`.\n\n- Type System\n  - [`non_exhaustive`] --- Indicate that a type will have more fields/variants\n    added in future.\n\n- Debugger\n  - [`debugger_visualizer`] --- Embeds a file that specifies debugger output for a type.\n  - [`collapse_debuginfo`] --- Controls how macro invocations are encoded in debuginfo.\n\n[Doc comments]: comments.md#doc-comments\n[ECMA-334]: https://www.ecma-international.org/publications-and-standards/standards/ecma-334/\n[ECMA-335]: https://www.ecma-international.org/publications-and-standards/standards/ecma-335/\n[Expression Attributes]: expressions.md#expression-attributes\n[The Rustdoc Book]: ../rustdoc/the-doc-attribute.html\n[The Unstable Book]: ../unstable-book/index.html\n[`allow`]: attributes/diagnostics.md#lint-check-attributes\n[`automatically_derived`]: attributes/derive.md#the-automatically_derived-attribute\n[`cfg_attr`]: conditional-compilation.md#the-cfg_attr-attribute\n[`cfg`]: conditional-compilation.md#the-cfg-attribute\n[`cold`]: attributes/codegen.md#the-cold-attribute\n[`collapse_debuginfo`]: attributes/debugger.md#the-collapse_debuginfo-attribute\n[`crate_name`]: crates-and-source-files.md#the-crate_name-attribute\n[`crate_type`]: linkage.md\n[`debugger_visualizer`]: attributes/debugger.md#the-debugger_visualizer-attribute\n[`deny`]: attributes/diagnostics.md#lint-check-attributes\n[`deprecated`]: attributes/diagnostics.md#the-deprecated-attribute\n[`derive`]: attributes/derive.md\n[`export_name`]: abi.md#the-export_name-attribute\n[`expect`]: attributes/diagnostics.md#lint-check-attributes\n[`forbid`]: attributes/diagnostics.md#lint-check-attributes\n[`global_allocator`]: runtime.md#the-global_allocator-attribute\n[`ignore`]: attributes/testing.md#the-ignore-attribute\n[`inline`]: attributes/codegen.md#the-inline-attribute\n[`instruction_set`]: attributes/codegen.md#the-instruction_set-attribute\n[`link_name`]: items/external-blocks.md#the-link_name-attribute\n[`link_ordinal`]: items/external-blocks.md#the-link_ordinal-attribute\n[`link_section`]: abi.md#the-link_section-attribute\n[`link`]: items/external-blocks.md#the-link-attribute\n[`macro_export`]: macros-by-example.md#the-macro_export-attribute\n[`macro_use`]: macros-by-example.md#the-macro_use-attribute\n[`must_use`]: attributes/diagnostics.md#the-must_use-attribute\n[`naked`]: attributes/codegen.md#the-naked-attribute\n[`no_builtins`]: attributes/codegen.md#the-no_builtins-attribute\n[`no_implicit_prelude`]: names/preludes.md#the-no_implicit_prelude-attribute\n[`no_link`]: items/extern-crates.md#the-no_link-attribute\n[`no_main`]: crates-and-source-files.md#the-no_main-attribute\n[`no_mangle`]: abi.md#the-no_mangle-attribute\n[`no_std`]: names/preludes.md#the-no_std-attribute\n[`non_exhaustive`]: attributes/type_system.md#the-non_exhaustive-attribute\n[`panic_handler`]: panic.md#the-panic_handler-attribute\n[`path`]: items/modules.md#the-path-attribute\n[`proc_macro_attribute`]: procedural-macros.md#the-proc_macro_attribute-attribute\n[`proc_macro_derive`]: macro.proc.derive\n[`proc_macro`]: procedural-macros.md#the-proc_macro-attribute\n[`recursion_limit`]: attributes/limits.md#the-recursion_limit-attribute\n[`repr`]: type-layout.md#representations\n[`should_panic`]: attributes/testing.md#the-should_panic-attribute\n[`target_feature`]: attributes/codegen.md#the-target_feature-attribute\n[`test`]: attributes/testing.md#the-test-attribute\n[`track_caller`]: attributes/codegen.md#the-track_caller-attribute\n[`type_length_limit`]: attributes/limits.md#the-type_length_limit-attribute\n[`used`]: abi.md#the-used-attribute\n[`warn`]: attributes/diagnostics.md#lint-check-attributes\n[`windows_subsystem`]: runtime.md#the-windows_subsystem-attribute\n[attribute macros]: procedural-macros.md#the-proc_macro_attribute-attribute\n[block expressions]: expressions/block-expr.md\n\n[derive macro helper attributes]: procedural-macros.md#derive-macro-helper-attributes\n[enum]: items/enumerations.md\n[expression statement]: statements.md#expression-statements\n[external blocks]: items/external-blocks.md\n[functions]: items/functions.md\n[generics]: items/generics.md\n[implementations]: items/implementations.md\n[item declarations]: items.md\n[match expressions]: expressions/match-expr.md\n[modules]: items/modules.md\n[statements]: statements.md\n[struct]: items/structs.md\n[tool prelude]: names/preludes.md#tool-prelude\n[union]: items/unions.md\n[closure]: expressions/closure-expr.md\n[function pointer]: types/function-pointer.md\n[variadic functions]: items/external-blocks.html#variadic-functions\n[`diagnostic::on_unimplemented`]: attributes/diagnostics.md#the-diagnosticon_unimplemented-attribute\n[`diagnostic::do_not_recommend`]: attributes/diagnostics.md#the-diagnosticdo_not_recommend-attribute\n[Inline assembly]: inline-assembly.md",
      "parent_id": null,
      "paragraphs": {
        "attributes.builtin": "The following is an index of all built-in attributes.\n\n- Conditional compilation\n  - [`cfg`] --- Controls conditional compilation.\n  - [`cfg_attr`] --- Conditionally includes attributes.\n\n- Testing\n  - [`test`] --- Marks a function as a test.\n  - [`ignore`] --- Disables a test function.\n  - [`should_panic`] --- Indicates a test should generate a panic.\n\n- Derive\n  - [`derive`] --- Automatic trait implementations.\n  - [`automatically_derived`] --- Marker for implementations created by\n    `derive`.\n\n- Macros\n  - [`macro_export`] --- Exports a `macro_rules` macro for cross-crate usage.\n  - [`macro_use`] --- Expands macro visibility, or imports macros from other\n    crates.\n  - [`proc_macro`] --- Defines a function-like macro.\n  - [`proc_macro_derive`] --- Defines a derive macro.\n  - [`proc_macro_attribute`] --- Defines an attribute macro.\n\n- Diagnostics\n  - [`allow`], [`expect`], [`warn`], [`deny`], [`forbid`] --- Alters the default lint level.\n  - [`deprecated`] --- Generates deprecation notices.\n  - [`must_use`] --- Generates a lint for unused values.\n  - [`diagnostic::on_unimplemented`] --- Hints the compiler to emit a certain error\n    message if a trait is not implemented.\n  - [`diagnostic::do_not_recommend`] --- Hints the compiler to not show a certain trait impl in error messages.\n\n- ABI, linking, symbols, and FFI\n  - [`link`] --- Specifies a native library to link with an `extern` block.\n  - [`link_name`] --- Specifies the name of the symbol for functions or statics\n    in an `extern` block.\n  - [`link_ordinal`] --- Specifies the ordinal of the symbol for functions or\n    statics in an `extern` block.\n  - [`no_link`] --- Prevents linking an extern crate.\n  - [`repr`] --- Controls type layout.\n  - [`crate_type`] --- Specifies the type of crate (library, executable, etc.).\n  - [`no_main`] --- Disables emitting the `main` symbol.\n  - [`export_name`] --- Specifies the exported symbol name for a function or\n    static.\n  - [`link_section`] --- Specifies the section of an object file to use for a\n    function or static.\n  - [`no_mangle`] --- Disables symbol name encoding.\n  - [`used`] --- Forces the compiler to keep a static item in the output\n    object file.\n  - [`crate_name`] --- Specifies the crate name.\n\n- Code generation\n  - [`inline`] --- Hint to inline code.\n  - [`cold`] --- Hint that a function is unlikely to be called.\n  - [`naked`] --- Prevent the compiler from emitting a function prologue and epilogue.\n  - [`no_builtins`] --- Disables use of certain built-in functions.\n  - [`target_feature`] --- Configure platform-specific code generation.\n  - [`track_caller`] --- Pass the parent call location to `std::panic::Location::caller()`.\n  - [`instruction_set`] --- Specify the instruction set used to generate a function's code.\n\n- Documentation\n  - `doc` --- Specifies documentation. See [The Rustdoc Book] for more\n    information. [Doc comments] are transformed into `doc` attributes.\n\n- Preludes\n  - [`no_std`] --- Removes std from the prelude.\n  - [`no_implicit_prelude`] --- Disables prelude lookups within a module.\n\n- Modules\n  - [`path`] --- Specifies the filename for a module.\n\n- Limits\n  - [`recursion_limit`] --- Sets the maximum recursion limit for certain\n    compile-time operations.\n  - [`type_length_limit`] --- Sets the maximum size of a polymorphic type.\n\n- Runtime\n  - [`panic_handler`] --- Sets the function to handle panics.\n  - [`global_allocator`] --- Sets the global memory allocator.\n  - [`windows_subsystem`] --- Specifies the windows subsystem to link with.\n\n- Features\n  - `feature` --- Used to enable unstable or experimental compiler features. See\n    [The Unstable Book] for features implemented in `rustc`.\n\n- Type System\n  - [`non_exhaustive`] --- Indicate that a type will have more fields/variants\n    added in future.\n\n- Debugger\n  - [`debugger_visualizer`] --- Embeds a file that specifies debugger output for a type.\n  - [`collapse_debuginfo`] --- Controls how macro invocations are encoded in debuginfo.\n\n[Doc comments]: comments.md#doc-comments\n[ECMA-334]: https://www.ecma-international.org/publications-and-standards/standards/ecma-334/\n[ECMA-335]: https://www.ecma-international.org/publications-and-standards/standards/ecma-335/\n[Expression Attributes]: expressions.md#expression-attributes\n[The Rustdoc Book]: ../rustdoc/the-doc-attribute.html\n[The Unstable Book]: ../unstable-book/index.html\n[`allow`]: attributes/diagnostics.md#lint-check-attributes\n[`automatically_derived`]: attributes/derive.md#the-automatically_derived-attribute\n[`cfg_attr`]: conditional-compilation.md#the-cfg_attr-attribute\n[`cfg`]: conditional-compilation.md#the-cfg-attribute\n[`cold`]: attributes/codegen.md#the-cold-attribute\n[`collapse_debuginfo`]: attributes/debugger.md#the-collapse_debuginfo-attribute\n[`crate_name`]: crates-and-source-files.md#the-crate_name-attribute\n[`crate_type`]: linkage.md\n[`debugger_visualizer`]: attributes/debugger.md#the-debugger_visualizer-attribute\n[`deny`]: attributes/diagnostics.md#lint-check-attributes\n[`deprecated`]: attributes/diagnostics.md#the-deprecated-attribute\n[`derive`]: attributes/derive.md\n[`export_name`]: abi.md#the-export_name-attribute\n[`expect`]: attributes/diagnostics.md#lint-check-attributes\n[`forbid`]: attributes/diagnostics.md#lint-check-attributes\n[`global_allocator`]: runtime.md#the-global_allocator-attribute\n[`ignore`]: attributes/testing.md#the-ignore-attribute\n[`inline`]: attributes/codegen.md#the-inline-attribute\n[`instruction_set`]: attributes/codegen.md#the-instruction_set-attribute\n[`link_name`]: items/external-blocks.md#the-link_name-attribute\n[`link_ordinal`]: items/external-blocks.md#the-link_ordinal-attribute\n[`link_section`]: abi.md#the-link_section-attribute\n[`link`]: items/external-blocks.md#the-link-attribute\n[`macro_export`]: macros-by-example.md#the-macro_export-attribute\n[`macro_use`]: macros-by-example.md#the-macro_use-attribute\n[`must_use`]: attributes/diagnostics.md#the-must_use-attribute\n[`naked`]: attributes/codegen.md#the-naked-attribute\n[`no_builtins`]: attributes/codegen.md#the-no_builtins-attribute\n[`no_implicit_prelude`]: names/preludes.md#the-no_implicit_prelude-attribute\n[`no_link`]: items/extern-crates.md#the-no_link-attribute\n[`no_main`]: crates-and-source-files.md#the-no_main-attribute\n[`no_mangle`]: abi.md#the-no_mangle-attribute\n[`no_std`]: names/preludes.md#the-no_std-attribute\n[`non_exhaustive`]: attributes/type_system.md#the-non_exhaustive-attribute\n[`panic_handler`]: panic.md#the-panic_handler-attribute\n[`path`]: items/modules.md#the-path-attribute\n[`proc_macro_attribute`]: procedural-macros.md#the-proc_macro_attribute-attribute\n[`proc_macro_derive`]: macro.proc.derive\n[`proc_macro`]: procedural-macros.md#the-proc_macro-attribute\n[`recursion_limit`]: attributes/limits.md#the-recursion_limit-attribute\n[`repr`]: type-layout.md#representations\n[`should_panic`]: attributes/testing.md#the-should_panic-attribute\n[`target_feature`]: attributes/codegen.md#the-target_feature-attribute\n[`test`]: attributes/testing.md#the-test-attribute\n[`track_caller`]: attributes/codegen.md#the-track_caller-attribute\n[`type_length_limit`]: attributes/limits.md#the-type_length_limit-attribute\n[`used`]: abi.md#the-used-attribute\n[`warn`]: attributes/diagnostics.md#lint-check-attributes\n[`windows_subsystem`]: runtime.md#the-windows_subsystem-attribute\n[attribute macros]: procedural-macros.md#the-proc_macro_attribute-attribute\n[block expressions]: expressions/block-expr.md\n\n[derive macro helper attributes]: procedural-macros.md#derive-macro-helper-attributes\n[enum]: items/enumerations.md\n[expression statement]: statements.md#expression-statements\n[external blocks]: items/external-blocks.md\n[functions]: items/functions.md\n[generics]: items/generics.md\n[implementations]: items/implementations.md\n[item declarations]: items.md\n[match expressions]: expressions/match-expr.md\n[modules]: items/modules.md\n[statements]: statements.md\n[struct]: items/structs.md\n[tool prelude]: names/preludes.md#tool-prelude\n[union]: items/unions.md\n[closure]: expressions/closure-expr.md\n[function pointer]: types/function-pointer.md\n[variadic functions]: items/external-blocks.html#variadic-functions\n[`diagnostic::on_unimplemented`]: attributes/diagnostics.md#the-diagnosticon_unimplemented-attribute\n[`diagnostic::do_not_recommend`]: attributes/diagnostics.md#the-diagnosticdo_not_recommend-attribute\n[Inline assembly]: inline-assembly.md"
      }
    },
    {
      "id": "attributes.testing",
      "title": "Testing attributes",
      "level": 1,
      "content": "The following [attributes] are used for specifying functions for performing\ntests. Compiling a crate in \"test\" mode enables building the test functions\nalong with a test harness for executing the tests. Enabling the test mode also\nenables the [`test` conditional compilation option].\n\n<!-- template:attributes -->",
      "parent_id": null,
      "paragraphs": {
        "attributes.testing": "The following [attributes] are used for specifying functions for performing\ntests. Compiling a crate in \"test\" mode enables building the test functions\nalong with a test harness for executing the tests. Enabling the test mode also\nenables the [`test` conditional compilation option].\n\n<!-- template:attributes -->"
      }
    },
    {
      "id": "attributes.testing.test",
      "title": "The `test` attribute",
      "level": 1,
      "content": "The *`test` attribute* marks a function to be executed as a test.\n\n> [!EXAMPLE]\n> ```rust,no_run\n> # pub fn add(left: u64, right: u64) -> u64 { left + right }\n> #[test]\n> fn it_works() {\n>     let result = add(2, 2);\n>     assert_eq!(result, 4);\n> }\n> ```\n\nThe `test` attribute uses the [MetaWord] syntax.\n\nThe `test` attribute may only be applied to [free functions] that are monomorphic, that take no arguments, and where the return type implements the [`Termination`] trait.\n\n> [!NOTE]\n> Some of types that implement the [`Termination`] trait include:\n> * `()`\n> * `Result<T, E> where T: Termination, E: Debug`\n\nOnly the first use of `test` on a function has effect.\n\n> [!NOTE]\n> `rustc` lints against any use following the first. This may become an error in the future.\n\n<!-- TODO: This is a minor lie. Currently rustc warns that duplicates are ignored, but it then generates multiple test entries with the same name. I would vote for rejecting this in the future. -->\n\nThe `test` attribute is exported from the standard library prelude as [`std::prelude::v1::test`].\n\nThese functions are only compiled when in test mode.\n\n> [!NOTE]\n> The test mode is enabled by passing the `--test` argument to `rustc` or using `cargo test`.\n\nThe test harness calls the returned value's [`report`] method, and classifies the test as passed or failed depending on whether the resulting [`ExitCode`] represents successful termination.\nIn particular:\n* Tests that return `()` pass as long as they terminate and do not panic.\n* Tests that return a `Result<(), E>` pass as long as they return `Ok(())`.\n* Tests that return `ExitCode::SUCCESS` pass, and tests that return `ExitCode::FAILURE` fail.\n* Tests that do not terminate neither pass nor fail.\n\n> [!EXAMPLE]\n> ```rust,no_run\n> # use std::io;\n> # fn setup_the_thing() -> io::Result<i32> { Ok(1) }\n> # fn do_the_thing(s: &i32) -> io::Result<()> { Ok(()) }\n> #[test]\n> fn test_the_thing() -> io::Result<()> {\n>     let state = setup_the_thing()?; // expected to succeed\n>     do_the_thing(&state)?;          // expected to succeed\n>     Ok(())\n> }\n> ```\n\n<!-- template:attributes -->",
      "parent_id": null,
      "paragraphs": {
        "attributes.testing.test.intro": "The *`test` attribute* marks a function to be executed as a test.\n\n> [!EXAMPLE]\n> ```rust,no_run\n> # pub fn add(left: u64, right: u64) -> u64 { left + right }\n> #[test]\n> fn it_works() {\n>     let result = add(2, 2);\n>     assert_eq!(result, 4);\n> }\n> ```",
        "attributes.testing.test.syntax": "The `test` attribute uses the [MetaWord] syntax.",
        "attributes.testing.test.allowed-positions": "The `test` attribute may only be applied to [free functions] that are monomorphic, that take no arguments, and where the return type implements the [`Termination`] trait.\n\n> [!NOTE]\n> Some of types that implement the [`Termination`] trait include:\n> * `()`\n> * `Result<T, E> where T: Termination, E: Debug`",
        "attributes.testing.test.duplicates": "Only the first use of `test` on a function has effect.\n\n> [!NOTE]\n> `rustc` lints against any use following the first. This may become an error in the future.\n\n<!-- TODO: This is a minor lie. Currently rustc warns that duplicates are ignored, but it then generates multiple test entries with the same name. I would vote for rejecting this in the future. -->",
        "attributes.testing.test.stdlib": "The `test` attribute is exported from the standard library prelude as [`std::prelude::v1::test`].",
        "attributes.testing.test.enabled": "These functions are only compiled when in test mode.\n\n> [!NOTE]\n> The test mode is enabled by passing the `--test` argument to `rustc` or using `cargo test`.",
        "attributes.testing.test.success": "The test harness calls the returned value's [`report`] method, and classifies the test as passed or failed depending on whether the resulting [`ExitCode`] represents successful termination.\nIn particular:\n* Tests that return `()` pass as long as they terminate and do not panic.\n* Tests that return a `Result<(), E>` pass as long as they return `Ok(())`.\n* Tests that return `ExitCode::SUCCESS` pass, and tests that return `ExitCode::FAILURE` fail.\n* Tests that do not terminate neither pass nor fail.\n\n> [!EXAMPLE]\n> ```rust,no_run\n> # use std::io;\n> # fn setup_the_thing() -> io::Result<i32> { Ok(1) }\n> # fn do_the_thing(s: &i32) -> io::Result<()> { Ok(()) }\n> #[test]\n> fn test_the_thing() -> io::Result<()> {\n>     let state = setup_the_thing()?; // expected to succeed\n>     do_the_thing(&state)?;          // expected to succeed\n>     Ok(())\n> }\n> ```\n\n<!-- template:attributes -->"
      }
    },
    {
      "id": "attributes.testing.ignore",
      "title": "The `ignore` attribute",
      "level": 2,
      "content": "The *`ignore` attribute* can be used with the `test` attribute to tell the test harness to not execute that function as a test.\n\n> [!EXAMPLE]\n> ```rust,no_run\n> #[test]\n> #[ignore]\n> fn check_thing() {\n>     // \u2026\n> }\n> ```\n\n> [!NOTE]\n> The `rustc` test harness supports the `--include-ignored` flag to force ignored tests to be run.\n\nThe `ignore` attribute uses the [MetaWord] and [MetaNameValueStr] syntaxes.\n\nThe [MetaNameValueStr] form of the `ignore` attribute provides a way to specify a reason why the test is ignored.\n\n> [!EXAMPLE]\n> ```rust,no_run\n> #[test]\n> #[ignore = \"not yet implemented\"]\n> fn mytest() {\n>     // \u2026\n> }\n> ```\n\nThe `ignore` attribute may only be applied to functions annotated with the `test` attribute.\n\n> [!NOTE]\n> `rustc` ignores use in other positions but lints against it. This may become an error in the future.\n\nOnly the first use of `ignore` on a function has effect.\n\n> [!NOTE]\n> `rustc` lints against any use following the first. This may become an error in the future.\n\nIgnored tests are still compiled when in test mode, but they are not executed.\n\n<!-- template:attributes -->",
      "parent_id": null,
      "paragraphs": {
        "attributes.testing.ignore.intro": "The *`ignore` attribute* can be used with the `test` attribute to tell the test harness to not execute that function as a test.\n\n> [!EXAMPLE]\n> ```rust,no_run\n> #[test]\n> #[ignore]\n> fn check_thing() {\n>     // \u2026\n> }\n> ```\n\n> [!NOTE]\n> The `rustc` test harness supports the `--include-ignored` flag to force ignored tests to be run.",
        "attributes.testing.ignore.syntax": "The `ignore` attribute uses the [MetaWord] and [MetaNameValueStr] syntaxes.",
        "attributes.testing.ignore.reason": "The [MetaNameValueStr] form of the `ignore` attribute provides a way to specify a reason why the test is ignored.\n\n> [!EXAMPLE]\n> ```rust,no_run\n> #[test]\n> #[ignore = \"not yet implemented\"]\n> fn mytest() {\n>     // \u2026\n> }\n> ```",
        "attributes.testing.ignore.allowed-positions": "The `ignore` attribute may only be applied to functions annotated with the `test` attribute.\n\n> [!NOTE]\n> `rustc` ignores use in other positions but lints against it. This may become an error in the future.",
        "attributes.testing.ignore.duplicates": "Only the first use of `ignore` on a function has effect.\n\n> [!NOTE]\n> `rustc` lints against any use following the first. This may become an error in the future.",
        "attributes.testing.ignore.behavior": "Ignored tests are still compiled when in test mode, but they are not executed.\n\n<!-- template:attributes -->"
      }
    },
    {
      "id": "attributes.testing.should_panic",
      "title": "The `should_panic` attribute",
      "level": 2,
      "content": "The *`should_panic` attribute* causes a test to pass only if the test function to which the attribute is applied panics.\n\n> [!EXAMPLE]\n> ```rust,no_run\n> #[test]\n> #[should_panic(expected = \"values don't match\")]\n> fn mytest() {\n>     assert_eq!(1, 2, \"values don't match\");\n> }\n> ```\n\nThe `should_panic` attribute has these forms:\n\n- [MetaWord]\n  > [!EXAMPLE]\n  > ```rust,no_run\n  > #[test]\n  > #[should_panic]\n  > fn mytest() { panic!(\"error: some message, and more\"); }\n  > ```\n\n- [MetaNameValueStr] --- The given string must appear within the panic message for the test to pass.\n  > [!EXAMPLE]\n  > ```rust,no_run\n  > #[test]\n  > #[should_panic = \"some message\"]\n  > fn mytest() { panic!(\"error: some message, and more\"); }\n  > ```\n\n- [MetaListNameValueStr] --- As with the [MetaNameValueStr] syntax, the given string must appear within the panic message.\n  > [!EXAMPLE]\n  > ```rust,no_run\n  > #[test]\n  > #[should_panic(expected = \"some message\")]\n  > fn mytest() { panic!(\"error: some message, and more\"); }\n  > ```\n\nThe `should_panic` attribute may only be applied to functions annotated with the `test` attribute.\n\n> [!NOTE]\n> `rustc` ignores use in other positions but lints against it. This may become an error in the future.\n\nOnly the first use of `should_panic` on a function has effect.\n\n> [!NOTE]\n> `rustc` lints against any use following the first with a future-compatibility warning. This may become an error in the future.\n\nWhen the [MetaNameValueStr] form or the [MetaListNameValueStr] form with the `expected` key is used, the given string must appear somewhere within the panic message for the test to pass.\n\nThe return type of the test function must be `()`.\n\n[`Termination`]: std::process::Termination\n[`report`]: std::process::Termination::report\n[`test` conditional compilation option]: ../conditional-compilation.md#test\n[attributes]: ../attributes.md\n[`ExitCode`]: std::process::ExitCode\n[free functions]: ../glossary.md#free-item",
      "parent_id": null,
      "paragraphs": {
        "attributes.testing.should_panic.intro": "The *`should_panic` attribute* causes a test to pass only if the test function to which the attribute is applied panics.\n\n> [!EXAMPLE]\n> ```rust,no_run\n> #[test]\n> #[should_panic(expected = \"values don't match\")]\n> fn mytest() {\n>     assert_eq!(1, 2, \"values don't match\");\n> }\n> ```",
        "attributes.testing.should_panic.syntax": "The `should_panic` attribute has these forms:\n\n- [MetaWord]\n  > [!EXAMPLE]\n  > ```rust,no_run\n  > #[test]\n  > #[should_panic]\n  > fn mytest() { panic!(\"error: some message, and more\"); }\n  > ```\n\n- [MetaNameValueStr] --- The given string must appear within the panic message for the test to pass.\n  > [!EXAMPLE]\n  > ```rust,no_run\n  > #[test]\n  > #[should_panic = \"some message\"]\n  > fn mytest() { panic!(\"error: some message, and more\"); }\n  > ```\n\n- [MetaListNameValueStr] --- As with the [MetaNameValueStr] syntax, the given string must appear within the panic message.\n  > [!EXAMPLE]\n  > ```rust,no_run\n  > #[test]\n  > #[should_panic(expected = \"some message\")]\n  > fn mytest() { panic!(\"error: some message, and more\"); }\n  > ```",
        "attributes.testing.should_panic.allowed-positions": "The `should_panic` attribute may only be applied to functions annotated with the `test` attribute.\n\n> [!NOTE]\n> `rustc` ignores use in other positions but lints against it. This may become an error in the future.",
        "attributes.testing.should_panic.duplicates": "Only the first use of `should_panic` on a function has effect.\n\n> [!NOTE]\n> `rustc` lints against any use following the first with a future-compatibility warning. This may become an error in the future.",
        "attributes.testing.should_panic.expected": "When the [MetaNameValueStr] form or the [MetaListNameValueStr] form with the `expected` key is used, the given string must appear somewhere within the panic message for the test to pass.",
        "attributes.testing.should_panic.return": "The return type of the test function must be `()`.\n\n[`Termination`]: std::process::Termination\n[`report`]: std::process::Termination::report\n[`test` conditional compilation option]: ../conditional-compilation.md#test\n[attributes]: ../attributes.md\n[`ExitCode`]: std::process::ExitCode\n[free functions]: ../glossary.md#free-item"
      }
    },
    {
      "id": "attributes.derive",
      "title": "Derive",
      "level": 1,
      "content": "The *`derive` attribute* invokes one or more [derive macros], allowing new [items] to be automatically generated for data structures. You can create `derive` macros with [procedural macros].\n\n> [!EXAMPLE]\n> The `PartialEq` derive macro emits an [implementation] of [`PartialEq`] for `Foo<T> where T: PartialEq`. The `Clone` derive macro does likewise for [`Clone`].\n>\n> ```rust\n> #[derive(PartialEq, Clone)]\n> struct Foo<T> {\n>     a: i32,\n>     b: T,\n> }\n> ```\n>\n> The generated `impl` items are equivalent to:\n>\n> ```rust\n> # struct Foo<T> { a: i32, b: T }\n> impl<T: PartialEq> PartialEq for Foo<T> {\n>     fn eq(&self, other: &Foo<T>) -> bool {\n>         self.a == other.a && self.b == other.b\n>     }\n> }\n>\n> impl<T: Clone> Clone for Foo<T> {\n>     fn clone(&self) -> Self {\n>         Foo { a: self.a.clone(), b: self.b.clone() }\n>     }\n> }\n> ```\n\nThe `derive` attribute uses the [MetaListPaths] syntax to specify a list of paths to [derive macros] to invoke.\n\nThe `derive` attribute may only be applied to structs, enums, and unions.\n\nThe `derive` attribute may be used any number of times on an item. All derive macros listed in all attributes are invoked.\n\nThe `derive` attribute is exported in the standard library prelude as [`core::prelude::v1::derive`].\n\nBuilt-in derives are defined in the language prelude. The list of built-in derives are:\n\n- [`Clone`]\n- [`Copy`]\n- [`Debug`]\n- [`Default`]\n- [`Eq`]\n- [`Hash`]\n- [`Ord`]\n- [`PartialEq`]\n- [`PartialOrd`]\n\nThe built-in derives include the `automatically_derived` attribute on the implementations they generate.\n\nDuring macro expansion, for each element in the list of derives, the corresponding derive macro expands to zero or more [items].\n\n<!-- template:attributes -->",
      "parent_id": null,
      "paragraphs": {
        "attributes.derive.intro": "The *`derive` attribute* invokes one or more [derive macros], allowing new [items] to be automatically generated for data structures. You can create `derive` macros with [procedural macros].\n\n> [!EXAMPLE]\n> The `PartialEq` derive macro emits an [implementation] of [`PartialEq`] for `Foo<T> where T: PartialEq`. The `Clone` derive macro does likewise for [`Clone`].\n>\n> ```rust\n> #[derive(PartialEq, Clone)]\n> struct Foo<T> {\n>     a: i32,\n>     b: T,\n> }\n> ```\n>\n> The generated `impl` items are equivalent to:\n>\n> ```rust\n> # struct Foo<T> { a: i32, b: T }\n> impl<T: PartialEq> PartialEq for Foo<T> {\n>     fn eq(&self, other: &Foo<T>) -> bool {\n>         self.a == other.a && self.b == other.b\n>     }\n> }\n>\n> impl<T: Clone> Clone for Foo<T> {\n>     fn clone(&self) -> Self {\n>         Foo { a: self.a.clone(), b: self.b.clone() }\n>     }\n> }\n> ```",
        "attributes.derive.syntax": "The `derive` attribute uses the [MetaListPaths] syntax to specify a list of paths to [derive macros] to invoke.",
        "attributes.derive.allowed-positions": "The `derive` attribute may only be applied to structs, enums, and unions.",
        "attributes.derive.duplicates": "The `derive` attribute may be used any number of times on an item. All derive macros listed in all attributes are invoked.",
        "attributes.derive.stdlib": "The `derive` attribute is exported in the standard library prelude as [`core::prelude::v1::derive`].",
        "attributes.derive.built-in": "Built-in derives are defined in the language prelude. The list of built-in derives are:\n\n- [`Clone`]\n- [`Copy`]\n- [`Debug`]\n- [`Default`]\n- [`Eq`]\n- [`Hash`]\n- [`Ord`]\n- [`PartialEq`]\n- [`PartialOrd`]",
        "attributes.derive.built-in-automatically_derived": "The built-in derives include the `automatically_derived` attribute on the implementations they generate.",
        "attributes.derive.behavior": "During macro expansion, for each element in the list of derives, the corresponding derive macro expands to zero or more [items].\n\n<!-- template:attributes -->"
      }
    },
    {
      "id": "attributes.derive.automatically_derived",
      "title": "The `automatically_derived` attribute",
      "level": 1,
      "content": "The *`automatically_derived` attribute* is used to annotate an [implementation] to indicate that it was automatically created by a [derive macro]. It has no direct effect, but it may be used by tools and diagnostic lints to detect these automatically generated implementations.\n\n> [!EXAMPLE]\n> Given [`#[derive(Clone)]`][macro@Clone] on `struct Example`, the [derive macro] may produce:\n>\n> ```rust\n> # struct Example;\n> #[automatically_derived]\n> impl ::core::clone::Clone for Example {\n>     #[inline]\n>     fn clone(&self) -> Self {\n>         Example\n>     }\n> }\n> ```\n\nThe `automatically_derived` attribute uses the [MetaWord] syntax.\n\nThe `automatically_derived` attribute may only be applied to an [implementation].\n\n> [!NOTE]\n> `rustc` ignores use in other positions but lints against it. This may become an error in the future.\n\nUsing `automatically_derived` more than once on an implementation has the same effect as using it once.\n\n> [!NOTE]\n> `rustc` lints against any use following the first.\n\nThe `automatically_derived` attribute has no behavior.\n\n[items]: ../items.md\n[derive macro]: macro.proc.derive\n[derive macros]: macro.proc.derive\n[implementation]: ../items/implementations.md\n[items]: ../items.md\n[procedural macros]: macro.proc.derive",
      "parent_id": null,
      "paragraphs": {
        "attributes.derive.automatically_derived.intro": "The *`automatically_derived` attribute* is used to annotate an [implementation] to indicate that it was automatically created by a [derive macro]. It has no direct effect, but it may be used by tools and diagnostic lints to detect these automatically generated implementations.\n\n> [!EXAMPLE]\n> Given [`#[derive(Clone)]`][macro@Clone] on `struct Example`, the [derive macro] may produce:\n>\n> ```rust\n> # struct Example;\n> #[automatically_derived]\n> impl ::core::clone::Clone for Example {\n>     #[inline]\n>     fn clone(&self) -> Self {\n>         Example\n>     }\n> }\n> ```",
        "attributes.derive.automatically_derived.syntax": "The `automatically_derived` attribute uses the [MetaWord] syntax.",
        "attributes.derive.automatically_derived.allowed-positions": "The `automatically_derived` attribute may only be applied to an [implementation].\n\n> [!NOTE]\n> `rustc` ignores use in other positions but lints against it. This may become an error in the future.",
        "attributes.derive.automatically_derived.duplicates": "Using `automatically_derived` more than once on an implementation has the same effect as using it once.\n\n> [!NOTE]\n> `rustc` lints against any use following the first.",
        "attributes.derive.automatically_derived.behavior": "The `automatically_derived` attribute has no behavior.\n\n[items]: ../items.md\n[derive macro]: macro.proc.derive\n[derive macros]: macro.proc.derive\n[implementation]: ../items/implementations.md\n[items]: ../items.md\n[procedural macros]: macro.proc.derive"
      }
    },
    {
      "id": "attributes.diagnostics",
      "title": "Diagnostic attributes",
      "level": 1,
      "content": "The following [attributes] are used for controlling or generating diagnostic\nmessages during compilation.",
      "parent_id": null,
      "paragraphs": {
        "attributes.diagnostics": "The following [attributes] are used for controlling or generating diagnostic\nmessages during compilation."
      }
    },
    {
      "id": "attributes.diagnostics.lint",
      "title": "Lint check attributes",
      "level": 1,
      "content": "A lint check names a potentially undesirable coding pattern, such as\nunreachable code or omitted documentation.\n\nThe lint attributes `allow`,\n`expect`, `warn`, `deny`, and `forbid` use the [MetaListPaths] syntax\nto specify a list of lint names to change the lint level for the entity\nto which the attribute applies.\n\nFor any lint check `C`:\n\n* `#[allow(C)]` overrides the check for `C` so that violations will go\n   unreported.\n\n* `#[expect(C)]` indicates that lint `C` is expected to be emitted. The\n  attribute will suppress the emission of `C` or issue a warning, if the\n  expectation is unfulfilled.\n\n* `#[warn(C)]` warns about violations of `C` but continues compilation.\n\n* `#[deny(C)]` signals an error after encountering a violation of `C`,\n\n* `#[forbid(C)]` is the same as `deny(C)`, but also forbids changing the lint\n   level afterwards,\n\n> [!NOTE]\n> The lint checks supported by `rustc` can be found via `rustc -W help`, along with their default settings and are documented in the [rustc book].\n\npub mod m1 {\n    // Missing documentation is ignored here\n    #[allow(missing_docs)]\n    pub fn undocumented_one() -> i32 { 1 }\n\n    // Missing documentation signals a warning here\n    #[warn(missing_docs)]\n    pub fn undocumented_too() -> i32 { 2 }\n\n    // Missing documentation signals an error here\n    #[deny(missing_docs)]\n    pub fn undocumented_end() -> i32 { 3 }\n}\n\nLint attributes can override the level specified from a previous attribute, as\nlong as the level does not attempt to change a forbidden lint\n(except for `deny`, which is allowed inside a `forbid` context, but ignored).\nPrevious attributes are those from a higher level in the syntax tree, or from a\nprevious attribute on the same entity as listed in left-to-right source order.\n\nThis example shows how one can use `allow` and `warn` to toggle a particular\ncheck on and off:\n\n#[warn(missing_docs)]\npub mod m2 {\n    #[allow(missing_docs)]\n    pub mod nested {\n        // Missing documentation is ignored here\n        pub fn undocumented_one() -> i32 { 1 }\n\n        // Missing documentation signals a warning here,\n        // despite the allow above.\n        #[warn(missing_docs)]\n        pub fn undocumented_two() -> i32 { 2 }\n    }\n\n    // Missing documentation signals a warning here\n    pub fn undocumented_too() -> i32 { 3 }\n}\n\nThis example shows how one can use `forbid` to disallow uses of `allow` or\n`expect` for that lint check:\n\n,compile_fail\n#[forbid(missing_docs)]\npub mod m3 {\n    // Attempting to toggle warning signals an error here\n    #[allow(missing_docs)]\n    /// Returns 2.\n    pub fn undocumented_too() -> i32 { 2 }\n}\n\n> [!NOTE]\n> `rustc` allows setting lint levels on the command-line, and also supports setting caps on the lints that are reported.",
      "parent_id": null,
      "paragraphs": {
        "attributes.diagnostics.lint": "A lint check names a potentially undesirable coding pattern, such as\nunreachable code or omitted documentation.",
        "attributes.diagnostics.lint.level": "The lint attributes `allow`,\n`expect`, `warn`, `deny`, and `forbid` use the [MetaListPaths] syntax\nto specify a list of lint names to change the lint level for the entity\nto which the attribute applies.\n\nFor any lint check `C`:",
        "attributes.diagnostics.lint.allow": "* `#[allow(C)]` overrides the check for `C` so that violations will go\n   unreported.",
        "attributes.diagnostics.lint.expect": "* `#[expect(C)]` indicates that lint `C` is expected to be emitted. The\n  attribute will suppress the emission of `C` or issue a warning, if the\n  expectation is unfulfilled.",
        "attributes.diagnostics.lint.warn": "* `#[warn(C)]` warns about violations of `C` but continues compilation.",
        "attributes.diagnostics.lint.deny": "* `#[deny(C)]` signals an error after encountering a violation of `C`,",
        "attributes.diagnostics.lint.forbid": "* `#[forbid(C)]` is the same as `deny(C)`, but also forbids changing the lint\n   level afterwards,\n\n> [!NOTE]\n> The lint checks supported by `rustc` can be found via `rustc -W help`, along with their default settings and are documented in the [rustc book].\n\npub mod m1 {\n    // Missing documentation is ignored here\n    #[allow(missing_docs)]\n    pub fn undocumented_one() -> i32 { 1 }\n\n    // Missing documentation signals a warning here\n    #[warn(missing_docs)]\n    pub fn undocumented_too() -> i32 { 2 }\n\n    // Missing documentation signals an error here\n    #[deny(missing_docs)]\n    pub fn undocumented_end() -> i32 { 3 }\n}",
        "attributes.diagnostics.lint.override": "Lint attributes can override the level specified from a previous attribute, as\nlong as the level does not attempt to change a forbidden lint\n(except for `deny`, which is allowed inside a `forbid` context, but ignored).\nPrevious attributes are those from a higher level in the syntax tree, or from a\nprevious attribute on the same entity as listed in left-to-right source order.\n\nThis example shows how one can use `allow` and `warn` to toggle a particular\ncheck on and off:\n\n#[warn(missing_docs)]\npub mod m2 {\n    #[allow(missing_docs)]\n    pub mod nested {\n        // Missing documentation is ignored here\n        pub fn undocumented_one() -> i32 { 1 }\n\n        // Missing documentation signals a warning here,\n        // despite the allow above.\n        #[warn(missing_docs)]\n        pub fn undocumented_two() -> i32 { 2 }\n    }\n\n    // Missing documentation signals a warning here\n    pub fn undocumented_too() -> i32 { 3 }\n}\n\nThis example shows how one can use `forbid` to disallow uses of `allow` or\n`expect` for that lint check:\n\n,compile_fail\n#[forbid(missing_docs)]\npub mod m3 {\n    // Attempting to toggle warning signals an error here\n    #[allow(missing_docs)]\n    /// Returns 2.\n    pub fn undocumented_too() -> i32 { 2 }\n}\n\n> [!NOTE]\n> `rustc` allows setting lint levels on the command-line, and also supports setting caps on the lints that are reported."
      }
    },
    {
      "id": "attributes.diagnostics.lint.reason",
      "title": "Lint reasons",
      "level": 2,
      "content": "All lint attributes support an additional `reason` parameter, to give context why\na certain attribute was added. This reason will be displayed as part of the lint\nmessage if the lint is emitted at the defined level.\n\n,edition2015,compile_fail\n// `keyword_idents` is allowed by default. Here we deny it to\n// avoid migration of identifiers when we update the edition.\n#![deny(\n    keyword_idents,\n    reason = \"we want to avoid these idents to be future compatible\"\n)]\n\n// This name was allowed in Rust's 2015 edition. We still aim to avoid\n// this to be future compatible and not confuse end users.\nfn dyn() {}\n\nHere is another example, where the lint is allowed with a reason:\n\nuse std::path::PathBuf;\n\npub fn get_path() -> PathBuf {\n    // The `reason` parameter on `allow` attributes acts as documentation for the reader.\n    #[allow(unused_mut, reason = \"this is only modified on some platforms\")]\n    let mut file_name = PathBuf::from(\"git\");\n\n    #[cfg(target_os = \"windows\")]\n    file_name.set_extension(\"exe\");\n\n    file_name\n}",
      "parent_id": null,
      "paragraphs": {
        "attributes.diagnostics.lint.reason": "All lint attributes support an additional `reason` parameter, to give context why\na certain attribute was added. This reason will be displayed as part of the lint\nmessage if the lint is emitted at the defined level.\n\n,edition2015,compile_fail\n// `keyword_idents` is allowed by default. Here we deny it to\n// avoid migration of identifiers when we update the edition.\n#![deny(\n    keyword_idents,\n    reason = \"we want to avoid these idents to be future compatible\"\n)]\n\n// This name was allowed in Rust's 2015 edition. We still aim to avoid\n// this to be future compatible and not confuse end users.\nfn dyn() {}\n\nHere is another example, where the lint is allowed with a reason:\n\nuse std::path::PathBuf;\n\npub fn get_path() -> PathBuf {\n    // The `reason` parameter on `allow` attributes acts as documentation for the reader.\n    #[allow(unused_mut, reason = \"this is only modified on some platforms\")]\n    let mut file_name = PathBuf::from(\"git\");\n\n    #[cfg(target_os = \"windows\")]\n    file_name.set_extension(\"exe\");\n\n    file_name\n}"
      }
    },
    {
      "id": "attributes.diagnostics.expect",
      "title": "The `#[expect]` attribute",
      "level": 3,
      "content": "The `#[expect(C)]` attribute creates a lint expectation for lint `C`. The\nexpectation will be fulfilled, if a `#[warn(C)]` attribute at the same location\nwould result in a lint emission. If the expectation is unfulfilled, because\nlint `C` would not be emitted, the `unfulfilled_lint_expectations` lint will\nbe emitted at the attribute.\n\nfn main() {\n    // This `#[expect]` attribute creates a lint expectation, that the `unused_variables`\n    // lint would be emitted by the following statement. This expectation is\n    // unfulfilled, since the `question` variable is used by the `println!` macro.\n    // Therefore, the `unfulfilled_lint_expectations` lint will be emitted at the\n    // attribute.\n    #[expect(unused_variables)]\n    let question = \"who lives in a pineapple under the sea?\";\n    println!(\"{question}\");\n\n    // This `#[expect]` attribute creates a lint expectation that will be fulfilled, since\n    // the `answer` variable is never used. The `unused_variables` lint, that would usually\n    // be emitted, is suppressed. No warning will be issued for the statement or attribute.\n    #[expect(unused_variables)]\n    let answer = \"SpongeBob SquarePants!\";\n}\n\nThe lint expectation is only fulfilled by lint emissions which have been suppressed by\nthe `expect` attribute. If the lint level is modified in the scope with other level\nattributes like `allow` or `warn`, the lint emission will be handled accordingly and the\nexpectation will remain unfulfilled.\n\n#[expect(unused_variables)]\nfn select_song() {\n    // This will emit the `unused_variables` lint at the warn level\n    // as defined by the `warn` attribute. This will not fulfill the\n    // expectation above the function.\n    #[warn(unused_variables)]\n    let song_name = \"Crab Rave\";\n\n    // The `allow` attribute suppresses the lint emission. This will not\n    // fulfill the expectation as it has been suppressed by the `allow`\n    // attribute and not the `expect` attribute above the function.\n    #[allow(unused_variables)]\n    let song_creator = \"Noisestorm\";\n\n    // This `expect` attribute will suppress the `unused_variables` lint emission\n    // at the variable. The `expect` attribute above the function will still not\n    // be fulfilled, since this lint emission has been suppressed by the local\n    // expect attribute.\n    #[expect(unused_variables)]\n    let song_version = \"Monstercat Release\";\n}\n\nIf the `expect` attribute contains several lints, each one is expected separately. For a\nlint group it's enough if one lint inside the group has been emitted:\n\n// This expectation will be fulfilled by the unused value inside the function\n// since the emitted `unused_variables` lint is inside the `unused` lint group.\n#[expect(unused)]\npub fn thoughts() {\n    let unused = \"I'm running out of examples\";\n}\n\npub fn another_example() {\n    // This attribute creates two lint expectations. The `unused_mut` lint will be\n    // suppressed and with that fulfill the first expectation. The `unused_variables`\n    // wouldn't be emitted, since the variable is used. That expectation will therefore\n    // be unsatisfied, and a warning will be emitted.\n    #[expect(unused_mut, unused_variables)]\n    let mut link = \"https://www.rust-lang.org/\";\n\n    println!(\"Welcome to our community: {link}\");\n}\n\n> [!NOTE]\n> The behavior of `#[expect(unfulfilled_lint_expectations)]` is currently defined to always generate the `unfulfilled_lint_expectations` lint.",
      "parent_id": null,
      "paragraphs": {
        "attributes.diagnostics.expect.intro": "The `#[expect(C)]` attribute creates a lint expectation for lint `C`. The\nexpectation will be fulfilled, if a `#[warn(C)]` attribute at the same location\nwould result in a lint emission. If the expectation is unfulfilled, because\nlint `C` would not be emitted, the `unfulfilled_lint_expectations` lint will\nbe emitted at the attribute.\n\nfn main() {\n    // This `#[expect]` attribute creates a lint expectation, that the `unused_variables`\n    // lint would be emitted by the following statement. This expectation is\n    // unfulfilled, since the `question` variable is used by the `println!` macro.\n    // Therefore, the `unfulfilled_lint_expectations` lint will be emitted at the\n    // attribute.\n    #[expect(unused_variables)]\n    let question = \"who lives in a pineapple under the sea?\";\n    println!(\"{question}\");\n\n    // This `#[expect]` attribute creates a lint expectation that will be fulfilled, since\n    // the `answer` variable is never used. The `unused_variables` lint, that would usually\n    // be emitted, is suppressed. No warning will be issued for the statement or attribute.\n    #[expect(unused_variables)]\n    let answer = \"SpongeBob SquarePants!\";\n}",
        "attributes.diagnostics.expect.fulfillment": "The lint expectation is only fulfilled by lint emissions which have been suppressed by\nthe `expect` attribute. If the lint level is modified in the scope with other level\nattributes like `allow` or `warn`, the lint emission will be handled accordingly and the\nexpectation will remain unfulfilled.\n\n#[expect(unused_variables)]\nfn select_song() {\n    // This will emit the `unused_variables` lint at the warn level\n    // as defined by the `warn` attribute. This will not fulfill the\n    // expectation above the function.\n    #[warn(unused_variables)]\n    let song_name = \"Crab Rave\";\n\n    // The `allow` attribute suppresses the lint emission. This will not\n    // fulfill the expectation as it has been suppressed by the `allow`\n    // attribute and not the `expect` attribute above the function.\n    #[allow(unused_variables)]\n    let song_creator = \"Noisestorm\";\n\n    // This `expect` attribute will suppress the `unused_variables` lint emission\n    // at the variable. The `expect` attribute above the function will still not\n    // be fulfilled, since this lint emission has been suppressed by the local\n    // expect attribute.\n    #[expect(unused_variables)]\n    let song_version = \"Monstercat Release\";\n}",
        "attributes.diagnostics.expect.independent": "If the `expect` attribute contains several lints, each one is expected separately. For a\nlint group it's enough if one lint inside the group has been emitted:\n\n// This expectation will be fulfilled by the unused value inside the function\n// since the emitted `unused_variables` lint is inside the `unused` lint group.\n#[expect(unused)]\npub fn thoughts() {\n    let unused = \"I'm running out of examples\";\n}\n\npub fn another_example() {\n    // This attribute creates two lint expectations. The `unused_mut` lint will be\n    // suppressed and with that fulfill the first expectation. The `unused_variables`\n    // wouldn't be emitted, since the variable is used. That expectation will therefore\n    // be unsatisfied, and a warning will be emitted.\n    #[expect(unused_mut, unused_variables)]\n    let mut link = \"https://www.rust-lang.org/\";\n\n    println!(\"Welcome to our community: {link}\");\n}\n\n> [!NOTE]\n> The behavior of `#[expect(unfulfilled_lint_expectations)]` is currently defined to always generate the `unfulfilled_lint_expectations` lint."
      }
    },
    {
      "id": "attributes.diagnostics.lint.group",
      "title": "Lint groups",
      "level": 3,
      "content": "Lints may be organized into named groups so that the level of related lints\ncan be adjusted together. Using a named group is equivalent to listing out the\nlints within that group.\n\n,compile_fail\n// This allows all lints in the \"unused\" group.\n#[allow(unused)]\n// This overrides the \"unused_must_use\" lint from the \"unused\"\n// group to deny.\n#[deny(unused_must_use)]\nfn example() {\n    // This does not generate a warning because the \"unused_variables\"\n    // lint is in the \"unused\" group.\n    let x = 1;\n    // This generates an error because the result is unused and\n    // \"unused_must_use\" is marked as \"deny\".\n    std::fs::remove_file(\"some_file\"); // ERROR: unused `Result` that must be used\n}\n\nThere is a special group named \"warnings\" which includes all lints at the\n\"warn\" level. The \"warnings\" group ignores attribute order and applies to all\nlints that would otherwise warn within the entity.\n\n,compile_fail\n# unsafe fn an_unsafe_fn() {}\n// The order of these two attributes does not matter.\n#[deny(warnings)]\n// The unsafe_code lint is normally \"allow\" by default.\n#[warn(unsafe_code)]\nfn example_err() {\n    // This is an error because the `unsafe_code` warning has\n    // been lifted to \"deny\".\n    unsafe { an_unsafe_fn() } // ERROR: usage of `unsafe` block\n}",
      "parent_id": null,
      "paragraphs": {
        "attributes.diagnostics.lint.group": "Lints may be organized into named groups so that the level of related lints\ncan be adjusted together. Using a named group is equivalent to listing out the\nlints within that group.\n\n,compile_fail\n// This allows all lints in the \"unused\" group.\n#[allow(unused)]\n// This overrides the \"unused_must_use\" lint from the \"unused\"\n// group to deny.\n#[deny(unused_must_use)]\nfn example() {\n    // This does not generate a warning because the \"unused_variables\"\n    // lint is in the \"unused\" group.\n    let x = 1;\n    // This generates an error because the result is unused and\n    // \"unused_must_use\" is marked as \"deny\".\n    std::fs::remove_file(\"some_file\"); // ERROR: unused `Result` that must be used\n}",
        "attributes.diagnostics.lint.group.warnings": "There is a special group named \"warnings\" which includes all lints at the\n\"warn\" level. The \"warnings\" group ignores attribute order and applies to all\nlints that would otherwise warn within the entity.\n\n,compile_fail\n# unsafe fn an_unsafe_fn() {}\n// The order of these two attributes does not matter.\n#[deny(warnings)]\n// The unsafe_code lint is normally \"allow\" by default.\n#[warn(unsafe_code)]\nfn example_err() {\n    // This is an error because the `unsafe_code` warning has\n    // been lifted to \"deny\".\n    unsafe { an_unsafe_fn() } // ERROR: usage of `unsafe` block\n}"
      }
    },
    {
      "id": "attributes.diagnostics.lint.tool",
      "title": "Tool lint attributes",
      "level": 1,
      "content": "Tool lints allows using scoped lints, to `allow`, `warn`, `deny` or `forbid`\nlints of certain tools.\n\nTool lints only get checked when the associated tool is active. If a lint\nattribute, such as `allow`, references a nonexistent tool lint, the compiler\nwill not warn about the nonexistent lint until you use the tool.\n\nOtherwise, they work just like regular lint attributes:\n\n// set the entire `pedantic` clippy lint group to warn\n#![warn(clippy::pedantic)]\n// silence warnings from the `filter_map` clippy lint\n#![allow(clippy::filter_map)]\n\nfn main() {\n    // ...\n}\n\n// silence the `cmp_nan` clippy lint just for this function\n#[allow(clippy::cmp_nan)]\nfn foo() {\n    // ...\n}\n\n> [!NOTE]\n> `rustc` currently recognizes the tool lints for \"[clippy]\" and \"[rustdoc]\".",
      "parent_id": null,
      "paragraphs": {
        "attributes.diagnostics.lint.tool.intro": "Tool lints allows using scoped lints, to `allow`, `warn`, `deny` or `forbid`\nlints of certain tools.",
        "attributes.diagnostics.lint.tool.activation": "Tool lints only get checked when the associated tool is active. If a lint\nattribute, such as `allow`, references a nonexistent tool lint, the compiler\nwill not warn about the nonexistent lint until you use the tool.\n\nOtherwise, they work just like regular lint attributes:\n\n// set the entire `pedantic` clippy lint group to warn\n#![warn(clippy::pedantic)]\n// silence warnings from the `filter_map` clippy lint\n#![allow(clippy::filter_map)]\n\nfn main() {\n    // ...\n}\n\n// silence the `cmp_nan` clippy lint just for this function\n#[allow(clippy::cmp_nan)]\nfn foo() {\n    // ...\n}\n\n> [!NOTE]\n> `rustc` currently recognizes the tool lints for \"[clippy]\" and \"[rustdoc]\"."
      }
    },
    {
      "id": "attributes.diagnostics.deprecated",
      "title": "The `deprecated` attribute",
      "level": 3,
      "content": "The *`deprecated` attribute* marks an item as deprecated. `rustc` will issue\nwarnings on usage of `#[deprecated]` items. `rustdoc` will show item\ndeprecation, including the `since` version and `note`, if available.\n\nThe `deprecated` attribute has several forms:\n\n- `deprecated` --- Issues a generic message.\n- `deprecated = \"message\"` --- Includes the given string in the deprecation\n  message.\n- [MetaListNameValueStr] syntax with two optional fields:\n  - `since` --- Specifies a version number when the item was deprecated. `rustc`\n    does not currently interpret the string, but external tools like [Clippy]\n    may check the validity of the value.\n  - `note` --- Specifies a string that should be included in the deprecation\n    message. This is typically used to provide an explanation about the\n    deprecation and preferred alternatives.\n\nThe `deprecated` attribute may be applied to any [item], [trait item], [enum\nvariant], [struct field], [external block item], or [macro definition]. It\ncannot be applied to trait implementation items. When applied to an item\ncontaining other items, such as a [module] or [implementation], all child\nitems inherit the deprecation attribute.\n<!-- NOTE: It is only rejected for trait impl items\n(AnnotationKind::Prohibited). In all other locations, it is silently ignored.\nTuple struct fields are ignored.\n-->\n\nHere is an example:\n\n#[deprecated(since = \"5.2.0\", note = \"foo was rarely used. Users should instead use bar\")]\npub fn foo() {}\n\npub fn bar() {}\n\nThe RFC contains motivations and more details.\n\n[1270-deprecation.md]: https://github.com/rust-lang/rfcs/blob/master/text/1270-deprecation.md",
      "parent_id": null,
      "paragraphs": {
        "attributes.diagnostics.deprecated.intro": "The *`deprecated` attribute* marks an item as deprecated. `rustc` will issue\nwarnings on usage of `#[deprecated]` items. `rustdoc` will show item\ndeprecation, including the `since` version and `note`, if available.",
        "attributes.diagnostics.deprecated.syntax": "The `deprecated` attribute has several forms:\n\n- `deprecated` --- Issues a generic message.\n- `deprecated = \"message\"` --- Includes the given string in the deprecation\n  message.\n- [MetaListNameValueStr] syntax with two optional fields:\n  - `since` --- Specifies a version number when the item was deprecated. `rustc`\n    does not currently interpret the string, but external tools like [Clippy]\n    may check the validity of the value.\n  - `note` --- Specifies a string that should be included in the deprecation\n    message. This is typically used to provide an explanation about the\n    deprecation and preferred alternatives.",
        "attributes.diagnostic.deprecated.allowed-positions": "The `deprecated` attribute may be applied to any [item], [trait item], [enum\nvariant], [struct field], [external block item], or [macro definition]. It\ncannot be applied to trait implementation items. When applied to an item\ncontaining other items, such as a [module] or [implementation], all child\nitems inherit the deprecation attribute.\n<!-- NOTE: It is only rejected for trait impl items\n(AnnotationKind::Prohibited). In all other locations, it is silently ignored.\nTuple struct fields are ignored.\n-->\n\nHere is an example:\n\n#[deprecated(since = \"5.2.0\", note = \"foo was rarely used. Users should instead use bar\")]\npub fn foo() {}\n\npub fn bar() {}\n\nThe RFC contains motivations and more details.\n\n[1270-deprecation.md]: https://github.com/rust-lang/rfcs/blob/master/text/1270-deprecation.md"
      }
    },
    {
      "id": "attributes.diagnostics.must_use",
      "title": "The `must_use` attribute",
      "level": 2,
      "content": "The *`must_use` attribute* is used to issue a diagnostic warning when a value\nis not \"used\".\n\nThe `must_use` attribute can be applied to user-defined composite types\n(`struct`s, `enum`s, and `union`s), [functions],\nand [traits].\n\nThe `must_use` attribute may include a message by using the\n[MetaNameValueStr] syntax such as `#[must_use = \"example message\"]`. The\nmessage will be given alongside the warning.\n\nWhen used on user-defined composite types, if the [expression] of an\n[expression statement] has that type, then the `unused_must_use` lint is\nviolated.\n\n#[must_use]\nstruct MustUse {\n    // some fields\n}\n\n# impl MustUse {\n#   fn new() -> MustUse { MustUse {} }\n# }\n#\n// Violates the `unused_must_use` lint.\nMustUse::new();\n\nWhen used on a function, if the [expression] of an [expression statement] is a\n[call expression] to that function, then the `unused_must_use` lint is\nviolated.\n\n#[must_use]\nfn five() -> i32 { 5i32 }\n\n// Violates the unused_must_use lint.\nfive();\n\nWhen used on a [trait declaration], a [call expression] of an [expression\nstatement] to a function that returns an [impl trait] or a [dyn trait] of that trait violates\nthe `unused_must_use` lint.\n\n#[must_use]\ntrait Critical {}\nimpl Critical for i32 {}\n\nfn get_critical() -> impl Critical {\n    4i32\n}\n\n// Violates the `unused_must_use` lint.\nget_critical();\n\nWhen used on a function in a trait declaration, then the behavior also applies\nwhen the call expression is a function from an implementation of the trait.\n\ntrait Trait {\n    #[must_use]\n    fn use_me(&self) -> i32;\n}\n\nimpl Trait for i32 {\n    fn use_me(&self) -> i32 { 0i32 }\n}\n\n// Violates the `unused_must_use` lint.\n5i32.use_me();\n\nWhen used on a function in a trait implementation, the attribute does nothing.\n\n> [!NOTE]\n> Trivial no-op expressions containing the value will not violate the lint. Examples include wrapping the value in a type that does not implement [`Drop`] and then not using that type and being the final expression of a [block expression] that is not used.\n>\n> ```rust\n> #[must_use]\n> fn five() -> i32 { 5i32 }\n>\n> // None of these violate the unused_must_use lint.\n> (five(),);\n> Some(five());\n> { five() };\n> if true { five() } else { 0i32 };\n> match true {\n>     _ => five()\n> };\n> ```\n\n> [!NOTE]\n> It is idiomatic to use a [let statement] with a pattern of `_` when a must-used value is purposely discarded.\n>\n> ```rust\n> #[must_use]\n> fn five() -> i32 { 5i32 }\n>\n> // Does not violate the unused_must_use lint.\n> let _ = five();\n> ```",
      "parent_id": null,
      "paragraphs": {
        "attributes.diagnostics.must_use.intro": "The *`must_use` attribute* is used to issue a diagnostic warning when a value\nis not \"used\".",
        "attributes.diagnostics.must_use.allowed-positions": "The `must_use` attribute can be applied to user-defined composite types\n(`struct`s, `enum`s, and `union`s), [functions],\nand [traits].",
        "attributes.diagnostics.must_use.message": "The `must_use` attribute may include a message by using the\n[MetaNameValueStr] syntax such as `#[must_use = \"example message\"]`. The\nmessage will be given alongside the warning.",
        "attributes.diagnostics.must_use.type": "When used on user-defined composite types, if the [expression] of an\n[expression statement] has that type, then the `unused_must_use` lint is\nviolated.\n\n#[must_use]\nstruct MustUse {\n    // some fields\n}\n\n# impl MustUse {\n#   fn new() -> MustUse { MustUse {} }\n# }\n#\n// Violates the `unused_must_use` lint.\nMustUse::new();",
        "attributes.diagnostics.must_use.fn": "When used on a function, if the [expression] of an [expression statement] is a\n[call expression] to that function, then the `unused_must_use` lint is\nviolated.\n\n#[must_use]\nfn five() -> i32 { 5i32 }\n\n// Violates the unused_must_use lint.\nfive();",
        "attributes.diagnostics.must_use.trait": "When used on a [trait declaration], a [call expression] of an [expression\nstatement] to a function that returns an [impl trait] or a [dyn trait] of that trait violates\nthe `unused_must_use` lint.\n\n#[must_use]\ntrait Critical {}\nimpl Critical for i32 {}\n\nfn get_critical() -> impl Critical {\n    4i32\n}\n\n// Violates the `unused_must_use` lint.\nget_critical();",
        "attributes.diagnostics.must_use.trait-function": "When used on a function in a trait declaration, then the behavior also applies\nwhen the call expression is a function from an implementation of the trait.\n\ntrait Trait {\n    #[must_use]\n    fn use_me(&self) -> i32;\n}\n\nimpl Trait for i32 {\n    fn use_me(&self) -> i32 { 0i32 }\n}\n\n// Violates the `unused_must_use` lint.\n5i32.use_me();",
        "attributes.diagnostics.must_use.trait-impl-function": "When used on a function in a trait implementation, the attribute does nothing.\n\n> [!NOTE]\n> Trivial no-op expressions containing the value will not violate the lint. Examples include wrapping the value in a type that does not implement [`Drop`] and then not using that type and being the final expression of a [block expression] that is not used.\n>\n> ```rust\n> #[must_use]\n> fn five() -> i32 { 5i32 }\n>\n> // None of these violate the unused_must_use lint.\n> (five(),);\n> Some(five());\n> { five() };\n> if true { five() } else { 0i32 };\n> match true {\n>     _ => five()\n> };\n> ```\n\n> [!NOTE]\n> It is idiomatic to use a [let statement] with a pattern of `_` when a must-used value is purposely discarded.\n>\n> ```rust\n> #[must_use]\n> fn five() -> i32 { 5i32 }\n>\n> // Does not violate the unused_must_use lint.\n> let _ = five();\n> ```"
      }
    },
    {
      "id": "attributes.diagnostic.namespace",
      "title": "The `diagnostic` tool attribute namespace",
      "level": 1,
      "content": "The `#[diagnostic]` attribute namespace is a home for attributes to influence compile-time error messages.\nThe hints provided by these attributes are not guaranteed to be used.\n\nUnknown attributes in this namespace are accepted, though they may emit warnings for unused attributes.\nAdditionally, invalid inputs to known attributes will typically be a warning (see the attribute definitions for details).\nThis is meant to allow adding or discarding attributes and changing inputs in the future to allow changes without the need to keep the non-meaningful attributes or options working.",
      "parent_id": null,
      "paragraphs": {
        "attributes.diagnostic.namespace.intro": "The `#[diagnostic]` attribute namespace is a home for attributes to influence compile-time error messages.\nThe hints provided by these attributes are not guaranteed to be used.",
        "attributes.diagnostic.namespace.unknown-invalid-syntax": "Unknown attributes in this namespace are accepted, though they may emit warnings for unused attributes.\nAdditionally, invalid inputs to known attributes will typically be a warning (see the attribute definitions for details).\nThis is meant to allow adding or discarding attributes and changing inputs in the future to allow changes without the need to keep the non-meaningful attributes or options working."
      }
    },
    {
      "id": "attributes.diagnostic.on_unimplemented",
      "title": "The `diagnostic::on_unimplemented` attribute",
      "level": 2,
      "content": "The `#[diagnostic::on_unimplemented]` attribute is a hint to the compiler to supplement the error message that would normally be generated in scenarios where a trait is required but not implemented on a type.\n\nThe attribute should be placed on a [trait declaration], though it is not an error to be located in other positions.\n\nThe attribute uses the [MetaListNameValueStr] syntax to specify its inputs, though any malformed input to the attribute is not considered as an error to provide both forwards and backwards compatibility.\n\nThe following keys have the given meaning:\n* `message` --- The text for the top level error message.\n* `label` --- The text for the label shown inline in the broken code in the error message.\n* `note` --- Provides additional notes.\n\nThe `note` option can appear several times, which results in several note messages being emitted.\n\nIf any of the other options appears several times the first occurrence of the relevant option specifies the actually used value. Subsequent occurrences generates a warning.\n\nA warning is generated for any unknown keys.\n\nAll three options accept a string as an argument, interpreted using the same formatting as a [`std::fmt`] string.\n\nFormat parameters with the given named parameter will be replaced with the following text:\n* `{Self}` --- The name of the type implementing the trait.\n* `{` *GenericParameterName* `}` --- The name of the generic argument's type for the given generic parameter.\n\nAny other format parameter will generate a warning, but will otherwise be included in the string as-is.\n\nInvalid format strings may generate a warning, but are otherwise allowed, but may not display as intended.\nFormat specifiers may generate a warning, but are otherwise ignored.\n\nIn this example:\n\n,compile_fail,E0277\n#[diagnostic::on_unimplemented(\n    message = \"My Message for `ImportantTrait<{A}>` implemented for `{Self}`\",\n    label = \"My Label\",\n    note = \"Note 1\",\n    note = \"Note 2\"\n)]\ntrait ImportantTrait<A> {}\n\nfn use_my_trait(_: impl ImportantTrait<i32>) {}\n\nfn main() {\n    use_my_trait(String::new());\n}\n\nthe compiler may generate an error message which looks like this:\n\nerror[E0277]: My Message for `ImportantTrait<i32>` implemented for `String`\n  --> src/main.rs:14:18\n   |\n14 |     use_my_trait(String::new());\n   |     ------------ ^^^^^^^^^^^^^ My Label\n   |     |\n   |     required by a bound introduced by this call\n   |\n   = help: the trait `ImportantTrait<i32>` is not implemented for `String`\n   = note: Note 1\n   = note: Note 2",
      "parent_id": null,
      "paragraphs": {
        "attributes.diagnostic.on_unimplemented.intro": "The `#[diagnostic::on_unimplemented]` attribute is a hint to the compiler to supplement the error message that would normally be generated in scenarios where a trait is required but not implemented on a type.",
        "attributes.diagnostic.on_unimplemented.allowed-positions": "The attribute should be placed on a [trait declaration], though it is not an error to be located in other positions.",
        "attributes.diagnostic.on_unimplemented.syntax": "The attribute uses the [MetaListNameValueStr] syntax to specify its inputs, though any malformed input to the attribute is not considered as an error to provide both forwards and backwards compatibility.",
        "attributes.diagnostic.on_unimplemented.keys": "The following keys have the given meaning:\n* `message` --- The text for the top level error message.\n* `label` --- The text for the label shown inline in the broken code in the error message.\n* `note` --- Provides additional notes.",
        "attributes.diagnostic.on_unimplemented.note-repetition": "The `note` option can appear several times, which results in several note messages being emitted.",
        "attributes.diagnostic.on_unimplemented.repetition": "If any of the other options appears several times the first occurrence of the relevant option specifies the actually used value. Subsequent occurrences generates a warning.",
        "attributes.diagnostic.on_unimplemented.unknown-keys": "A warning is generated for any unknown keys.",
        "attributes.diagnostic.on_unimplemented.format-string": "All three options accept a string as an argument, interpreted using the same formatting as a [`std::fmt`] string.",
        "attributes.diagnostic.on_unimplemented.format-parameters": "Format parameters with the given named parameter will be replaced with the following text:\n* `{Self}` --- The name of the type implementing the trait.\n* `{` *GenericParameterName* `}` --- The name of the generic argument's type for the given generic parameter.",
        "attributes.diagnostic.on_unimplemented.invalid-formats": "Any other format parameter will generate a warning, but will otherwise be included in the string as-is.",
        "attributes.diagnostic.on_unimplemented.invalid-string": "Invalid format strings may generate a warning, but are otherwise allowed, but may not display as intended.\nFormat specifiers may generate a warning, but are otherwise ignored.\n\nIn this example:\n\n,compile_fail,E0277\n#[diagnostic::on_unimplemented(\n    message = \"My Message for `ImportantTrait<{A}>` implemented for `{Self}`\",\n    label = \"My Label\",\n    note = \"Note 1\",\n    note = \"Note 2\"\n)]\ntrait ImportantTrait<A> {}\n\nfn use_my_trait(_: impl ImportantTrait<i32>) {}\n\nfn main() {\n    use_my_trait(String::new());\n}\n\nthe compiler may generate an error message which looks like this:\n\nerror[E0277]: My Message for `ImportantTrait<i32>` implemented for `String`\n  --> src/main.rs:14:18\n   |\n14 |     use_my_trait(String::new());\n   |     ------------ ^^^^^^^^^^^^^ My Label\n   |     |\n   |     required by a bound introduced by this call\n   |\n   = help: the trait `ImportantTrait<i32>` is not implemented for `String`\n   = note: Note 1\n   = note: Note 2"
      }
    },
    {
      "id": "attributes.diagnostic.do_not_recommend",
      "title": "The `diagnostic::do_not_recommend` attribute",
      "level": 3,
      "content": "The `#[diagnostic::do_not_recommend]` attribute is a hint to the compiler to not show the annotated trait implementation as part of a diagnostic message.\n\n> [!NOTE]\n> Suppressing the recommendation can be useful if you know that the recommendation would normally not be useful to the programmer. This often occurs with broad, blanket impls. The recommendation may send the programmer down the wrong path, or the trait implementation may be an internal detail that you don't want to expose, or the bounds may not be able to be satisfied by the programmer.\n>\n> For example, in an error message about a type not implementing a required trait, the compiler may find a trait implementation that would satisfy the requirements if it weren't for specific bounds in the trait implementation. The compiler may tell the user that there is an impl, but the problem is the bounds in the trait implementation. The `#[diagnostic::do_not_recommend]` attribute can be used to tell the compiler to *not* tell the user about the trait implementation, and instead simply tell the user the type doesn't implement the required trait.\n\nThe attribute should be placed on a trait implementation item, though it is not an error to be located in other positions.\n\nThe attribute does not accept any arguments, though unexpected arguments are not considered as an error.\n\nIn the following example, there is a trait called `AsExpression` which is used for casting arbitrary types to the `Expression` type used in an SQL library. There is a method called `check` which takes an `AsExpression`.\n\n,compile_fail,E0277\n# pub trait Expression {\n#     type SqlType;\n# }\n#\n# pub trait AsExpression<ST> {\n#     type Expression: Expression<SqlType = ST>;\n# }\n#\n# pub struct Text;\n# pub struct Integer;\n#\n# pub struct Bound<T>(T);\n# pub struct SelectInt;\n#\n# impl Expression for SelectInt {\n#     type SqlType = Integer;\n# }\n#\n# impl<T> Expression for Bound<T> {\n#     type SqlType = T;\n# }\n#\n# impl AsExpression<Integer> for i32 {\n#     type Expression = Bound<Integer>;\n# }\n#\n# impl AsExpression<Text> for &'_ str {\n#     type Expression = Bound<Text>;\n# }\n#\n# impl<T> Foo for T where T: Expression {}\n\n// Uncomment this line to change the recommendation.\n// #[diagnostic::do_not_recommend]\nimpl<T, ST> AsExpression<ST> for T\nwhere\n    T: Expression<SqlType = ST>,\n{\n    type Expression = T;\n}\n\ntrait Foo: Expression + Sized {\n    fn check<T>(&self, _: T) -> <T as AsExpression<<Self as Expression>::SqlType>>::Expression\n    where\n        T: AsExpression<Self::SqlType>,\n    {\n        todo!()\n    }\n}\n\nfn main() {\n    SelectInt.check(\"bar\");\n}\n\nThe `SelectInt` type's `check` method is expecting an `Integer` type. Calling it with an i32 type works, as it gets converted to an `Integer` by the `AsExpression` trait. However, calling it with a string does not, and generates a an error that may look like this:\n\nerror[E0277]: the trait bound `&str: Expression` is not satisfied\n  --> src/main.rs:53:15\n   |\n53 |     SelectInt.check(\"bar\");\n   |               ^^^^^ the trait `Expression` is not implemented for `&str`\n   |\n   = help: the following other types implement trait `Expression`:\n             Bound<T>\n             SelectInt\nnote: required for `&str` to implement `AsExpression<Integer>`\n  --> src/main.rs:45:13\n   |\n45 | impl<T, ST> AsExpression<ST> for T\n   |             ^^^^^^^^^^^^^^^^     ^\n46 | where\n47 |     T: Expression<SqlType = ST>,\n   |        ------------------------ unsatisfied trait bound introduced here\n\nBy adding the `#[diagnostic::do_not_recommend]` attribute to the blanket `impl` for `AsExpression`, the message changes to:\n\nerror[E0277]: the trait bound `&str: AsExpression<Integer>` is not satisfied\n  --> src/main.rs:53:15\n   |\n53 |     SelectInt.check(\"bar\");\n   |               ^^^^^ the trait `AsExpression<Integer>` is not implemented for `&str`\n   |\n   = help: the trait `AsExpression<Integer>` is not implemented for `&str`\n           but trait `AsExpression<Text>` is implemented for it\n   = help: for that trait implementation, expected `Text`, found `Integer`\n\nThe first error message includes a somewhat confusing error message about the relationship of `&str` and `Expression`, as well as the unsatisfied trait bound in the blanket impl. After adding `#[diagnostic::do_not_recommend]`, it no longer considers the blanket impl for the recommendation. The message should be a little clearer, with an indication that a string cannot be converted to an `Integer`.\n\n[Clippy]: https://github.com/rust-lang/rust-clippy\n[`Drop`]: ../special-types-and-traits.md#drop\n[attributes]: ../attributes.md\n[block expression]: ../expressions/block-expr.md\n[call expression]: ../expressions/call-expr.md\n[dyn trait]: ../types/trait-object.md\n[enum variant]: ../items/enumerations.md\n[enum]: ../items/enumerations.md\n[expression statement]: ../statements.md#expression-statements\n[expression]: ../expressions.md\n[external block item]: ../items/external-blocks.md\n[functions]: ../items/functions.md\n[impl trait]: ../types/impl-trait.md\n[implementation]: ../items/implementations.md\n[item]: ../items.md\n[let statement]: ../statements.md#let-statements\n[macro definition]: ../macros-by-example.md\n[module]: ../items/modules.md\n[rustc book]: ../../rustc/lints/index.html\n[rustc-lint-caps]: ../../rustc/lints/levels.html#capping-lints\n[rustc-lint-cli]: ../../rustc/lints/levels.html#via-compiler-flag\n[rustdoc]: ../../rustdoc/lints.html\n[struct field]: ../items/structs.md\n[struct]: ../items/structs.md\n[trait declaration]: ../items/traits.md\n[trait item]: ../items/traits.md\n[trait-impl]: ../items/implementations.md#trait-implementations\n[traits]: ../items/traits.md\n[union]: ../items/unions.md",
      "parent_id": null,
      "paragraphs": {
        "attributes.diagnostic.do_not_recommend.intro": "The `#[diagnostic::do_not_recommend]` attribute is a hint to the compiler to not show the annotated trait implementation as part of a diagnostic message.\n\n> [!NOTE]\n> Suppressing the recommendation can be useful if you know that the recommendation would normally not be useful to the programmer. This often occurs with broad, blanket impls. The recommendation may send the programmer down the wrong path, or the trait implementation may be an internal detail that you don't want to expose, or the bounds may not be able to be satisfied by the programmer.\n>\n> For example, in an error message about a type not implementing a required trait, the compiler may find a trait implementation that would satisfy the requirements if it weren't for specific bounds in the trait implementation. The compiler may tell the user that there is an impl, but the problem is the bounds in the trait implementation. The `#[diagnostic::do_not_recommend]` attribute can be used to tell the compiler to *not* tell the user about the trait implementation, and instead simply tell the user the type doesn't implement the required trait.",
        "attributes.diagnostic.do_not_recommend.allowed-positions": "The attribute should be placed on a trait implementation item, though it is not an error to be located in other positions.",
        "attributes.diagnostic.do_not_recommend.syntax": "The attribute does not accept any arguments, though unexpected arguments are not considered as an error.\n\nIn the following example, there is a trait called `AsExpression` which is used for casting arbitrary types to the `Expression` type used in an SQL library. There is a method called `check` which takes an `AsExpression`.\n\n,compile_fail,E0277\n# pub trait Expression {\n#     type SqlType;\n# }\n#\n# pub trait AsExpression<ST> {\n#     type Expression: Expression<SqlType = ST>;\n# }\n#\n# pub struct Text;\n# pub struct Integer;\n#\n# pub struct Bound<T>(T);\n# pub struct SelectInt;\n#\n# impl Expression for SelectInt {\n#     type SqlType = Integer;\n# }\n#\n# impl<T> Expression for Bound<T> {\n#     type SqlType = T;\n# }\n#\n# impl AsExpression<Integer> for i32 {\n#     type Expression = Bound<Integer>;\n# }\n#\n# impl AsExpression<Text> for &'_ str {\n#     type Expression = Bound<Text>;\n# }\n#\n# impl<T> Foo for T where T: Expression {}\n\n// Uncomment this line to change the recommendation.\n// #[diagnostic::do_not_recommend]\nimpl<T, ST> AsExpression<ST> for T\nwhere\n    T: Expression<SqlType = ST>,\n{\n    type Expression = T;\n}\n\ntrait Foo: Expression + Sized {\n    fn check<T>(&self, _: T) -> <T as AsExpression<<Self as Expression>::SqlType>>::Expression\n    where\n        T: AsExpression<Self::SqlType>,\n    {\n        todo!()\n    }\n}\n\nfn main() {\n    SelectInt.check(\"bar\");\n}\n\nThe `SelectInt` type's `check` method is expecting an `Integer` type. Calling it with an i32 type works, as it gets converted to an `Integer` by the `AsExpression` trait. However, calling it with a string does not, and generates a an error that may look like this:\n\nerror[E0277]: the trait bound `&str: Expression` is not satisfied\n  --> src/main.rs:53:15\n   |\n53 |     SelectInt.check(\"bar\");\n   |               ^^^^^ the trait `Expression` is not implemented for `&str`\n   |\n   = help: the following other types implement trait `Expression`:\n             Bound<T>\n             SelectInt\nnote: required for `&str` to implement `AsExpression<Integer>`\n  --> src/main.rs:45:13\n   |\n45 | impl<T, ST> AsExpression<ST> for T\n   |             ^^^^^^^^^^^^^^^^     ^\n46 | where\n47 |     T: Expression<SqlType = ST>,\n   |        ------------------------ unsatisfied trait bound introduced here\n\nBy adding the `#[diagnostic::do_not_recommend]` attribute to the blanket `impl` for `AsExpression`, the message changes to:\n\nerror[E0277]: the trait bound `&str: AsExpression<Integer>` is not satisfied\n  --> src/main.rs:53:15\n   |\n53 |     SelectInt.check(\"bar\");\n   |               ^^^^^ the trait `AsExpression<Integer>` is not implemented for `&str`\n   |\n   = help: the trait `AsExpression<Integer>` is not implemented for `&str`\n           but trait `AsExpression<Text>` is implemented for it\n   = help: for that trait implementation, expected `Text`, found `Integer`\n\nThe first error message includes a somewhat confusing error message about the relationship of `&str` and `Expression`, as well as the unsatisfied trait bound in the blanket impl. After adding `#[diagnostic::do_not_recommend]`, it no longer considers the blanket impl for the recommendation. The message should be a little clearer, with an indication that a string cannot be converted to an `Integer`.\n\n[Clippy]: https://github.com/rust-lang/rust-clippy\n[`Drop`]: ../special-types-and-traits.md#drop\n[attributes]: ../attributes.md\n[block expression]: ../expressions/block-expr.md\n[call expression]: ../expressions/call-expr.md\n[dyn trait]: ../types/trait-object.md\n[enum variant]: ../items/enumerations.md\n[enum]: ../items/enumerations.md\n[expression statement]: ../statements.md#expression-statements\n[expression]: ../expressions.md\n[external block item]: ../items/external-blocks.md\n[functions]: ../items/functions.md\n[impl trait]: ../types/impl-trait.md\n[implementation]: ../items/implementations.md\n[item]: ../items.md\n[let statement]: ../statements.md#let-statements\n[macro definition]: ../macros-by-example.md\n[module]: ../items/modules.md\n[rustc book]: ../../rustc/lints/index.html\n[rustc-lint-caps]: ../../rustc/lints/levels.html#capping-lints\n[rustc-lint-cli]: ../../rustc/lints/levels.html#via-compiler-flag\n[rustdoc]: ../../rustdoc/lints.html\n[struct field]: ../items/structs.md\n[struct]: ../items/structs.md\n[trait declaration]: ../items/traits.md\n[trait item]: ../items/traits.md\n[trait-impl]: ../items/implementations.md#trait-implementations\n[traits]: ../items/traits.md\n[union]: ../items/unions.md"
      }
    },
    {
      "id": "attributes.codegen",
      "title": "Code generation attributes",
      "level": 1,
      "content": "The following [attributes] are used for controlling code generation.\n\n<!-- template:attributes -->",
      "parent_id": null,
      "paragraphs": {
        "attributes.codegen": "The following [attributes] are used for controlling code generation.\n\n<!-- template:attributes -->"
      }
    },
    {
      "id": "attributes.codegen.inline",
      "title": "The `inline` attribute",
      "level": 1,
      "content": "The *`inline` [attribute]* suggests whether a copy of the attributed function's code should be placed in the caller rather than generating a call to the function.\n\n> [!EXAMPLE]\n> ```rust\n> #[inline]\n> pub fn example1() {}\n>\n> #[inline(always)]\n> pub fn example2() {}\n>\n> #[inline(never)]\n> pub fn example3() {}\n> ```\n\n> [!NOTE]\n> `rustc` automatically inlines functions when doing so seems worthwhile. Use this attribute carefully as poor decisions about what to inline can slow down programs.\n\nThe syntax for the `inline` attribute is:\n\n,attributes\n@root InlineAttribute ->\n      `inline` `(` `always` `)`\n    | `inline` `(` `never` `)`\n    | `inline`\n\nThe `inline` attribute may only be applied to functions with [bodies] --- [closures], [async blocks], [free functions], [associated functions] in an [inherent impl] or [trait impl], and associated functions in a [trait definition] when those functions have a [default definition] .\n\n> [!NOTE]\n> `rustc` ignores use in other positions but lints against it. This may become an error in the future.\n\n> [!NOTE]\n> Though the attribute can be applied to [closures] and [async blocks], the usefulness of this is limited as we do not yet support attributes on expressions.\n>\n> ```rust\n> // We allow attributes on statements.\n> #[inline] || (); // OK\n> #[inline] async {}; // OK\n> ```\n>\n> ```rust,compile_fail,E0658\n> // We don't yet allow attributes on expressions.\n> let f = #[inline] || (); // ERROR\n> ```\n\nOnly the first use of `inline` on a function has effect.\n\n> [!NOTE]\n> `rustc` lints against any use following the first. This may become an error in the future.\n\nThe `inline` attribute supports these modes:\n\n- `#[inline]` *suggests* performing inline expansion.\n- `#[inline(always)]` *suggests* that inline expansion should always be performed.\n- `#[inline(never)]` *suggests* that inline expansion should never be performed.\n\n> [!NOTE]\n> In every form the attribute is a hint. The compiler may ignore it.\n\nWhen `inline` is applied to a function in a [trait], it applies only to the code of the [default definition].\n\nWhen `inline` is applied to an [async function] or [async closure], it applies only to the code of the generated `poll` function.\n\n> [!NOTE]\n> For more details, see Rust issue #129347.\n\nThe `inline` attribute is ignored if the function is externally exported with [`no_mangle`] or [`export_name`].\n\n<!-- template:attributes -->",
      "parent_id": null,
      "paragraphs": {
        "attributes.codegen.inline.intro": "The *`inline` [attribute]* suggests whether a copy of the attributed function's code should be placed in the caller rather than generating a call to the function.\n\n> [!EXAMPLE]\n> ```rust\n> #[inline]\n> pub fn example1() {}\n>\n> #[inline(always)]\n> pub fn example2() {}\n>\n> #[inline(never)]\n> pub fn example3() {}\n> ```\n\n> [!NOTE]\n> `rustc` automatically inlines functions when doing so seems worthwhile. Use this attribute carefully as poor decisions about what to inline can slow down programs.",
        "attributes.codegen.inline.syntax": "The syntax for the `inline` attribute is:\n\n,attributes\n@root InlineAttribute ->\n      `inline` `(` `always` `)`\n    | `inline` `(` `never` `)`\n    | `inline`",
        "attributes.codegen.inline.allowed-positions": "The `inline` attribute may only be applied to functions with [bodies] --- [closures], [async blocks], [free functions], [associated functions] in an [inherent impl] or [trait impl], and associated functions in a [trait definition] when those functions have a [default definition] .\n\n> [!NOTE]\n> `rustc` ignores use in other positions but lints against it. This may become an error in the future.\n\n> [!NOTE]\n> Though the attribute can be applied to [closures] and [async blocks], the usefulness of this is limited as we do not yet support attributes on expressions.\n>\n> ```rust\n> // We allow attributes on statements.\n> #[inline] || (); // OK\n> #[inline] async {}; // OK\n> ```\n>\n> ```rust,compile_fail,E0658\n> // We don't yet allow attributes on expressions.\n> let f = #[inline] || (); // ERROR\n> ```",
        "attributes.codegen.inline.duplicates": "Only the first use of `inline` on a function has effect.\n\n> [!NOTE]\n> `rustc` lints against any use following the first. This may become an error in the future.",
        "attributes.codegen.inline.modes": "The `inline` attribute supports these modes:\n\n- `#[inline]` *suggests* performing inline expansion.\n- `#[inline(always)]` *suggests* that inline expansion should always be performed.\n- `#[inline(never)]` *suggests* that inline expansion should never be performed.\n\n> [!NOTE]\n> In every form the attribute is a hint. The compiler may ignore it.",
        "attributes.codegen.inline.trait": "When `inline` is applied to a function in a [trait], it applies only to the code of the [default definition].",
        "attributes.codegen.inline.async": "When `inline` is applied to an [async function] or [async closure], it applies only to the code of the generated `poll` function.\n\n> [!NOTE]\n> For more details, see Rust issue #129347.",
        "attributes.codegen.inline.externally-exported": "The `inline` attribute is ignored if the function is externally exported with [`no_mangle`] or [`export_name`].\n\n<!-- template:attributes -->"
      }
    },
    {
      "id": "attributes.codegen.cold",
      "title": "The `cold` attribute",
      "level": 3,
      "content": "The *`cold` [attribute]* suggests that the attributed function is unlikely to be called which may help the compiler produce better code.\n\n> [!EXAMPLE]\n> ```rust\n> #[cold]\n> pub fn example() {}\n> ```\n\nThe `cold` attribute uses the [MetaWord] syntax.\n\nThe `cold` attribute may only be applied to functions with [bodies] --- [closures], [async blocks], [free functions], [associated functions] in an [inherent impl] or [trait impl], and associated functions in a [trait definition] when those functions have a [default definition] .\n\n> [!NOTE]\n> `rustc` ignores use in other positions but lints against it. This may become an error in the future.\n\n> [!NOTE]\n> Though the attribute can be applied to [closures] and [async blocks], the usefulness of this is limited as we do not yet support attributes on expressions.\n\n<!-- TODO: rustc currently seems to allow cold on a trait function without a body, but it appears to be ignored. I think that may be a bug, and it should at least warn if not reject (like inline does). -->\n\nOnly the first use of `cold` on a function has effect.\n\n> [!NOTE]\n> `rustc` lints against any use following the first. This may become an error in the future.\n\nWhen `cold` is applied to a function in a [trait], it applies only to the code of the [default definition].",
      "parent_id": null,
      "paragraphs": {
        "attributes.codegen.cold.intro": "The *`cold` [attribute]* suggests that the attributed function is unlikely to be called which may help the compiler produce better code.\n\n> [!EXAMPLE]\n> ```rust\n> #[cold]\n> pub fn example() {}\n> ```",
        "attributes.codegen.cold.syntax": "The `cold` attribute uses the [MetaWord] syntax.",
        "attributes.codegen.cold.allowed-positions": "The `cold` attribute may only be applied to functions with [bodies] --- [closures], [async blocks], [free functions], [associated functions] in an [inherent impl] or [trait impl], and associated functions in a [trait definition] when those functions have a [default definition] .\n\n> [!NOTE]\n> `rustc` ignores use in other positions but lints against it. This may become an error in the future.\n\n> [!NOTE]\n> Though the attribute can be applied to [closures] and [async blocks], the usefulness of this is limited as we do not yet support attributes on expressions.\n\n<!-- TODO: rustc currently seems to allow cold on a trait function without a body, but it appears to be ignored. I think that may be a bug, and it should at least warn if not reject (like inline does). -->",
        "attributes.codegen.cold.duplicates": "Only the first use of `cold` on a function has effect.\n\n> [!NOTE]\n> `rustc` lints against any use following the first. This may become an error in the future.",
        "attributes.codegen.cold.trait": "When `cold` is applied to a function in a [trait], it applies only to the code of the [default definition]."
      }
    },
    {
      "id": "attributes.codegen.naked",
      "title": "The `naked` attribute",
      "level": 3,
      "content": "The *`naked` [attribute]* prevents the compiler from emitting a function prologue and epilogue for the attributed function.\n\nThe [function body] must consist of exactly one [`naked_asm!`] macro invocation.\n\nNo function prologue or epilogue is generated for the attributed function. The assembly code in the `naked_asm!` block constitutes the full body of a naked function.\n\nThe `naked` attribute is an [unsafe attribute]. Annotating a function with `#[unsafe(naked)]` comes with the safety obligation that the body must respect the function's calling convention, uphold its signature, and either return or diverge (i.e., not fall through past the end of the assembly code).\n\nThe assembly code may assume that the call stack and register state are valid on entry as per the signature and calling convention of the function.\n\nThe assembly code may not be duplicated by the compiler except when monomorphizing polymorphic functions.\n\n> [!NOTE]\n> Guaranteeing when the assembly code may or may not be duplicated is important for naked functions that define symbols.\n\nThe [`unused_variables`] lint is suppressed within naked functions.\n\nThe `inline` attribute cannot by applied to a naked function.\n\nThe `track_caller` attribute cannot be applied to a naked function.\n\nThe testing attributes cannot be applied to a naked function.\n\n<!-- template:attributes -->",
      "parent_id": null,
      "paragraphs": {
        "attributes.codegen.naked.intro": "The *`naked` [attribute]* prevents the compiler from emitting a function prologue and epilogue for the attributed function.",
        "attributes.codegen.naked.body": "The [function body] must consist of exactly one [`naked_asm!`] macro invocation.",
        "attributes.codegen.naked.prologue-epilogue": "No function prologue or epilogue is generated for the attributed function. The assembly code in the `naked_asm!` block constitutes the full body of a naked function.",
        "attributes.codegen.naked.unsafe-attribute": "The `naked` attribute is an [unsafe attribute]. Annotating a function with `#[unsafe(naked)]` comes with the safety obligation that the body must respect the function's calling convention, uphold its signature, and either return or diverge (i.e., not fall through past the end of the assembly code).",
        "attributes.codegen.naked.call-stack": "The assembly code may assume that the call stack and register state are valid on entry as per the signature and calling convention of the function.",
        "attributes.codegen.naked.no-duplication": "The assembly code may not be duplicated by the compiler except when monomorphizing polymorphic functions.\n\n> [!NOTE]\n> Guaranteeing when the assembly code may or may not be duplicated is important for naked functions that define symbols.",
        "attributes.codegen.naked.unused-variables": "The [`unused_variables`] lint is suppressed within naked functions.",
        "attributes.codegen.naked.inline": "The `inline` attribute cannot by applied to a naked function.",
        "attributes.codegen.naked.track_caller": "The `track_caller` attribute cannot be applied to a naked function.",
        "attributes.codegen.naked.testing": "The testing attributes cannot be applied to a naked function.\n\n<!-- template:attributes -->"
      }
    },
    {
      "id": "attributes.codegen.no_builtins",
      "title": "The `no_builtins` attribute",
      "level": 2,
      "content": "The *`no_builtins` [attribute]* disables optimization of certain code patterns related to calls to library functions that are assumed to exist.\n\n<!-- TODO: This needs expanding, see <https://github.com/rust-lang/reference/issues/542>. -->\n\n> [!EXAMPLE]\n> ```rust\n> #![no_builtins]\n> ```\n\nThe `no_builtins` attribute uses the [MetaWord] syntax.\n\nThe `no_builtins` attribute can only be applied to the crate root.\n\nOnly the first use of the `no_builtins` attribute has effect.\n\n> [!NOTE]\n> `rustc` lints against any use following the first.",
      "parent_id": null,
      "paragraphs": {
        "attributes.codegen.no_builtins.intro": "The *`no_builtins` [attribute]* disables optimization of certain code patterns related to calls to library functions that are assumed to exist.\n\n<!-- TODO: This needs expanding, see <https://github.com/rust-lang/reference/issues/542>. -->\n\n> [!EXAMPLE]\n> ```rust\n> #![no_builtins]\n> ```",
        "attributes.codegen.no_builtins.syntax": "The `no_builtins` attribute uses the [MetaWord] syntax.",
        "attributes.codegen.no_builtins.allowed-positions": "The `no_builtins` attribute can only be applied to the crate root.",
        "attributes.codegen.no_builtins.duplicates": "Only the first use of the `no_builtins` attribute has effect.\n\n> [!NOTE]\n> `rustc` lints against any use following the first."
      }
    },
    {
      "id": "attributes.codegen.target_feature",
      "title": "The `target_feature` attribute",
      "level": 2,
      "content": "The *`target_feature` [attribute]* may be applied to a function to\nenable code generation of that function for specific platform architecture\nfeatures. It uses the [MetaListNameValueStr] syntax with a single key of\n`enable` whose value is a string of comma-separated feature names to enable.\n\n# #[cfg(target_feature = \"avx2\")]\n#[target_feature(enable = \"avx2\")]\nfn foo_avx2() {}\n\nEach [target architecture] has a set of features that may be enabled. It is an\nerror to specify a feature for a target architecture that the crate is not\nbeing compiled for.\n\nClosures defined within a `target_feature`-annotated function inherit the\nattribute from the enclosing function.\n\nIt is [undefined behavior] to call a function that is compiled with a feature\nthat is not supported on the current platform the code is running on, *except*\nif the platform explicitly documents this to be safe.\n\nThe following restrictions apply unless otherwise specified by the platform rules below:\n\n- Safe `#[target_feature]` functions (and closures that inherit the attribute) can only be safely called within a caller that enables all the `target_feature`s that the callee enables.\n  This restriction does not apply in an `unsafe` context.\n- Safe `#[target_feature]` functions (and closures that inherit the attribute) can only be coerced to *safe* function pointers in contexts that enable all the `target_feature`s that the coercee enables.\n  This restriction does not apply to `unsafe` function pointers.\n\nImplicitly enabled features are included in this rule. For example an `sse2` function can call ones marked with `sse`.\n\n# #[cfg(target_feature = \"sse2\")] {\n#[target_feature(enable = \"sse\")]\nfn foo_sse() {}\n\nfn bar() {\n    // Calling `foo_sse` here is unsafe, as we must ensure that SSE is\n    // available first, even if `sse` is enabled by default on the target\n    // platform or manually enabled as compiler flags.\n    unsafe {\n        foo_sse();\n    }\n}\n\n#[target_feature(enable = \"sse\")]\nfn bar_sse() {\n    // Calling `foo_sse` here is safe.\n    foo_sse();\n    || foo_sse();\n}\n\n#[target_feature(enable = \"sse2\")]\nfn bar_sse2() {\n    // Calling `foo_sse` here is safe because `sse2` implies `sse`.\n    foo_sse();\n}\n# }\n\nA function with a `#[target_feature]` attribute *never* implements the `Fn` family of traits, although closures inheriting features from the enclosing function do.\n\nThe `#[target_feature]` attribute is not allowed on the following places:\n\n- the `main` function\n- a `panic_handler` function\n- safe trait methods\n- safe default functions in traits\n\nFunctions marked with `target_feature` are not inlined into a context that\ndoes not support the given features. The `#[inline(always)]` attribute may not\nbe used with a `target_feature` attribute.",
      "parent_id": null,
      "paragraphs": {
        "attributes.codegen.target_feature.intro": "The *`target_feature` [attribute]* may be applied to a function to\nenable code generation of that function for specific platform architecture\nfeatures. It uses the [MetaListNameValueStr] syntax with a single key of\n`enable` whose value is a string of comma-separated feature names to enable.\n\n# #[cfg(target_feature = \"avx2\")]\n#[target_feature(enable = \"avx2\")]\nfn foo_avx2() {}",
        "attributes.codegen.target_feature.arch": "Each [target architecture] has a set of features that may be enabled. It is an\nerror to specify a feature for a target architecture that the crate is not\nbeing compiled for.",
        "attributes.codegen.target_feature.closures": "Closures defined within a `target_feature`-annotated function inherit the\nattribute from the enclosing function.",
        "attributes.codegen.target_feature.target-ub": "It is [undefined behavior] to call a function that is compiled with a feature\nthat is not supported on the current platform the code is running on, *except*\nif the platform explicitly documents this to be safe.",
        "attributes.codegen.target_feature.safety-restrictions": "The following restrictions apply unless otherwise specified by the platform rules below:\n\n- Safe `#[target_feature]` functions (and closures that inherit the attribute) can only be safely called within a caller that enables all the `target_feature`s that the callee enables.\n  This restriction does not apply in an `unsafe` context.\n- Safe `#[target_feature]` functions (and closures that inherit the attribute) can only be coerced to *safe* function pointers in contexts that enable all the `target_feature`s that the coercee enables.\n  This restriction does not apply to `unsafe` function pointers.\n\nImplicitly enabled features are included in this rule. For example an `sse2` function can call ones marked with `sse`.\n\n# #[cfg(target_feature = \"sse2\")] {\n#[target_feature(enable = \"sse\")]\nfn foo_sse() {}\n\nfn bar() {\n    // Calling `foo_sse` here is unsafe, as we must ensure that SSE is\n    // available first, even if `sse` is enabled by default on the target\n    // platform or manually enabled as compiler flags.\n    unsafe {\n        foo_sse();\n    }\n}\n\n#[target_feature(enable = \"sse\")]\nfn bar_sse() {\n    // Calling `foo_sse` here is safe.\n    foo_sse();\n    || foo_sse();\n}\n\n#[target_feature(enable = \"sse2\")]\nfn bar_sse2() {\n    // Calling `foo_sse` here is safe because `sse2` implies `sse`.\n    foo_sse();\n}\n# }",
        "attributes.codegen.target_feature.fn-traits": "A function with a `#[target_feature]` attribute *never* implements the `Fn` family of traits, although closures inheriting features from the enclosing function do.",
        "attributes.codegen.target_feature.allowed-positions": "The `#[target_feature]` attribute is not allowed on the following places:\n\n- the `main` function\n- a `panic_handler` function\n- safe trait methods\n- safe default functions in traits",
        "attributes.codegen.target_feature.inline": "Functions marked with `target_feature` are not inlined into a context that\ndoes not support the given features. The `#[inline(always)]` attribute may not\nbe used with a `target_feature` attribute."
      }
    },
    {
      "id": "attributes.codegen.target_feature.availability",
      "title": "Available features",
      "level": 1,
      "content": "The following is a list of the available feature names.",
      "parent_id": null,
      "paragraphs": {
        "attributes.codegen.target_feature.availability": "The following is a list of the available feature names."
      }
    },
    {
      "id": "attributes.codegen.target_feature.x86",
      "title": "`x86` or `x86_64`",
      "level": 3,
      "content": "Executing code with unsupported features is undefined behavior on this platform.\nHence on this platform usage of `#[target_feature]` functions follows the\nabove restrictions.\n\nFeature     | Implicitly Enables | Description\n------------|--------------------|-------------------\n`adx`       |          | [ADX] --- Multi-Precision Add-Carry Instruction Extensions\n`aes`       | `sse2`   | [AES] --- Advanced Encryption Standard\n`avx`       | `sse4.2` | [AVX] --- Advanced Vector Extensions\n`avx2`      | `avx`    | [AVX2] --- Advanced Vector Extensions 2\n`avx512bf16`        | `avx512bw`           | [AVX512-BF16] --- Advanced Vector Extensions 512-bit - Bfloat16 Extensions\n`avx512bitalg`      | `avx512bw`           | [AVX512-BITALG] --- Advanced Vector Extensions 512-bit - Bit Algorithms\n`avx512bw`          | `avx512f`            | [AVX512-BW] --- Advanced Vector Extensions 512-bit - Byte and Word Instructions\n`avx512cd`          | `avx512f`            | [AVX512-CD] --- Advanced Vector Extensions 512-bit - Conflict Detection Instructions\n`avx512dq`          | `avx512f`            | [AVX512-DQ] --- Advanced Vector Extensions 512-bit - Doubleword and Quadword Instructions\n`avx512f`           | `avx2`, `fma`, `f16c`| [AVX512-F] --- Advanced Vector Extensions 512-bit - Foundation\n`avx512fp16`        | `avx512bw`           | [AVX512-FP16] --- Advanced Vector Extensions 512-bit - Float16 Extensions\n`avx512ifma`        | `avx512f`            | [AVX512-IFMA] --- Advanced Vector Extensions 512-bit - Integer Fused Multiply Add\n`avx512vbmi`        | `avx512bw`           | [AVX512-VBMI] --- Advanced Vector Extensions 512-bit - Vector Byte Manipulation Instructions\n`avx512vbmi2`       | `avx512bw`           | [AVX512-VBMI2] --- Advanced Vector Extensions 512-bit - Vector Byte Manipulation Instructions 2\n`avx512vl`          | `avx512f`            | [AVX512-VL] --- Advanced Vector Extensions 512-bit - Vector Length Extensions\n`avx512vnni`        | `avx512f`            | [AVX512-VNNI] --- Advanced Vector Extensions 512-bit - Vector Neural Network Instructions\n`avx512vp2intersect`| `avx512f`            | [AVX512-VP2INTERSECT] --- Advanced Vector Extensions 512-bit - Vector Pair Intersection to a Pair of Mask Registers\n`avx512vpopcntdq`   | `avx512f`            | [AVX512-VPOPCNTDQ] --- Advanced Vector Extensions 512-bit - Vector Population Count Instruction\n`avxifma`           | `avx2`               | [AVX-IFMA] --- Advanced Vector Extensions - Integer Fused Multiply Add\n`avxneconvert`      | `avx2`               | [AVX-NE-CONVERT] --- Advanced Vector Extensions - No-Exception Floating-Point conversion Instructions\n`avxvnni`           | `avx2`               | [AVX-VNNI] --- Advanced Vector Extensions - Vector Neural Network Instructions\n`avxvnniint16`      | `avx2`               | [AVX-VNNI-INT16] --- Advanced Vector Extensions - Vector Neural Network Instructions with 16-bit Integers\n`avxvnniint8`       | `avx2`               | [AVX-VNNI-INT8] --- Advanced Vector Extensions - Vector Neural Network Instructions with 8-bit Integers\n`bmi1`      |          | [BMI1] --- Bit Manipulation Instruction Sets\n`bmi2`      |          | [BMI2] --- Bit Manipulation Instruction Sets 2\n`cmpxchg16b`|          | [`cmpxchg16b`] --- Compares and exchange 16 bytes (128 bits) of data atomically\n`f16c`      | `avx`    | [F16C] --- 16-bit floating point conversion instructions\n`fma`       | `avx`    | [FMA3] --- Three-operand fused multiply-add\n`fxsr`      |          | [`fxsave`] and [`fxrstor`] --- Save and restore x87 FPU, MMX Technology, and SSE State\n`gfni`      | `sse2`   | [GFNI] --- Galois Field New Instructions\n`kl`        | `sse2`   | [KEYLOCKER] --- Intel Key Locker Instructions\n`lzcnt`     |          | [`lzcnt`] --- Leading zeros count\n`movbe`     |          | [`movbe`] --- Move data after swapping bytes\n`pclmulqdq` | `sse2`   | [`pclmulqdq`] --- Packed carry-less multiplication quadword\n`popcnt`    |          | [`popcnt`] --- Count of bits set to 1\n`rdrand`    |          | [`rdrand`] --- Read random number\n`rdseed`    |          | [`rdseed`] --- Read random seed\n`sha`       | `sse2`   | [SHA] --- Secure Hash Algorithm\n`sha512`    | `avx2`   | [SHA512] --- Secure Hash Algorithm with 512-bit digest\n`sm3`       | `avx`    | [SM3] --- ShangMi 3 Hash Algorithm\n`sm4`       | `avx2`   | [SM4] --- ShangMi 4 Cipher Algorithm\n`sse`       |          | [SSE] --- Streaming <abbr title=\"Single Instruction Multiple Data\">SIMD</abbr> Extensions\n`sse2`      | `sse`    | [SSE2] --- Streaming SIMD Extensions 2\n`sse3`      | `sse2`   | [SSE3] --- Streaming SIMD Extensions 3\n`sse4.1`    | `ssse3`  | [SSE4.1] --- Streaming SIMD Extensions 4.1\n`sse4.2`    | `sse4.1` | [SSE4.2] --- Streaming SIMD Extensions 4.2\n`sse4a`     | `sse3`   | [SSE4a] --- Streaming SIMD Extensions 4a\n`ssse3`     | `sse3`   | [SSSE3] --- Supplemental Streaming SIMD Extensions 3\n`tbm`       |          | [TBM] --- Trailing Bit Manipulation\n`vaes`      | `avx2`, `aes`     | [VAES] --- Vector AES Instructions\n`vpclmulqdq`| `avx`, `pclmulqdq`| [VPCLMULQDQ] --- Vector Carry-less multiplication of Quadwords\n`widekl`    | `kl`     | [KEYLOCKER_WIDE] --- Intel Wide Keylocker Instructions\n`xsave`     |          | [`xsave`] --- Save processor extended states\n`xsavec`    |          | [`xsavec`] --- Save processor extended states with compaction\n`xsaveopt`  |          | [`xsaveopt`] --- Save processor extended states optimized\n`xsaves`    |          | [`xsaves`] --- Save processor extended states supervisor\n\n<!-- Keep links near each table to make it easier to move and update. -->\n\n[ADX]: https://en.wikipedia.org/wiki/Intel_ADX\n[AES]: https://en.wikipedia.org/wiki/AES_instruction_set\n[AVX]: https://en.wikipedia.org/wiki/Advanced_Vector_Extensions\n[AVX2]: https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#AVX2\n[AVX512-BF16]: https://en.wikipedia.org/wiki/AVX-512#BF16\n[AVX512-BITALG]: https://en.wikipedia.org/wiki/AVX-512#VPOPCNTDQ_and_BITALG\n[AVX512-BW]: https://en.wikipedia.org/wiki/AVX-512#BW,_DQ_and_VBMI\n[AVX512-CD]: https://en.wikipedia.org/wiki/AVX-512#Conflict_detection\n[AVX512-DQ]: https://en.wikipedia.org/wiki/AVX-512#BW,_DQ_and_VBMI\n[AVX512-F]: https://en.wikipedia.org/wiki/AVX-512\n[AVX512-FP16]: https://en.wikipedia.org/wiki/AVX-512#FP16\n[AVX512-IFMA]: https://en.wikipedia.org/wiki/AVX-512#IFMA\n[AVX512-VBMI]: https://en.wikipedia.org/wiki/AVX-512#BW,_DQ_and_VBMI\n[AVX512-VBMI2]: https://en.wikipedia.org/wiki/AVX-512#VBMI2\n[AVX512-VL]: https://en.wikipedia.org/wiki/AVX-512\n[AVX512-VNNI]: https://en.wikipedia.org/wiki/AVX-512#VNNI\n[AVX512-VP2INTERSECT]: https://en.wikipedia.org/wiki/AVX-512#VP2INTERSECT\n[AVX512-VPOPCNTDQ]:https://en.wikipedia.org/wiki/AVX-512#VPOPCNTDQ_and_BITALG\n[AVX-IFMA]: https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#AVX-VNNI,_AVX-IFMA\n[AVX-NE-CONVERT]: https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#AVX-VNNI,_AVX-IFMA\n[AVX-VNNI]: https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#AVX-VNNI,_AVX-IFMA\n[AVX-VNNI-INT16]: https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#AVX-VNNI,_AVX-IFMA\n[AVX-VNNI-INT8]: https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#AVX-VNNI,_AVX-IFMA\n[BMI1]: https://en.wikipedia.org/wiki/Bit_Manipulation_Instruction_Sets\n[BMI2]: https://en.wikipedia.org/wiki/Bit_Manipulation_Instruction_Sets#BMI2\n[`cmpxchg16b`]: https://www.felixcloutier.com/x86/cmpxchg8b:cmpxchg16b\n[F16C]: https://en.wikipedia.org/wiki/F16C\n[FMA3]: https://en.wikipedia.org/wiki/FMA_instruction_set\n[`fxsave`]: https://www.felixcloutier.com/x86/fxsave\n[`fxrstor`]: https://www.felixcloutier.com/x86/fxrstor\n[GFNI]: https://en.wikipedia.org/wiki/AVX-512#GFNI\n[KEYLOCKER]: https://en.wikipedia.org/wiki/List_of_x86_cryptographic_instructions#Intel_Key_Locker_instructions\n[KEYLOCKER_WIDE]: https://en.wikipedia.org/wiki/List_of_x86_cryptographic_instructions#Intel_Key_Locker_instructions\n[`lzcnt`]: https://www.felixcloutier.com/x86/lzcnt\n[`movbe`]: https://www.felixcloutier.com/x86/movbe\n[`pclmulqdq`]: https://www.felixcloutier.com/x86/pclmulqdq\n[`popcnt`]: https://www.felixcloutier.com/x86/popcnt\n[`rdrand`]: https://en.wikipedia.org/wiki/RdRand\n[`rdseed`]: https://en.wikipedia.org/wiki/RdRand\n[SHA]: https://en.wikipedia.org/wiki/Intel_SHA_extensions\n[SHA512]: https://en.wikipedia.org/wiki/Intel_SHA_extensions\n[SM3]: https://en.wikipedia.org/wiki/List_of_x86_cryptographic_instructions#Intel_SHA_and_SM3_instructions\n[SM4]: https://en.wikipedia.org/wiki/List_of_x86_cryptographic_instructions#Intel_SHA_and_SM3_instructions\n[SSE]: https://en.wikipedia.org/wiki/Streaming_SIMD_Extensions\n[SSE2]: https://en.wikipedia.org/wiki/SSE2\n[SSE3]: https://en.wikipedia.org/wiki/SSE3\n[SSE4.1]: https://en.wikipedia.org/wiki/SSE4#SSE4.1\n[SSE4.2]: https://en.wikipedia.org/wiki/SSE4#SSE4.2\n[SSE4a]: https://en.wikipedia.org/wiki/SSE4#SSE4a\n[SSSE3]: https://en.wikipedia.org/wiki/SSSE3\n[TBM]: https://en.wikipedia.org/wiki/X86_Bit_manipulation_instruction_set#TBM_(Trailing_Bit_Manipulation)\n[VAES]: https://en.wikipedia.org/wiki/AVX-512#VAES\n[VPCLMULQDQ]: https://en.wikipedia.org/wiki/AVX-512#VPCLMULQDQ\n[`xsave`]: https://www.felixcloutier.com/x86/xsave\n[`xsavec`]: https://www.felixcloutier.com/x86/xsavec\n[`xsaveopt`]: https://www.felixcloutier.com/x86/xsaveopt\n[`xsaves`]: https://www.felixcloutier.com/x86/xsaves",
      "parent_id": null,
      "paragraphs": {
        "attributes.codegen.target_feature.x86": "Executing code with unsupported features is undefined behavior on this platform.\nHence on this platform usage of `#[target_feature]` functions follows the\nabove restrictions.\n\nFeature     | Implicitly Enables | Description\n------------|--------------------|-------------------\n`adx`       |          | [ADX] --- Multi-Precision Add-Carry Instruction Extensions\n`aes`       | `sse2`   | [AES] --- Advanced Encryption Standard\n`avx`       | `sse4.2` | [AVX] --- Advanced Vector Extensions\n`avx2`      | `avx`    | [AVX2] --- Advanced Vector Extensions 2\n`avx512bf16`        | `avx512bw`           | [AVX512-BF16] --- Advanced Vector Extensions 512-bit - Bfloat16 Extensions\n`avx512bitalg`      | `avx512bw`           | [AVX512-BITALG] --- Advanced Vector Extensions 512-bit - Bit Algorithms\n`avx512bw`          | `avx512f`            | [AVX512-BW] --- Advanced Vector Extensions 512-bit - Byte and Word Instructions\n`avx512cd`          | `avx512f`            | [AVX512-CD] --- Advanced Vector Extensions 512-bit - Conflict Detection Instructions\n`avx512dq`          | `avx512f`            | [AVX512-DQ] --- Advanced Vector Extensions 512-bit - Doubleword and Quadword Instructions\n`avx512f`           | `avx2`, `fma`, `f16c`| [AVX512-F] --- Advanced Vector Extensions 512-bit - Foundation\n`avx512fp16`        | `avx512bw`           | [AVX512-FP16] --- Advanced Vector Extensions 512-bit - Float16 Extensions\n`avx512ifma`        | `avx512f`            | [AVX512-IFMA] --- Advanced Vector Extensions 512-bit - Integer Fused Multiply Add\n`avx512vbmi`        | `avx512bw`           | [AVX512-VBMI] --- Advanced Vector Extensions 512-bit - Vector Byte Manipulation Instructions\n`avx512vbmi2`       | `avx512bw`           | [AVX512-VBMI2] --- Advanced Vector Extensions 512-bit - Vector Byte Manipulation Instructions 2\n`avx512vl`          | `avx512f`            | [AVX512-VL] --- Advanced Vector Extensions 512-bit - Vector Length Extensions\n`avx512vnni`        | `avx512f`            | [AVX512-VNNI] --- Advanced Vector Extensions 512-bit - Vector Neural Network Instructions\n`avx512vp2intersect`| `avx512f`            | [AVX512-VP2INTERSECT] --- Advanced Vector Extensions 512-bit - Vector Pair Intersection to a Pair of Mask Registers\n`avx512vpopcntdq`   | `avx512f`            | [AVX512-VPOPCNTDQ] --- Advanced Vector Extensions 512-bit - Vector Population Count Instruction\n`avxifma`           | `avx2`               | [AVX-IFMA] --- Advanced Vector Extensions - Integer Fused Multiply Add\n`avxneconvert`      | `avx2`               | [AVX-NE-CONVERT] --- Advanced Vector Extensions - No-Exception Floating-Point conversion Instructions\n`avxvnni`           | `avx2`               | [AVX-VNNI] --- Advanced Vector Extensions - Vector Neural Network Instructions\n`avxvnniint16`      | `avx2`               | [AVX-VNNI-INT16] --- Advanced Vector Extensions - Vector Neural Network Instructions with 16-bit Integers\n`avxvnniint8`       | `avx2`               | [AVX-VNNI-INT8] --- Advanced Vector Extensions - Vector Neural Network Instructions with 8-bit Integers\n`bmi1`      |          | [BMI1] --- Bit Manipulation Instruction Sets\n`bmi2`      |          | [BMI2] --- Bit Manipulation Instruction Sets 2\n`cmpxchg16b`|          | [`cmpxchg16b`] --- Compares and exchange 16 bytes (128 bits) of data atomically\n`f16c`      | `avx`    | [F16C] --- 16-bit floating point conversion instructions\n`fma`       | `avx`    | [FMA3] --- Three-operand fused multiply-add\n`fxsr`      |          | [`fxsave`] and [`fxrstor`] --- Save and restore x87 FPU, MMX Technology, and SSE State\n`gfni`      | `sse2`   | [GFNI] --- Galois Field New Instructions\n`kl`        | `sse2`   | [KEYLOCKER] --- Intel Key Locker Instructions\n`lzcnt`     |          | [`lzcnt`] --- Leading zeros count\n`movbe`     |          | [`movbe`] --- Move data after swapping bytes\n`pclmulqdq` | `sse2`   | [`pclmulqdq`] --- Packed carry-less multiplication quadword\n`popcnt`    |          | [`popcnt`] --- Count of bits set to 1\n`rdrand`    |          | [`rdrand`] --- Read random number\n`rdseed`    |          | [`rdseed`] --- Read random seed\n`sha`       | `sse2`   | [SHA] --- Secure Hash Algorithm\n`sha512`    | `avx2`   | [SHA512] --- Secure Hash Algorithm with 512-bit digest\n`sm3`       | `avx`    | [SM3] --- ShangMi 3 Hash Algorithm\n`sm4`       | `avx2`   | [SM4] --- ShangMi 4 Cipher Algorithm\n`sse`       |          | [SSE] --- Streaming <abbr title=\"Single Instruction Multiple Data\">SIMD</abbr> Extensions\n`sse2`      | `sse`    | [SSE2] --- Streaming SIMD Extensions 2\n`sse3`      | `sse2`   | [SSE3] --- Streaming SIMD Extensions 3\n`sse4.1`    | `ssse3`  | [SSE4.1] --- Streaming SIMD Extensions 4.1\n`sse4.2`    | `sse4.1` | [SSE4.2] --- Streaming SIMD Extensions 4.2\n`sse4a`     | `sse3`   | [SSE4a] --- Streaming SIMD Extensions 4a\n`ssse3`     | `sse3`   | [SSSE3] --- Supplemental Streaming SIMD Extensions 3\n`tbm`       |          | [TBM] --- Trailing Bit Manipulation\n`vaes`      | `avx2`, `aes`     | [VAES] --- Vector AES Instructions\n`vpclmulqdq`| `avx`, `pclmulqdq`| [VPCLMULQDQ] --- Vector Carry-less multiplication of Quadwords\n`widekl`    | `kl`     | [KEYLOCKER_WIDE] --- Intel Wide Keylocker Instructions\n`xsave`     |          | [`xsave`] --- Save processor extended states\n`xsavec`    |          | [`xsavec`] --- Save processor extended states with compaction\n`xsaveopt`  |          | [`xsaveopt`] --- Save processor extended states optimized\n`xsaves`    |          | [`xsaves`] --- Save processor extended states supervisor\n\n<!-- Keep links near each table to make it easier to move and update. -->\n\n[ADX]: https://en.wikipedia.org/wiki/Intel_ADX\n[AES]: https://en.wikipedia.org/wiki/AES_instruction_set\n[AVX]: https://en.wikipedia.org/wiki/Advanced_Vector_Extensions\n[AVX2]: https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#AVX2\n[AVX512-BF16]: https://en.wikipedia.org/wiki/AVX-512#BF16\n[AVX512-BITALG]: https://en.wikipedia.org/wiki/AVX-512#VPOPCNTDQ_and_BITALG\n[AVX512-BW]: https://en.wikipedia.org/wiki/AVX-512#BW,_DQ_and_VBMI\n[AVX512-CD]: https://en.wikipedia.org/wiki/AVX-512#Conflict_detection\n[AVX512-DQ]: https://en.wikipedia.org/wiki/AVX-512#BW,_DQ_and_VBMI\n[AVX512-F]: https://en.wikipedia.org/wiki/AVX-512\n[AVX512-FP16]: https://en.wikipedia.org/wiki/AVX-512#FP16\n[AVX512-IFMA]: https://en.wikipedia.org/wiki/AVX-512#IFMA\n[AVX512-VBMI]: https://en.wikipedia.org/wiki/AVX-512#BW,_DQ_and_VBMI\n[AVX512-VBMI2]: https://en.wikipedia.org/wiki/AVX-512#VBMI2\n[AVX512-VL]: https://en.wikipedia.org/wiki/AVX-512\n[AVX512-VNNI]: https://en.wikipedia.org/wiki/AVX-512#VNNI\n[AVX512-VP2INTERSECT]: https://en.wikipedia.org/wiki/AVX-512#VP2INTERSECT\n[AVX512-VPOPCNTDQ]:https://en.wikipedia.org/wiki/AVX-512#VPOPCNTDQ_and_BITALG\n[AVX-IFMA]: https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#AVX-VNNI,_AVX-IFMA\n[AVX-NE-CONVERT]: https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#AVX-VNNI,_AVX-IFMA\n[AVX-VNNI]: https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#AVX-VNNI,_AVX-IFMA\n[AVX-VNNI-INT16]: https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#AVX-VNNI,_AVX-IFMA\n[AVX-VNNI-INT8]: https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#AVX-VNNI,_AVX-IFMA\n[BMI1]: https://en.wikipedia.org/wiki/Bit_Manipulation_Instruction_Sets\n[BMI2]: https://en.wikipedia.org/wiki/Bit_Manipulation_Instruction_Sets#BMI2\n[`cmpxchg16b`]: https://www.felixcloutier.com/x86/cmpxchg8b:cmpxchg16b\n[F16C]: https://en.wikipedia.org/wiki/F16C\n[FMA3]: https://en.wikipedia.org/wiki/FMA_instruction_set\n[`fxsave`]: https://www.felixcloutier.com/x86/fxsave\n[`fxrstor`]: https://www.felixcloutier.com/x86/fxrstor\n[GFNI]: https://en.wikipedia.org/wiki/AVX-512#GFNI\n[KEYLOCKER]: https://en.wikipedia.org/wiki/List_of_x86_cryptographic_instructions#Intel_Key_Locker_instructions\n[KEYLOCKER_WIDE]: https://en.wikipedia.org/wiki/List_of_x86_cryptographic_instructions#Intel_Key_Locker_instructions\n[`lzcnt`]: https://www.felixcloutier.com/x86/lzcnt\n[`movbe`]: https://www.felixcloutier.com/x86/movbe\n[`pclmulqdq`]: https://www.felixcloutier.com/x86/pclmulqdq\n[`popcnt`]: https://www.felixcloutier.com/x86/popcnt\n[`rdrand`]: https://en.wikipedia.org/wiki/RdRand\n[`rdseed`]: https://en.wikipedia.org/wiki/RdRand\n[SHA]: https://en.wikipedia.org/wiki/Intel_SHA_extensions\n[SHA512]: https://en.wikipedia.org/wiki/Intel_SHA_extensions\n[SM3]: https://en.wikipedia.org/wiki/List_of_x86_cryptographic_instructions#Intel_SHA_and_SM3_instructions\n[SM4]: https://en.wikipedia.org/wiki/List_of_x86_cryptographic_instructions#Intel_SHA_and_SM3_instructions\n[SSE]: https://en.wikipedia.org/wiki/Streaming_SIMD_Extensions\n[SSE2]: https://en.wikipedia.org/wiki/SSE2\n[SSE3]: https://en.wikipedia.org/wiki/SSE3\n[SSE4.1]: https://en.wikipedia.org/wiki/SSE4#SSE4.1\n[SSE4.2]: https://en.wikipedia.org/wiki/SSE4#SSE4.2\n[SSE4a]: https://en.wikipedia.org/wiki/SSE4#SSE4a\n[SSSE3]: https://en.wikipedia.org/wiki/SSSE3\n[TBM]: https://en.wikipedia.org/wiki/X86_Bit_manipulation_instruction_set#TBM_(Trailing_Bit_Manipulation)\n[VAES]: https://en.wikipedia.org/wiki/AVX-512#VAES\n[VPCLMULQDQ]: https://en.wikipedia.org/wiki/AVX-512#VPCLMULQDQ\n[`xsave`]: https://www.felixcloutier.com/x86/xsave\n[`xsavec`]: https://www.felixcloutier.com/x86/xsavec\n[`xsaveopt`]: https://www.felixcloutier.com/x86/xsaveopt\n[`xsaves`]: https://www.felixcloutier.com/x86/xsaves"
      }
    },
    {
      "id": "attributes.codegen.target_feature.aarch64",
      "title": "`aarch64`",
      "level": 4,
      "content": "On this platform the usage of `#[target_feature]` functions follows the\nabove restrictions.\n\nFurther documentation on these features can be found in the [ARM Architecture\nReference Manual], or elsewhere on [developer.arm.com].\n\n[ARM Architecture Reference Manual]: https://developer.arm.com/documentation/ddi0487/latest\n[developer.arm.com]: https://developer.arm.com\n\n> [!NOTE]\n> The following pairs of features should both be marked as enabled or disabled together if used:\n> - `paca` and `pacg`, which LLVM currently implements as one feature.\n\nFeature        | Implicitly Enables | Feature Name\n-------        | ------------------ | ------------\n`aes`          | `neon`             | FEAT_AES & FEAT_PMULL --- Advanced <abbr title=\"Single Instruction Multiple Data\">SIMD</abbr> AES & PMULL instructions\n`bf16`         |                    | FEAT_BF16 --- BFloat16 instructions\n`bti`          |                    | FEAT_BTI --- Branch Target Identification\n`crc`          |                    | FEAT_CRC --- CRC32 checksum instructions\n`dit`          |                    | FEAT_DIT  --- Data Independent Timing instructions\n`dotprod`      | `neon`             | FEAT_DotProd --- Advanced SIMD Int8 dot product instructions\n`dpb`          |                    | FEAT_DPB --- Data cache clean to point of persistence\n`dpb2`         | `dpb`              | FEAT_DPB2 --- Data cache clean to point of deep persistence\n`f32mm`        | `sve`              | FEAT_F32MM --- SVE single-precision FP matrix multiply instruction\n`f64mm`        | `sve`              | FEAT_F64MM --- SVE double-precision FP matrix multiply instruction\n`fcma`         | `neon`             | FEAT_FCMA --- Floating point complex number support\n`fhm`          | `fp16`             | FEAT_FHM --- Half-precision FP FMLAL instructions\n`flagm`        |                    | FEAT_FLAGM --- Conditional flag manipulation\n`fp16`         | `neon`             | FEAT_FP16 --- Half-precision FP data processing\n`frintts`      |                    | FEAT_FRINTTS --- Floating-point to int helper instructions\n`i8mm`         |                    | FEAT_I8MM --- Int8 Matrix Multiplication\n`jsconv`       | `neon`             | FEAT_JSCVT --- JavaScript conversion instruction\n`lor`          |                    | FEAT_LOR --- Limited Ordering Regions extension\n`lse`          |                    | FEAT_LSE --- Large System Extensions\n`mte`          |                    | FEAT_MTE & FEAT_MTE2 --- Memory Tagging Extension\n`neon`         |                    | FEAT_AdvSimd & FEAT_FP --- Floating Point and Advanced SIMD extension\n`paca`         |                    | FEAT_PAUTH --- Pointer Authentication (address authentication)\n`pacg`         |                    | FEAT_PAUTH --- Pointer Authentication (generic authentication)\n`pan`          |                    | FEAT_PAN --- Privileged Access-Never extension\n`pmuv3`        |                    | FEAT_PMUv3 --- Performance Monitors extension (v3)\n`rand`         |                    | FEAT_RNG --- Random Number Generator\n`ras`          |                    | FEAT_RAS & FEAT_RASv1p1 --- Reliability, Availability and Serviceability extension\n`rcpc`         |                    | FEAT_LRCPC --- Release consistent Processor Consistent\n`rcpc2`        | `rcpc`             | FEAT_LRCPC2 --- RcPc with immediate offsets\n`rdm`          | `neon`             | FEAT_RDM --- Rounding Double Multiply accumulate\n`sb`           |                    | FEAT_SB --- Speculation Barrier\n`sha2`         | `neon`             | FEAT_SHA1 & FEAT_SHA256 --- Advanced SIMD SHA instructions\n`sha3`         | `sha2`             | FEAT_SHA512 & FEAT_SHA3 --- Advanced SIMD SHA instructions\n`sm4`          | `neon`             | FEAT_SM3 & FEAT_SM4 --- Advanced SIMD SM3/4 instructions\n`spe`          |                    | FEAT_SPE --- Statistical Profiling Extension\n`ssbs`         |                    | FEAT_SSBS & FEAT_SSBS2 --- Speculative Store Bypass Safe\n`sve`          | `neon`             | FEAT_SVE --- Scalable Vector Extension\n`sve2`         | `sve`              | FEAT_SVE2 --- Scalable Vector Extension 2\n`sve2-aes`     | `sve2`, `aes`      | FEAT_SVE_AES & FEAT_SVE_PMULL128 --- SVE AES instructions\n`sve2-bitperm` | `sve2`             | FEAT_SVE2_BitPerm --- SVE Bit Permute\n`sve2-sha3`    | `sve2`, `sha3`     | FEAT_SVE2_SHA3 --- SVE SHA3 instructions\n`sve2-sm4`     | `sve2`, `sm4`      | FEAT_SVE2_SM4 --- SVE SM4 instructions\n`tme`          |                    | FEAT_TME --- Transactional Memory Extension\n`vh`           |                    | FEAT_VHE --- Virtualization Host Extensions",
      "parent_id": null,
      "paragraphs": {
        "attributes.codegen.target_feature.aarch64": "On this platform the usage of `#[target_feature]` functions follows the\nabove restrictions.\n\nFurther documentation on these features can be found in the [ARM Architecture\nReference Manual], or elsewhere on [developer.arm.com].\n\n[ARM Architecture Reference Manual]: https://developer.arm.com/documentation/ddi0487/latest\n[developer.arm.com]: https://developer.arm.com\n\n> [!NOTE]\n> The following pairs of features should both be marked as enabled or disabled together if used:\n> - `paca` and `pacg`, which LLVM currently implements as one feature.\n\nFeature        | Implicitly Enables | Feature Name\n-------        | ------------------ | ------------\n`aes`          | `neon`             | FEAT_AES & FEAT_PMULL --- Advanced <abbr title=\"Single Instruction Multiple Data\">SIMD</abbr> AES & PMULL instructions\n`bf16`         |                    | FEAT_BF16 --- BFloat16 instructions\n`bti`          |                    | FEAT_BTI --- Branch Target Identification\n`crc`          |                    | FEAT_CRC --- CRC32 checksum instructions\n`dit`          |                    | FEAT_DIT  --- Data Independent Timing instructions\n`dotprod`      | `neon`             | FEAT_DotProd --- Advanced SIMD Int8 dot product instructions\n`dpb`          |                    | FEAT_DPB --- Data cache clean to point of persistence\n`dpb2`         | `dpb`              | FEAT_DPB2 --- Data cache clean to point of deep persistence\n`f32mm`        | `sve`              | FEAT_F32MM --- SVE single-precision FP matrix multiply instruction\n`f64mm`        | `sve`              | FEAT_F64MM --- SVE double-precision FP matrix multiply instruction\n`fcma`         | `neon`             | FEAT_FCMA --- Floating point complex number support\n`fhm`          | `fp16`             | FEAT_FHM --- Half-precision FP FMLAL instructions\n`flagm`        |                    | FEAT_FLAGM --- Conditional flag manipulation\n`fp16`         | `neon`             | FEAT_FP16 --- Half-precision FP data processing\n`frintts`      |                    | FEAT_FRINTTS --- Floating-point to int helper instructions\n`i8mm`         |                    | FEAT_I8MM --- Int8 Matrix Multiplication\n`jsconv`       | `neon`             | FEAT_JSCVT --- JavaScript conversion instruction\n`lor`          |                    | FEAT_LOR --- Limited Ordering Regions extension\n`lse`          |                    | FEAT_LSE --- Large System Extensions\n`mte`          |                    | FEAT_MTE & FEAT_MTE2 --- Memory Tagging Extension\n`neon`         |                    | FEAT_AdvSimd & FEAT_FP --- Floating Point and Advanced SIMD extension\n`paca`         |                    | FEAT_PAUTH --- Pointer Authentication (address authentication)\n`pacg`         |                    | FEAT_PAUTH --- Pointer Authentication (generic authentication)\n`pan`          |                    | FEAT_PAN --- Privileged Access-Never extension\n`pmuv3`        |                    | FEAT_PMUv3 --- Performance Monitors extension (v3)\n`rand`         |                    | FEAT_RNG --- Random Number Generator\n`ras`          |                    | FEAT_RAS & FEAT_RASv1p1 --- Reliability, Availability and Serviceability extension\n`rcpc`         |                    | FEAT_LRCPC --- Release consistent Processor Consistent\n`rcpc2`        | `rcpc`             | FEAT_LRCPC2 --- RcPc with immediate offsets\n`rdm`          | `neon`             | FEAT_RDM --- Rounding Double Multiply accumulate\n`sb`           |                    | FEAT_SB --- Speculation Barrier\n`sha2`         | `neon`             | FEAT_SHA1 & FEAT_SHA256 --- Advanced SIMD SHA instructions\n`sha3`         | `sha2`             | FEAT_SHA512 & FEAT_SHA3 --- Advanced SIMD SHA instructions\n`sm4`          | `neon`             | FEAT_SM3 & FEAT_SM4 --- Advanced SIMD SM3/4 instructions\n`spe`          |                    | FEAT_SPE --- Statistical Profiling Extension\n`ssbs`         |                    | FEAT_SSBS & FEAT_SSBS2 --- Speculative Store Bypass Safe\n`sve`          | `neon`             | FEAT_SVE --- Scalable Vector Extension\n`sve2`         | `sve`              | FEAT_SVE2 --- Scalable Vector Extension 2\n`sve2-aes`     | `sve2`, `aes`      | FEAT_SVE_AES & FEAT_SVE_PMULL128 --- SVE AES instructions\n`sve2-bitperm` | `sve2`             | FEAT_SVE2_BitPerm --- SVE Bit Permute\n`sve2-sha3`    | `sve2`, `sha3`     | FEAT_SVE2_SHA3 --- SVE SHA3 instructions\n`sve2-sm4`     | `sve2`, `sm4`      | FEAT_SVE2_SM4 --- SVE SM4 instructions\n`tme`          |                    | FEAT_TME --- Transactional Memory Extension\n`vh`           |                    | FEAT_VHE --- Virtualization Host Extensions"
      }
    },
    {
      "id": "attributes.codegen.target_feature.loongarch",
      "title": "`loongarch`",
      "level": 4,
      "content": "On this platform the usage of `#[target_feature]` functions follows the\nabove restrictions.\n\nFeature     | Implicitly Enables  | Description\n------------|---------------------|-------------------\n`f`         |                     | F --- Single-precision float-point instructions\n`d`         | `f`                 | D --- Double-precision float-point instructions\n`frecipe`   |                     | FRECIPE --- Reciprocal approximation instructions\n`lasx`      | `lsx`               | LASX --- 256-bit vector instructions\n`lbt`       |                     | LBT --- Binary translation instructions\n`lsx`       | `d`                 | LSX --- 128-bit vector instructions\n`lvz`       |                     | LVZ --- Virtualization instructions\n\n<!-- Keep links near each table to make it easier to move and update. -->\n\n[la-f]: https://loongson.github.io/LoongArch-Documentation/LoongArch-Vol1-EN.html#cpucfg-fp_sp\n[la-d]: https://loongson.github.io/LoongArch-Documentation/LoongArch-Vol1-EN.html#cpucfg-fp_dp\n[la-frecipe]: https://loongson.github.io/LoongArch-Documentation/LoongArch-Vol1-EN.html#cpucfg-frecipe\n[la-lasx]: https://loongson.github.io/LoongArch-Documentation/LoongArch-Vol1-EN.html#cpucfg-lasx\n[la-lbt]: https://loongson.github.io/LoongArch-Documentation/LoongArch-Vol1-EN.html#cpucfg-lbt_x86\n[la-lsx]: https://loongson.github.io/LoongArch-Documentation/LoongArch-Vol1-EN.html#cpucfg-lsx\n[la-lvz]: https://loongson.github.io/LoongArch-Documentation/LoongArch-Vol1-EN.html#cpucfg-lvz",
      "parent_id": null,
      "paragraphs": {
        "attributes.codegen.target_feature.loongarch": "On this platform the usage of `#[target_feature]` functions follows the\nabove restrictions.\n\nFeature     | Implicitly Enables  | Description\n------------|---------------------|-------------------\n`f`         |                     | F --- Single-precision float-point instructions\n`d`         | `f`                 | D --- Double-precision float-point instructions\n`frecipe`   |                     | FRECIPE --- Reciprocal approximation instructions\n`lasx`      | `lsx`               | LASX --- 256-bit vector instructions\n`lbt`       |                     | LBT --- Binary translation instructions\n`lsx`       | `d`                 | LSX --- 128-bit vector instructions\n`lvz`       |                     | LVZ --- Virtualization instructions\n\n<!-- Keep links near each table to make it easier to move and update. -->\n\n[la-f]: https://loongson.github.io/LoongArch-Documentation/LoongArch-Vol1-EN.html#cpucfg-fp_sp\n[la-d]: https://loongson.github.io/LoongArch-Documentation/LoongArch-Vol1-EN.html#cpucfg-fp_dp\n[la-frecipe]: https://loongson.github.io/LoongArch-Documentation/LoongArch-Vol1-EN.html#cpucfg-frecipe\n[la-lasx]: https://loongson.github.io/LoongArch-Documentation/LoongArch-Vol1-EN.html#cpucfg-lasx\n[la-lbt]: https://loongson.github.io/LoongArch-Documentation/LoongArch-Vol1-EN.html#cpucfg-lbt_x86\n[la-lsx]: https://loongson.github.io/LoongArch-Documentation/LoongArch-Vol1-EN.html#cpucfg-lsx\n[la-lvz]: https://loongson.github.io/LoongArch-Documentation/LoongArch-Vol1-EN.html#cpucfg-lvz"
      }
    },
    {
      "id": "attributes.codegen.target_feature.riscv",
      "title": "`riscv32` or `riscv64`",
      "level": 4,
      "content": "On this platform the usage of `#[target_feature]` functions follows the\nabove restrictions.\n\nFurther documentation on these features can be found in their respective\nspecification. Many specifications are described in the [RISC-V ISA Manual],\n[version 20250508], or in another manual hosted on the [RISC-V GitHub Account].\n\n[RISC-V ISA Manual]: https://github.com/riscv/riscv-isa-manual\n[version 20250508]: https://github.com/riscv/riscv-isa-manual/tree/20250508\n[RISC-V GitHub Account]: https://github.com/riscv\n\nFeature     | Implicitly Enables  | Description\n------------|---------------------|-------------------\n`a`         |                     | A --- Atomic instructions\n`c`         |                     | C --- Compressed instructions\n`m`         |                     | M --- Integer Multiplication and Division instructions\n`zba`       |                     | Zba --- Address Generation instructions\n`zbb`       |                     | Zbb --- Basic bit-manipulation\n`zbc`       | `zbkc`              | Zbc --- Carry-less multiplication\n`zbkb`      |                     | Zbkb --- Bit Manipulation Instructions for Cryptography\n`zbkc`      |                     | Zbkc --- Carry-less multiplication for Cryptography\n`zbkx`      |                     | Zbkx --- Crossbar permutations\n`zbs`       |                     | Zbs --- Single-bit instructions\n`zk`        | `zkn`, `zkr`, `zks`, `zkt`, `zbkb`, `zbkc`, `zkbx` | Zk --- Scalar Cryptography\n`zkn`       | `zknd`, `zkne`, `zknh`, `zbkb`, `zbkc`, `zkbx`     | Zkn --- NIST Algorithm suite extension\n`zknd`      |                                                    | Zknd --- NIST Suite: AES Decryption\n`zkne`      |                                                    | Zkne --- NIST Suite: AES Encryption\n`zknh`      |                                                    | Zknh --- NIST Suite: Hash Function Instructions\n`zkr`       |                                                    | Zkr --- Entropy Source Extension\n`zks`       | `zksed`, `zksh`, `zbkb`, `zbkc`, `zkbx`            | Zks --- ShangMi Algorithm Suite\n`zksed`     |                                                    | Zksed --- ShangMi Suite: SM4 Block Cipher Instructions\n`zksh`      |                                                    | Zksh --- ShangMi Suite: SM3 Hash Function Instructions\n`zkt`       |                                                    | Zkt --- Data Independent Execution Latency Subset\n\n<!-- Keep links near each table to make it easier to move and update. -->\n\n[rv-a]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/a-st-ext.adoc\n[rv-c]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/c-st-ext.adoc\n[rv-m]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/m-st-ext.adoc\n[rv-zba]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/b-st-ext.adoc\n[rv-zbb]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/b-st-ext.adoc\n[rv-zbc]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/b-st-ext.adoc\n[rv-zbkb]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/b-st-ext.adoc\n[rv-zbkc]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/b-st-ext.adoc\n[rv-zbkx]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/b-st-ext.adoc\n[rv-zbs]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/b-st-ext.adoc\n[rv-zk]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/scalar-crypto.adoc\n[rv-zkn]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/scalar-crypto.adoc\n[rv-zkne]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/scalar-crypto.adoc\n[rv-zknd]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/scalar-crypto.adoc\n[rv-zknh]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/scalar-crypto.adoc\n[rv-zkr]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/scalar-crypto.adoc\n[rv-zks]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/scalar-crypto.adoc\n[rv-zksed]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/scalar-crypto.adoc\n[rv-zksh]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/scalar-crypto.adoc\n[rv-zkt]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/scalar-crypto.adoc",
      "parent_id": null,
      "paragraphs": {
        "attributes.codegen.target_feature.riscv": "On this platform the usage of `#[target_feature]` functions follows the\nabove restrictions.\n\nFurther documentation on these features can be found in their respective\nspecification. Many specifications are described in the [RISC-V ISA Manual],\n[version 20250508], or in another manual hosted on the [RISC-V GitHub Account].\n\n[RISC-V ISA Manual]: https://github.com/riscv/riscv-isa-manual\n[version 20250508]: https://github.com/riscv/riscv-isa-manual/tree/20250508\n[RISC-V GitHub Account]: https://github.com/riscv\n\nFeature     | Implicitly Enables  | Description\n------------|---------------------|-------------------\n`a`         |                     | A --- Atomic instructions\n`c`         |                     | C --- Compressed instructions\n`m`         |                     | M --- Integer Multiplication and Division instructions\n`zba`       |                     | Zba --- Address Generation instructions\n`zbb`       |                     | Zbb --- Basic bit-manipulation\n`zbc`       | `zbkc`              | Zbc --- Carry-less multiplication\n`zbkb`      |                     | Zbkb --- Bit Manipulation Instructions for Cryptography\n`zbkc`      |                     | Zbkc --- Carry-less multiplication for Cryptography\n`zbkx`      |                     | Zbkx --- Crossbar permutations\n`zbs`       |                     | Zbs --- Single-bit instructions\n`zk`        | `zkn`, `zkr`, `zks`, `zkt`, `zbkb`, `zbkc`, `zkbx` | Zk --- Scalar Cryptography\n`zkn`       | `zknd`, `zkne`, `zknh`, `zbkb`, `zbkc`, `zkbx`     | Zkn --- NIST Algorithm suite extension\n`zknd`      |                                                    | Zknd --- NIST Suite: AES Decryption\n`zkne`      |                                                    | Zkne --- NIST Suite: AES Encryption\n`zknh`      |                                                    | Zknh --- NIST Suite: Hash Function Instructions\n`zkr`       |                                                    | Zkr --- Entropy Source Extension\n`zks`       | `zksed`, `zksh`, `zbkb`, `zbkc`, `zkbx`            | Zks --- ShangMi Algorithm Suite\n`zksed`     |                                                    | Zksed --- ShangMi Suite: SM4 Block Cipher Instructions\n`zksh`      |                                                    | Zksh --- ShangMi Suite: SM3 Hash Function Instructions\n`zkt`       |                                                    | Zkt --- Data Independent Execution Latency Subset\n\n<!-- Keep links near each table to make it easier to move and update. -->\n\n[rv-a]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/a-st-ext.adoc\n[rv-c]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/c-st-ext.adoc\n[rv-m]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/m-st-ext.adoc\n[rv-zba]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/b-st-ext.adoc\n[rv-zbb]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/b-st-ext.adoc\n[rv-zbc]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/b-st-ext.adoc\n[rv-zbkb]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/b-st-ext.adoc\n[rv-zbkc]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/b-st-ext.adoc\n[rv-zbkx]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/b-st-ext.adoc\n[rv-zbs]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/b-st-ext.adoc\n[rv-zk]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/scalar-crypto.adoc\n[rv-zkn]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/scalar-crypto.adoc\n[rv-zkne]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/scalar-crypto.adoc\n[rv-zknd]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/scalar-crypto.adoc\n[rv-zknh]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/scalar-crypto.adoc\n[rv-zkr]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/scalar-crypto.adoc\n[rv-zks]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/scalar-crypto.adoc\n[rv-zksed]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/scalar-crypto.adoc\n[rv-zksh]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/scalar-crypto.adoc\n[rv-zkt]: https://github.com/riscv/riscv-isa-manual/blob/20250508/src/scalar-crypto.adoc"
      }
    },
    {
      "id": "attributes.codegen.target_feature.wasm",
      "title": "`wasm32` or `wasm64`",
      "level": 4,
      "content": "Safe `#[target_feature]` functions may always be used in safe contexts on Wasm\nplatforms. It is impossible to cause undefined behavior via the\n`#[target_feature]` attribute because attempting to use instructions\nunsupported by the Wasm engine will fail at load time without the risk of being\ninterpreted in a way different from what the compiler expected.\n\nFeature               | Implicitly Enables  | Description\n----------------------|---------------------|-------------------\n`bulk-memory`         |                     | WebAssembly bulk memory operations proposal\n`extended-const`      |                     | WebAssembly extended const expressions proposal\n`mutable-globals`     |                     | WebAssembly mutable global proposal\n`nontrapping-fptoint` |                     | WebAssembly non-trapping float-to-int conversion proposal\n`relaxed-simd`        | `simd128`           | WebAssembly relaxed simd proposal\n`sign-ext`            |                     | WebAssembly sign extension operators Proposal\n`simd128`             |                     | WebAssembly simd proposal\n`multivalue`          |                     | WebAssembly multivalue proposal\n`reference-types`     |                     | WebAssembly reference-types proposal\n`tail-call`           |                     | WebAssembly tail-call proposal\n\n[bulk-memory]: https://github.com/WebAssembly/bulk-memory-operations\n[extended-const]: https://github.com/WebAssembly/extended-const\n[mutable-globals]: https://github.com/WebAssembly/mutable-global\n[nontrapping-fptoint]: https://github.com/WebAssembly/nontrapping-float-to-int-conversions\n[relaxed-simd]: https://github.com/WebAssembly/relaxed-simd\n[sign-ext]: https://github.com/WebAssembly/sign-extension-ops\n[simd128]: https://github.com/webassembly/simd\n[reference-types]: https://github.com/webassembly/reference-types\n[tail-call]: https://github.com/webassembly/tail-call\n[multivalue]: https://github.com/webassembly/multi-value",
      "parent_id": null,
      "paragraphs": {
        "attributes.codegen.target_feature.wasm": "Safe `#[target_feature]` functions may always be used in safe contexts on Wasm\nplatforms. It is impossible to cause undefined behavior via the\n`#[target_feature]` attribute because attempting to use instructions\nunsupported by the Wasm engine will fail at load time without the risk of being\ninterpreted in a way different from what the compiler expected.\n\nFeature               | Implicitly Enables  | Description\n----------------------|---------------------|-------------------\n`bulk-memory`         |                     | WebAssembly bulk memory operations proposal\n`extended-const`      |                     | WebAssembly extended const expressions proposal\n`mutable-globals`     |                     | WebAssembly mutable global proposal\n`nontrapping-fptoint` |                     | WebAssembly non-trapping float-to-int conversion proposal\n`relaxed-simd`        | `simd128`           | WebAssembly relaxed simd proposal\n`sign-ext`            |                     | WebAssembly sign extension operators Proposal\n`simd128`             |                     | WebAssembly simd proposal\n`multivalue`          |                     | WebAssembly multivalue proposal\n`reference-types`     |                     | WebAssembly reference-types proposal\n`tail-call`           |                     | WebAssembly tail-call proposal\n\n[bulk-memory]: https://github.com/WebAssembly/bulk-memory-operations\n[extended-const]: https://github.com/WebAssembly/extended-const\n[mutable-globals]: https://github.com/WebAssembly/mutable-global\n[nontrapping-fptoint]: https://github.com/WebAssembly/nontrapping-float-to-int-conversions\n[relaxed-simd]: https://github.com/WebAssembly/relaxed-simd\n[sign-ext]: https://github.com/WebAssembly/sign-extension-ops\n[simd128]: https://github.com/webassembly/simd\n[reference-types]: https://github.com/webassembly/reference-types\n[tail-call]: https://github.com/webassembly/tail-call\n[multivalue]: https://github.com/webassembly/multi-value"
      }
    },
    {
      "id": "attributes.codegen.target_feature.s390x",
      "title": "`s390x`",
      "level": 4,
      "content": "On `s390x` targets, use of functions with the `#[target_feature]` attribute follows the above restrictions.\n\nFurther documentation on these features can be found in the \"Additions to z/Architecture\" section of Chapter 1 of the *[z/Architecture Principles of Operation]*.\n\nFeature                                | Implicitly Enables                    | Description\n---------------------------------------|---------------------------------------|---------------------\n`vector`                               |                                       | 128-bit vector instructions\n`vector-enhancements-1`                | `vector`                              | vector enhancements 1\n`vector-enhancements-2`                | `vector-enhancements-1`               | vector enhancements 2\n`vector-enhancements-3`                | `vector-enhancements-2`               | vector enhancements 3\n`vector-packed-decimal`                | `vector`                              | vector packed-decimal\n`vector-packed-decimal-enhancement`    | `vector-packed-decimal`               | vector packed-decimal enhancement\n`vector-packed-decimal-enhancement-2`  | `vector-packed-decimal-enhancement-2` | vector packed-decimal enhancement 2\n`vector-packed-decimal-enhancement-3`  | `vector-packed-decimal-enhancement-3` | vector packed-decimal enhancement 3\n`nnp-assist`                           | `vector`                              | nnp assist\n`miscellaneous-extensions-2`           |                                       | miscellaneous extensions 2\n`miscellaneous-extensions-3`           |                                       | miscellaneous extensions 3\n`miscellaneous-extensions-4`           |                                       | miscellaneous extensions 4\n\n[z/Architecture Principles of Operation]: https://publibfp.dhe.ibm.com/epubs/pdf/a227832d.pdf",
      "parent_id": null,
      "paragraphs": {
        "attributes.codegen.target_feature.s390x": "On `s390x` targets, use of functions with the `#[target_feature]` attribute follows the above restrictions.\n\nFurther documentation on these features can be found in the \"Additions to z/Architecture\" section of Chapter 1 of the *[z/Architecture Principles of Operation]*.\n\nFeature                                | Implicitly Enables                    | Description\n---------------------------------------|---------------------------------------|---------------------\n`vector`                               |                                       | 128-bit vector instructions\n`vector-enhancements-1`                | `vector`                              | vector enhancements 1\n`vector-enhancements-2`                | `vector-enhancements-1`               | vector enhancements 2\n`vector-enhancements-3`                | `vector-enhancements-2`               | vector enhancements 3\n`vector-packed-decimal`                | `vector`                              | vector packed-decimal\n`vector-packed-decimal-enhancement`    | `vector-packed-decimal`               | vector packed-decimal enhancement\n`vector-packed-decimal-enhancement-2`  | `vector-packed-decimal-enhancement-2` | vector packed-decimal enhancement 2\n`vector-packed-decimal-enhancement-3`  | `vector-packed-decimal-enhancement-3` | vector packed-decimal enhancement 3\n`nnp-assist`                           | `vector`                              | nnp assist\n`miscellaneous-extensions-2`           |                                       | miscellaneous extensions 2\n`miscellaneous-extensions-3`           |                                       | miscellaneous extensions 3\n`miscellaneous-extensions-4`           |                                       | miscellaneous extensions 4\n\n[z/Architecture Principles of Operation]: https://publibfp.dhe.ibm.com/epubs/pdf/a227832d.pdf"
      }
    },
    {
      "id": "attributes.codegen.target_feature.info",
      "title": "Additional information",
      "level": 4,
      "content": "See the [`target_feature` conditional compilation option] for selectively\nenabling or disabling compilation of code based on compile-time settings. Note\nthat this option is not affected by the `target_feature` attribute, and is\nonly driven by the features enabled for the entire crate.\n\nWhether a feature is enabled can be checked at runtime using a platform-specific macro from the standard library, for instance [`is_x86_feature_detected`] or [`is_aarch64_feature_detected`].\n\n> [!NOTE]\n> `rustc` has a default set of features enabled for each target and CPU. The CPU may be chosen with the [`-C target-cpu`] flag. Individual features may be enabled or disabled for an entire crate with the [`-C target-feature`] flag.",
      "parent_id": null,
      "paragraphs": {
        "attributes.codegen.target_feature.remark-cfg": "See the [`target_feature` conditional compilation option] for selectively\nenabling or disabling compilation of code based on compile-time settings. Note\nthat this option is not affected by the `target_feature` attribute, and is\nonly driven by the features enabled for the entire crate.",
        "attributes.codegen.target_feature.remark-rt": "Whether a feature is enabled can be checked at runtime using a platform-specific macro from the standard library, for instance [`is_x86_feature_detected`] or [`is_aarch64_feature_detected`].\n\n> [!NOTE]\n> `rustc` has a default set of features enabled for each target and CPU. The CPU may be chosen with the [`-C target-cpu`] flag. Individual features may be enabled or disabled for an entire crate with the [`-C target-feature`] flag."
      }
    },
    {
      "id": "attributes.codegen.track_caller",
      "title": "The `track_caller` attribute",
      "level": 3,
      "content": "The `track_caller` attribute may be applied to any function with `\"Rust\"` ABI\nwith the exception of the entry point `fn main`.\n\nWhen applied to functions and methods in trait declarations, the attribute applies to all implementations. If the trait provides a\ndefault implementation with the attribute, then the attribute also applies to override implementations.\n\nWhen applied to a function in an `extern` block the attribute must also be applied to any linked\nimplementations, otherwise undefined behavior results. When applied to a function which is made\navailable to an `extern` block, the declaration in the `extern` block must also have the attribute,\notherwise undefined behavior results.",
      "parent_id": null,
      "paragraphs": {
        "attributes.codegen.track_caller.allowed-positions": "The `track_caller` attribute may be applied to any function with `\"Rust\"` ABI\nwith the exception of the entry point `fn main`.",
        "attributes.codegen.track_caller.traits": "When applied to functions and methods in trait declarations, the attribute applies to all implementations. If the trait provides a\ndefault implementation with the attribute, then the attribute also applies to override implementations.",
        "attributes.codegen.track_caller.extern": "When applied to a function in an `extern` block the attribute must also be applied to any linked\nimplementations, otherwise undefined behavior results. When applied to a function which is made\navailable to an `extern` block, the declaration in the `extern` block must also have the attribute,\notherwise undefined behavior results."
      }
    },
    {
      "id": "attributes.codegen.track_caller.behavior",
      "title": "Behavior",
      "level": 2,
      "content": "Applying the attribute to a function `f` allows code within `f` to get a hint of the [`Location`] of\nthe \"topmost\" tracked call that led to `f`'s invocation. At the point of observation, an\nimplementation behaves as if it walks up the stack from `f`'s frame to find the nearest frame of an\n*unattributed* function `outer`, and it returns the [`Location`] of the tracked call in `outer`.\n\n#[track_caller]\nfn f() {\n    println!(\"{}\", std::panic::Location::caller());\n}\n\n> [!NOTE]\n> `core` provides [`core::panic::Location::caller`] for observing caller locations. It wraps the [`core::intrinsics::caller_location`] intrinsic implemented by `rustc`.\n\n> [!NOTE]\n> Because the resulting `Location` is a hint, an implementation may halt its walk up the stack early. See Limitations for important caveats.\n\n#### Examples\n\nWhen `f` is called directly by `calls_f`, code in `f` observes its callsite within `calls_f`:\n\n# #[track_caller]\n# fn f() {\n#     println!(\"{}\", std::panic::Location::caller());\n# }\nfn calls_f() {\n    f(); // <-- f() prints this location\n}\n\nWhen `f` is called by another attributed function `g` which is in turn called by `calls_g`, code in\nboth `f` and `g` observes `g`'s callsite within `calls_g`:\n\n# #[track_caller]\n# fn f() {\n#     println!(\"{}\", std::panic::Location::caller());\n# }\n#[track_caller]\nfn g() {\n    println!(\"{}\", std::panic::Location::caller());\n    f();\n}\n\nfn calls_g() {\n    g(); // <-- g() prints this location twice, once itself and once from f()\n}\n\nWhen `g` is called by another attributed function `h` which is in turn called by `calls_h`, all code\nin `f`, `g`, and `h` observes `h`'s callsite within `calls_h`:\n\n# #[track_caller]\n# fn f() {\n#     println!(\"{}\", std::panic::Location::caller());\n# }\n# #[track_caller]\n# fn g() {\n#     println!(\"{}\", std::panic::Location::caller());\n#     f();\n# }\n#[track_caller]\nfn h() {\n    println!(\"{}\", std::panic::Location::caller());\n    g();\n}\n\nfn calls_h() {\n    h(); // <-- prints this location three times, once itself, once from g(), once from f()\n}\n\nAnd so on.",
      "parent_id": null,
      "paragraphs": {
        "attributes.codegen.track_caller.behavior": "Applying the attribute to a function `f` allows code within `f` to get a hint of the [`Location`] of\nthe \"topmost\" tracked call that led to `f`'s invocation. At the point of observation, an\nimplementation behaves as if it walks up the stack from `f`'s frame to find the nearest frame of an\n*unattributed* function `outer`, and it returns the [`Location`] of the tracked call in `outer`.\n\n#[track_caller]\nfn f() {\n    println!(\"{}\", std::panic::Location::caller());\n}\n\n> [!NOTE]\n> `core` provides [`core::panic::Location::caller`] for observing caller locations. It wraps the [`core::intrinsics::caller_location`] intrinsic implemented by `rustc`.\n\n> [!NOTE]\n> Because the resulting `Location` is a hint, an implementation may halt its walk up the stack early. See Limitations for important caveats.\n\n#### Examples\n\nWhen `f` is called directly by `calls_f`, code in `f` observes its callsite within `calls_f`:\n\n# #[track_caller]\n# fn f() {\n#     println!(\"{}\", std::panic::Location::caller());\n# }\nfn calls_f() {\n    f(); // <-- f() prints this location\n}\n\nWhen `f` is called by another attributed function `g` which is in turn called by `calls_g`, code in\nboth `f` and `g` observes `g`'s callsite within `calls_g`:\n\n# #[track_caller]\n# fn f() {\n#     println!(\"{}\", std::panic::Location::caller());\n# }\n#[track_caller]\nfn g() {\n    println!(\"{}\", std::panic::Location::caller());\n    f();\n}\n\nfn calls_g() {\n    g(); // <-- g() prints this location twice, once itself and once from f()\n}\n\nWhen `g` is called by another attributed function `h` which is in turn called by `calls_h`, all code\nin `f`, `g`, and `h` observes `h`'s callsite within `calls_h`:\n\n# #[track_caller]\n# fn f() {\n#     println!(\"{}\", std::panic::Location::caller());\n# }\n# #[track_caller]\n# fn g() {\n#     println!(\"{}\", std::panic::Location::caller());\n#     f();\n# }\n#[track_caller]\nfn h() {\n    println!(\"{}\", std::panic::Location::caller());\n    g();\n}\n\nfn calls_h() {\n    h(); // <-- prints this location three times, once itself, once from g(), once from f()\n}\n\nAnd so on."
      }
    },
    {
      "id": "attributes.codegen.track_caller.limits",
      "title": "Limitations",
      "level": 1,
      "content": "This information is a hint and implementations are not required to preserve it.\n\nIn particular, coercing a function with `#[track_caller]` to a function pointer creates a shim which\nappears to observers to have been called at the attributed function's definition site, losing actual\ncaller information across virtual calls. A common example of this coercion is the creation of a\ntrait object whose methods are attributed.\n\n> [!NOTE]\n> The aforementioned shim for function pointers is necessary because `rustc` implements `track_caller` in a codegen context by appending an implicit parameter to the function ABI, but this would be unsound for an indirect call because the parameter is not a part of the function's type and a given function pointer type may or may not refer to a function with the attribute. The creation of a shim hides the implicit parameter from callers of the function pointer, preserving soundness.\n\n<!-- template:attributes -->",
      "parent_id": null,
      "paragraphs": {
        "attributes.codegen.track_caller.hint": "This information is a hint and implementations are not required to preserve it.",
        "attributes.codegen.track_caller.decay": "In particular, coercing a function with `#[track_caller]` to a function pointer creates a shim which\nappears to observers to have been called at the attributed function's definition site, losing actual\ncaller information across virtual calls. A common example of this coercion is the creation of a\ntrait object whose methods are attributed.\n\n> [!NOTE]\n> The aforementioned shim for function pointers is necessary because `rustc` implements `track_caller` in a codegen context by appending an implicit parameter to the function ABI, but this would be unsound for an indirect call because the parameter is not a part of the function's type and a given function pointer type may or may not refer to a function with the attribute. The creation of a shim hides the implicit parameter from callers of the function pointer, preserving soundness.\n\n<!-- template:attributes -->"
      }
    },
    {
      "id": "attributes.codegen.instruction_set",
      "title": "The `instruction_set` attribute",
      "level": 3,
      "content": "The *`instruction_set` [attribute]* specifies the instruction set that a function will use during code generation. This allows mixing more than one instruction set in a single program.\n\n> [!EXAMPLE]\n> <!-- ignore: arm-only -->\n> ```rust,ignore\n> #[instruction_set(arm::a32)]\n> fn arm_code() {}\n>\n> #[instruction_set(arm::t32)]\n> fn thumb_code() {}\n> ```\n\nThe `instruction_set` attribute uses the [MetaListPaths] syntax to specify a single path consisting of the architecture family name and instruction set name.\n\nThe `instruction_set` attribute may only be applied to functions with [bodies] --- [closures], [async blocks], [free functions], [associated functions] in an [inherent impl] or [trait impl], and associated functions in a [trait definition] when those functions have a [default definition] .\n\n> [!NOTE]\n> `rustc` ignores use in other positions but lints against it. This may become an error in the future.\n\n> [!NOTE]\n> Though the attribute can be applied to [closures] and [async blocks], the usefulness of this is limited as we do not yet support attributes on expressions.\n\nThe `instruction_set` attribute may be used only once on a function.\n\nThe `instruction_set` attribute may only be used with a target that supports the given value.\n\nWhen the `instruction_set` attribute is used, any inline assembly in the function must use the specified instruction set instead of the target default.",
      "parent_id": null,
      "paragraphs": {
        "attributes.codegen.instruction_set.intro": "The *`instruction_set` [attribute]* specifies the instruction set that a function will use during code generation. This allows mixing more than one instruction set in a single program.\n\n> [!EXAMPLE]\n> <!-- ignore: arm-only -->\n> ```rust,ignore\n> #[instruction_set(arm::a32)]\n> fn arm_code() {}\n>\n> #[instruction_set(arm::t32)]\n> fn thumb_code() {}\n> ```",
        "attributes.codegen.instruction_set.syntax": "The `instruction_set` attribute uses the [MetaListPaths] syntax to specify a single path consisting of the architecture family name and instruction set name.",
        "attributes.codegen.instruction_set.allowed-positions": "The `instruction_set` attribute may only be applied to functions with [bodies] --- [closures], [async blocks], [free functions], [associated functions] in an [inherent impl] or [trait impl], and associated functions in a [trait definition] when those functions have a [default definition] .\n\n> [!NOTE]\n> `rustc` ignores use in other positions but lints against it. This may become an error in the future.\n\n> [!NOTE]\n> Though the attribute can be applied to [closures] and [async blocks], the usefulness of this is limited as we do not yet support attributes on expressions.",
        "attributes.codegen.instruction_set.duplicates": "The `instruction_set` attribute may be used only once on a function.",
        "attributes.codegen.instruction_set.target-limits": "The `instruction_set` attribute may only be used with a target that supports the given value.",
        "attributes.codegen.instruction_set.inline-asm": "When the `instruction_set` attribute is used, any inline assembly in the function must use the specified instruction set instead of the target default."
      }
    },
    {
      "id": "attributes.codegen.instruction_set.arm",
      "title": "`instruction_set` on ARM",
      "level": 2,
      "content": "When targeting the `ARMv4T` and `ARMv5te` architectures, the supported values for `instruction_set` are:\n\n- `arm::a32` --- Generate the function as A32 \"ARM\" code.\n- `arm::t32` --- Generate the function as T32 \"Thumb\" code.\n\nIf the address of the function is taken as a function pointer, the low bit of the address will depend on the selected instruction set:\n\n- For `arm::a32` (\"ARM\"), it will be 0.\n- For `arm::t32` (\"Thumb\"), it will be 1.\n\n[`-C target-cpu`]: ../../rustc/codegen-options/index.html#target-cpu\n[`-C target-feature`]: ../../rustc/codegen-options/index.html#target-feature\n[`export_name`]: abi.export_name\n[`is_aarch64_feature_detected`]: ../../std/arch/macro.is_aarch64_feature_detected.html\n[`is_x86_feature_detected`]: ../../std/arch/macro.is_x86_feature_detected.html\n[`Location`]: core::panic::Location\n[`naked_asm!`]: ../inline-assembly.md\n[`no_mangle`]: abi.no_mangle\n[`target_feature` conditional compilation option]: ../conditional-compilation.md#target_feature\n[`unused_variables`]: ../../rustc/lints/listing/warn-by-default.html#unused-variables\n[associated functions]: items.associated.fn\n[async blocks]: expr.block.async\n[async closure]: expr.closure.async\n[async function]: items.fn.async\n[attribute]: ../attributes.md\n[attributes]: ../attributes.md\n[bodies]: items.fn.body\n[closures]: expr.closure\n[default definition]: items.traits.associated-item-decls\n[free functions]: items.fn\n[function body]: ../items/functions.md#function-body\n[functions]: ../items/functions.md\n[inherent impl]: items.impl.inherent\n[rust-abi]: ../items/external-blocks.md#abi\n[target architecture]: ../conditional-compilation.md#target_arch\n[trait]: items.traits\n[trait definition]: items.traits\n[trait impl]: items.impl.trait\n[undefined behavior]: ../behavior-considered-undefined.md\n[unsafe attribute]: ../attributes.md#r-attributes.safety",
      "parent_id": null,
      "paragraphs": {
        "attributes.codegen.instruction_set.arm": "When targeting the `ARMv4T` and `ARMv5te` architectures, the supported values for `instruction_set` are:\n\n- `arm::a32` --- Generate the function as A32 \"ARM\" code.\n- `arm::t32` --- Generate the function as T32 \"Thumb\" code.\n\nIf the address of the function is taken as a function pointer, the low bit of the address will depend on the selected instruction set:\n\n- For `arm::a32` (\"ARM\"), it will be 0.\n- For `arm::t32` (\"Thumb\"), it will be 1.\n\n[`-C target-cpu`]: ../../rustc/codegen-options/index.html#target-cpu\n[`-C target-feature`]: ../../rustc/codegen-options/index.html#target-feature\n[`export_name`]: abi.export_name\n[`is_aarch64_feature_detected`]: ../../std/arch/macro.is_aarch64_feature_detected.html\n[`is_x86_feature_detected`]: ../../std/arch/macro.is_x86_feature_detected.html\n[`Location`]: core::panic::Location\n[`naked_asm!`]: ../inline-assembly.md\n[`no_mangle`]: abi.no_mangle\n[`target_feature` conditional compilation option]: ../conditional-compilation.md#target_feature\n[`unused_variables`]: ../../rustc/lints/listing/warn-by-default.html#unused-variables\n[associated functions]: items.associated.fn\n[async blocks]: expr.block.async\n[async closure]: expr.closure.async\n[async function]: items.fn.async\n[attribute]: ../attributes.md\n[attributes]: ../attributes.md\n[bodies]: items.fn.body\n[closures]: expr.closure\n[default definition]: items.traits.associated-item-decls\n[free functions]: items.fn\n[function body]: ../items/functions.md#function-body\n[functions]: ../items/functions.md\n[inherent impl]: items.impl.inherent\n[rust-abi]: ../items/external-blocks.md#abi\n[target architecture]: ../conditional-compilation.md#target_arch\n[trait]: items.traits\n[trait definition]: items.traits\n[trait impl]: items.impl.trait\n[undefined behavior]: ../behavior-considered-undefined.md\n[unsafe attribute]: ../attributes.md#r-attributes.safety"
      }
    },
    {
      "id": "attributes.limits",
      "title": "Limits",
      "level": 1,
      "content": "The following [attributes] affect compile-time limits.",
      "parent_id": null,
      "paragraphs": {
        "attributes.limits": "The following [attributes] affect compile-time limits."
      }
    },
    {
      "id": "attributes.limits.recursion_limit",
      "title": "The `recursion_limit` attribute",
      "level": 1,
      "content": "The *`recursion_limit` attribute* may be applied at the [crate] level to set the\nmaximum depth for potentially infinitely-recursive compile-time operations\nlike macro expansion or auto-dereference.\n\nIt uses the [MetaNameValueStr]\nsyntax to specify the recursion depth.\n\n> [!NOTE]\n> The default in `rustc` is 128.\n\n,compile_fail\n#![recursion_limit = \"4\"]\n\nmacro_rules! a {\n    () => { a!(1); };\n    (1) => { a!(2); };\n    (2) => { a!(3); };\n    (3) => { a!(4); };\n    (4) => { };\n}\n\n// This fails to expand because it requires a recursion depth greater than 4.\na!{}\n\n,compile_fail\n#![recursion_limit = \"1\"]\n\n// This fails because it requires two recursive steps to auto-dereference.\n(|_: &u8| {})(&&&1);\n\n<!-- template:attributes -->",
      "parent_id": null,
      "paragraphs": {
        "attributes.limits.recursion_limit.intro": "The *`recursion_limit` attribute* may be applied at the [crate] level to set the\nmaximum depth for potentially infinitely-recursive compile-time operations\nlike macro expansion or auto-dereference.",
        "attributes.limits.recursion_limit.syntax": "It uses the [MetaNameValueStr]\nsyntax to specify the recursion depth.\n\n> [!NOTE]\n> The default in `rustc` is 128.\n\n,compile_fail\n#![recursion_limit = \"4\"]\n\nmacro_rules! a {\n    () => { a!(1); };\n    (1) => { a!(2); };\n    (2) => { a!(3); };\n    (3) => { a!(4); };\n    (4) => { };\n}\n\n// This fails to expand because it requires a recursion depth greater than 4.\na!{}\n\n,compile_fail\n#![recursion_limit = \"1\"]\n\n// This fails because it requires two recursive steps to auto-dereference.\n(|_: &u8| {})(&&&1);\n\n<!-- template:attributes -->"
      }
    },
    {
      "id": "attributes.limits.type_length_limit",
      "title": "The `type_length_limit` attribute",
      "level": 2,
      "content": "The *`type_length_limit` attribute* sets the maximum number of type substitutions allowed when constructing a concrete type during monomorphization.\n\n> [!NOTE]\n> `rustc` only enforces the limit when the nightly `-Zenforce-type-length-limit` flag is active.\n>\n> For more information, see Rust PR #127670.\n\n> [!EXAMPLE]\n> <!-- ignore: not enforced without nightly flag -->\n> ```rust,ignore\n> #![type_length_limit = \"4\"]\n>\n> fn f<T>(x: T) {}\n>\n> // This fails to compile because monomorphizing to\n> // `f::<((((i32,), i32), i32), i32)>` requires more\n> // than 4 type elements.\n> f(((((1,), 2), 3), 4));\n> ```\n\n> [!NOTE]\n> The default value in `rustc` is `1048576`.\n\nThe `type_length_limit` attribute uses the [MetaNameValueStr] syntax. The value in the string must be a non-negative number.\n\nThe `type_length_limit` attribute may only be applied to the crate root.\n\n> [!NOTE]\n> `rustc` ignores use in other positions but lints against it. This may become an error in the future.\n\nOnly the first use of `type_length_limit` on an item has effect.\n\n> [!NOTE]\n> `rustc` lints against any use following the first. This may become an error in the future.\n\n[attributes]: ../attributes.md\n[crate]: ../crates-and-source-files.md",
      "parent_id": null,
      "paragraphs": {
        "attributes.limits.type_length_limit.intro": "The *`type_length_limit` attribute* sets the maximum number of type substitutions allowed when constructing a concrete type during monomorphization.\n\n> [!NOTE]\n> `rustc` only enforces the limit when the nightly `-Zenforce-type-length-limit` flag is active.\n>\n> For more information, see Rust PR #127670.\n\n> [!EXAMPLE]\n> <!-- ignore: not enforced without nightly flag -->\n> ```rust,ignore\n> #![type_length_limit = \"4\"]\n>\n> fn f<T>(x: T) {}\n>\n> // This fails to compile because monomorphizing to\n> // `f::<((((i32,), i32), i32), i32)>` requires more\n> // than 4 type elements.\n> f(((((1,), 2), 3), 4));\n> ```\n\n> [!NOTE]\n> The default value in `rustc` is `1048576`.",
        "attributes.limits.type_length_limit.syntax": "The `type_length_limit` attribute uses the [MetaNameValueStr] syntax. The value in the string must be a non-negative number.",
        "attributes.limits.type_length_limit.allowed-positions": "The `type_length_limit` attribute may only be applied to the crate root.\n\n> [!NOTE]\n> `rustc` ignores use in other positions but lints against it. This may become an error in the future.",
        "attributes.limits.type_length_limit.duplicates": "Only the first use of `type_length_limit` on an item has effect.\n\n> [!NOTE]\n> `rustc` lints against any use following the first. This may become an error in the future.\n\n[attributes]: ../attributes.md\n[crate]: ../crates-and-source-files.md"
      }
    },
    {
      "id": "attributes.type-system",
      "title": "Type system attributes",
      "level": 1,
      "content": "The following [attributes] are used for changing how a type can be used.",
      "parent_id": null,
      "paragraphs": {
        "attributes.type-system": "The following [attributes] are used for changing how a type can be used."
      }
    },
    {
      "id": "attributes.type-system.non_exhaustive",
      "title": "The `non_exhaustive` attribute",
      "level": 1,
      "content": "The *`non_exhaustive` attribute* indicates that a type or variant may have\nmore fields or variants added in the future.\n\nIt can be applied to `struct`s, `enum`s, and `enum` variants.\n\nThe `non_exhaustive` attribute uses the [MetaWord] syntax and thus does not\ntake any inputs.\n\nWithin the defining crate, `non_exhaustive` has no effect.\n\n#[non_exhaustive]\npub struct Config {\n    pub window_width: u16,\n    pub window_height: u16,\n}\n\n#[non_exhaustive]\npub struct Token;\n\n#[non_exhaustive]\npub struct Id(pub u64);\n\n#[non_exhaustive]\npub enum Error {\n    Message(String),\n    Other,\n}\n\npub enum Message {\n    #[non_exhaustive] Send { from: u32, to: u32, contents: String },\n    #[non_exhaustive] Reaction(u32),\n    #[non_exhaustive] Quit,\n}\n\n// Non-exhaustive structs can be constructed as normal within the defining crate.\nlet config = Config { window_width: 640, window_height: 480 };\nlet token = Token;\nlet id = Id(4);\n\n// Non-exhaustive structs can be matched on exhaustively within the defining crate.\nlet Config { window_width, window_height } = config;\nlet Token = token;\nlet Id(id_number) = id;\n\nlet error = Error::Other;\nlet message = Message::Reaction(3);\n\n// Non-exhaustive enums can be matched on exhaustively within the defining crate.\nmatch error {\n    Error::Message(ref s) => { },\n    Error::Other => { },\n}\n\nmatch message {\n    // Non-exhaustive variants can be matched on exhaustively within the defining crate.\n    Message::Send { from, to, contents } => { },\n    Message::Reaction(id) => { },\n    Message::Quit => { },\n}\n\nOutside of the defining crate, types annotated with `non_exhaustive` have limitations that\npreserve backwards compatibility when new fields or variants are added.\n\nNon-exhaustive types cannot be constructed outside of the defining crate:\n\n- Non-exhaustive variants (`struct` or `enum` variant) cannot be constructed\n  with a [StructExpression] \\(including with [functional update syntax]).\n- The implicitly defined same-named constant of a unit-like struct,\n  or the same-named constructor function of a tuple struct,\n  has a [visibility] no greater than `pub(crate)`.\n  That is, if the struct\u2019s visibility is `pub`, then the constant or constructor\u2019s visibility\n  is `pub(crate)`, and otherwise the visibility of the two items is the same\n  (as is the case without `#[non_exhaustive]`).\n- `enum` instances can be constructed.\n\nThe following examples of construction do not compile when outside the defining crate:\n\n<!-- ignore: requires external crates -->\n,ignore\n// These are types defined in an upstream crate that have been annotated as\n// `#[non_exhaustive]`.\nuse upstream::{Config, Token, Id, Error, Message};\n\n// Cannot construct an instance of `Config`; if new fields were added in\n// a new version of `upstream` then this would fail to compile, so it is\n// disallowed.\nlet config = Config { window_width: 640, window_height: 480 };\n\n// Cannot construct an instance of `Token`; if new fields were added, then\n// it would not be a unit-like struct any more, so the same-named constant\n// created by it being a unit-like struct is not public outside the crate;\n// this code fails to compile.\nlet token = Token;\n\n// Cannot construct an instance of `Id`; if new fields were added, then\n// its constructor function signature would change, so its constructor\n// function is not public outside the crate; this code fails to compile.\nlet id = Id(5);\n\n// Can construct an instance of `Error`; new variants being introduced would\n// not result in this failing to compile.\nlet error = Error::Message(\"foo\".to_string());\n\n// Cannot construct an instance of `Message::Send` or `Message::Reaction`;\n// if new fields were added in a new version of `upstream` then this would\n// fail to compile, so it is disallowed.\nlet message = Message::Send { from: 0, to: 1, contents: \"foo\".to_string(), };\nlet message = Message::Reaction(0);\n\n// Cannot construct an instance of `Message::Quit`; if this were converted to\n// a tuple enum variant `upstream`, this would fail to compile.\nlet message = Message::Quit;\n\nThere are limitations when matching on non-exhaustive types outside of the defining crate:\n\n- When pattern matching on a non-exhaustive variant (`struct` or `enum` variant), a [StructPattern] must be used which must include a `..`. A tuple enum variant's constructor's [visibility] is reduced to be no greater than `pub(crate)`.\n- When pattern matching on a non-exhaustive `enum`, matching on a variant does not contribute towards the exhaustiveness of the arms. The following examples of matching do not compile when outside the defining crate:\n\n<!-- ignore: requires external crates -->\n, ignore\n// These are types defined in an upstream crate that have been annotated as\n// `#[non_exhaustive]`.\nuse upstream::{Config, Token, Id, Error, Message};\n\n// Cannot match on a non-exhaustive enum without including a wildcard arm.\nmatch error {\n  Error::Message(ref s) => { },\n  Error::Other => { },\n  // would compile with: `_ => {},`\n}\n\n// Cannot match on a non-exhaustive struct without a wildcard.\nif let Ok(Config { window_width, window_height }) = config {\n    // would compile with: `..`\n}\n\n// Cannot match a non-exhaustive unit-like or tuple struct except by using\n// braced struct syntax with a wildcard.\n// This would compile as `let Token { .. } = token;`\nlet Token = token;\n// This would compile as `let Id { 0: id_number, .. } = id;`\nlet Id(id_number) = id;\n\nmatch message {\n  // Cannot match on a non-exhaustive struct enum variant without including a wildcard.\n  Message::Send { from, to, contents } => { },\n  // Cannot match on a non-exhaustive tuple or unit enum variant.\n  Message::Reaction(type) => { },\n  Message::Quit => { },\n}\n\nIt's also not allowed to use numeric casts (`as`) on enums that contain any non-exhaustive variants.\n\nFor example, the following enum can be cast because it doesn't contain any non-exhaustive variants:\n\n#[non_exhaustive]\npub enum Example {\n    First,\n    Second\n}\n\nHowever, if the enum contains even a single non-exhaustive variant, casting will result in an error. Consider this modified version of the same enum:\n\n#[non_exhaustive]\npub enum EnumWithNonExhaustiveVariants {\n    First,\n    #[non_exhaustive]\n    Second\n}\n\n<!-- ignore: needs multiple crates -->\n,ignore\nuse othercrate::EnumWithNonExhaustiveVariants;\n\n// Error: cannot cast an enum with a non-exhaustive variant when it's defined in another crate\nlet _ = EnumWithNonExhaustiveVariants::First as u8;\n\nNon-exhaustive types are always considered inhabited in downstream crates.\n\n[`match`]: ../expressions/match-expr.md\n[attributes]: ../attributes.md\n[enum]: ../items/enumerations.md\n[functional update syntax]: ../expressions/struct-expr.md#functional-update-syntax\n[struct]: ../items/structs.md\n[visibility]: ../visibility-and-privacy.md",
      "parent_id": null,
      "paragraphs": {
        "attributes.type-system.non_exhaustive.intro": "The *`non_exhaustive` attribute* indicates that a type or variant may have\nmore fields or variants added in the future.",
        "attributes.type-system.non_exhaustive.allowed-positions": "It can be applied to `struct`s, `enum`s, and `enum` variants.",
        "attributes.type-system.non_exhaustive.syntax": "The `non_exhaustive` attribute uses the [MetaWord] syntax and thus does not\ntake any inputs.",
        "attributes.type-system.non_exhaustive.same-crate": "Within the defining crate, `non_exhaustive` has no effect.\n\n#[non_exhaustive]\npub struct Config {\n    pub window_width: u16,\n    pub window_height: u16,\n}\n\n#[non_exhaustive]\npub struct Token;\n\n#[non_exhaustive]\npub struct Id(pub u64);\n\n#[non_exhaustive]\npub enum Error {\n    Message(String),\n    Other,\n}\n\npub enum Message {\n    #[non_exhaustive] Send { from: u32, to: u32, contents: String },\n    #[non_exhaustive] Reaction(u32),\n    #[non_exhaustive] Quit,\n}\n\n// Non-exhaustive structs can be constructed as normal within the defining crate.\nlet config = Config { window_width: 640, window_height: 480 };\nlet token = Token;\nlet id = Id(4);\n\n// Non-exhaustive structs can be matched on exhaustively within the defining crate.\nlet Config { window_width, window_height } = config;\nlet Token = token;\nlet Id(id_number) = id;\n\nlet error = Error::Other;\nlet message = Message::Reaction(3);\n\n// Non-exhaustive enums can be matched on exhaustively within the defining crate.\nmatch error {\n    Error::Message(ref s) => { },\n    Error::Other => { },\n}\n\nmatch message {\n    // Non-exhaustive variants can be matched on exhaustively within the defining crate.\n    Message::Send { from, to, contents } => { },\n    Message::Reaction(id) => { },\n    Message::Quit => { },\n}",
        "attributes.type-system.non_exhaustive.external-crate": "Outside of the defining crate, types annotated with `non_exhaustive` have limitations that\npreserve backwards compatibility when new fields or variants are added.",
        "attributes.type-system.non_exhaustive.construction": "Non-exhaustive types cannot be constructed outside of the defining crate:\n\n- Non-exhaustive variants (`struct` or `enum` variant) cannot be constructed\n  with a [StructExpression] \\(including with [functional update syntax]).\n- The implicitly defined same-named constant of a unit-like struct,\n  or the same-named constructor function of a tuple struct,\n  has a [visibility] no greater than `pub(crate)`.\n  That is, if the struct\u2019s visibility is `pub`, then the constant or constructor\u2019s visibility\n  is `pub(crate)`, and otherwise the visibility of the two items is the same\n  (as is the case without `#[non_exhaustive]`).\n- `enum` instances can be constructed.\n\nThe following examples of construction do not compile when outside the defining crate:\n\n<!-- ignore: requires external crates -->\n,ignore\n// These are types defined in an upstream crate that have been annotated as\n// `#[non_exhaustive]`.\nuse upstream::{Config, Token, Id, Error, Message};\n\n// Cannot construct an instance of `Config`; if new fields were added in\n// a new version of `upstream` then this would fail to compile, so it is\n// disallowed.\nlet config = Config { window_width: 640, window_height: 480 };\n\n// Cannot construct an instance of `Token`; if new fields were added, then\n// it would not be a unit-like struct any more, so the same-named constant\n// created by it being a unit-like struct is not public outside the crate;\n// this code fails to compile.\nlet token = Token;\n\n// Cannot construct an instance of `Id`; if new fields were added, then\n// its constructor function signature would change, so its constructor\n// function is not public outside the crate; this code fails to compile.\nlet id = Id(5);\n\n// Can construct an instance of `Error`; new variants being introduced would\n// not result in this failing to compile.\nlet error = Error::Message(\"foo\".to_string());\n\n// Cannot construct an instance of `Message::Send` or `Message::Reaction`;\n// if new fields were added in a new version of `upstream` then this would\n// fail to compile, so it is disallowed.\nlet message = Message::Send { from: 0, to: 1, contents: \"foo\".to_string(), };\nlet message = Message::Reaction(0);\n\n// Cannot construct an instance of `Message::Quit`; if this were converted to\n// a tuple enum variant `upstream`, this would fail to compile.\nlet message = Message::Quit;",
        "attributes.type-system.non_exhaustive.match": "There are limitations when matching on non-exhaustive types outside of the defining crate:\n\n- When pattern matching on a non-exhaustive variant (`struct` or `enum` variant), a [StructPattern] must be used which must include a `..`. A tuple enum variant's constructor's [visibility] is reduced to be no greater than `pub(crate)`.\n- When pattern matching on a non-exhaustive `enum`, matching on a variant does not contribute towards the exhaustiveness of the arms. The following examples of matching do not compile when outside the defining crate:\n\n<!-- ignore: requires external crates -->\n, ignore\n// These are types defined in an upstream crate that have been annotated as\n// `#[non_exhaustive]`.\nuse upstream::{Config, Token, Id, Error, Message};\n\n// Cannot match on a non-exhaustive enum without including a wildcard arm.\nmatch error {\n  Error::Message(ref s) => { },\n  Error::Other => { },\n  // would compile with: `_ => {},`\n}\n\n// Cannot match on a non-exhaustive struct without a wildcard.\nif let Ok(Config { window_width, window_height }) = config {\n    // would compile with: `..`\n}\n\n// Cannot match a non-exhaustive unit-like or tuple struct except by using\n// braced struct syntax with a wildcard.\n// This would compile as `let Token { .. } = token;`\nlet Token = token;\n// This would compile as `let Id { 0: id_number, .. } = id;`\nlet Id(id_number) = id;\n\nmatch message {\n  // Cannot match on a non-exhaustive struct enum variant without including a wildcard.\n  Message::Send { from, to, contents } => { },\n  // Cannot match on a non-exhaustive tuple or unit enum variant.\n  Message::Reaction(type) => { },\n  Message::Quit => { },\n}\n\nIt's also not allowed to use numeric casts (`as`) on enums that contain any non-exhaustive variants.\n\nFor example, the following enum can be cast because it doesn't contain any non-exhaustive variants:\n\n#[non_exhaustive]\npub enum Example {\n    First,\n    Second\n}\n\nHowever, if the enum contains even a single non-exhaustive variant, casting will result in an error. Consider this modified version of the same enum:\n\n#[non_exhaustive]\npub enum EnumWithNonExhaustiveVariants {\n    First,\n    #[non_exhaustive]\n    Second\n}\n\n<!-- ignore: needs multiple crates -->\n,ignore\nuse othercrate::EnumWithNonExhaustiveVariants;\n\n// Error: cannot cast an enum with a non-exhaustive variant when it's defined in another crate\nlet _ = EnumWithNonExhaustiveVariants::First as u8;\n\nNon-exhaustive types are always considered inhabited in downstream crates.\n\n[`match`]: ../expressions/match-expr.md\n[attributes]: ../attributes.md\n[enum]: ../items/enumerations.md\n[functional update syntax]: ../expressions/struct-expr.md#functional-update-syntax\n[struct]: ../items/structs.md\n[visibility]: ../visibility-and-privacy.md"
      }
    },
    {
      "id": "attributes.debugger",
      "title": "Debugger attributes",
      "level": 1,
      "content": "The following [attributes] are used for enhancing the debugging experience when using third-party debuggers like GDB or WinDbg.\n\n<!-- template:attributes -->",
      "parent_id": null,
      "paragraphs": {
        "attributes.debugger": "The following [attributes] are used for enhancing the debugging experience when using third-party debuggers like GDB or WinDbg.\n\n<!-- template:attributes -->"
      }
    },
    {
      "id": "attributes.debugger.debugger_visualizer",
      "title": "The `debugger_visualizer` attribute",
      "level": 1,
      "content": "The *`debugger_visualizer` attribute* can be used to embed a debugger visualizer file into the debug information. This improves the debugger experience when displaying values.\n\n> [!EXAMPLE]\n> <!-- ignore: requires external files-->\n> ```rust,ignore\n> #![debugger_visualizer(natvis_file = \"Example.natvis\")]\n> #![debugger_visualizer(gdb_script_file = \"example.py\")]\n> ```\n\nThe `debugger_visualizer` attribute uses the [MetaListNameValueStr] syntax to specify its inputs. One of the following keys must be specified:\n\n- `natvis_file`\n- `gdb_script_file`\n\nThe `debugger_visualizer` attribute may only be applied to a [module] or to the crate root.\n\nThe `debugger_visualizer` attribute may be used any number of times on a form. All specified visualizer files will be loaded.",
      "parent_id": null,
      "paragraphs": {
        "attributes.debugger.debugger_visualizer.intro": "The *`debugger_visualizer` attribute* can be used to embed a debugger visualizer file into the debug information. This improves the debugger experience when displaying values.\n\n> [!EXAMPLE]\n> <!-- ignore: requires external files-->\n> ```rust,ignore\n> #![debugger_visualizer(natvis_file = \"Example.natvis\")]\n> #![debugger_visualizer(gdb_script_file = \"example.py\")]\n> ```",
        "attributes.debugger.debugger_visualizer.syntax": "The `debugger_visualizer` attribute uses the [MetaListNameValueStr] syntax to specify its inputs. One of the following keys must be specified:\n\n- `natvis_file`\n- `gdb_script_file`",
        "attributes.debugger.debugger_visualizer.allowed-positions": "The `debugger_visualizer` attribute may only be applied to a [module] or to the crate root.",
        "attributes.debugger.debugger_visualizer.duplicates": "The `debugger_visualizer` attribute may be used any number of times on a form. All specified visualizer files will be loaded."
      }
    },
    {
      "id": "attributes.debugger.debugger_visualizer.natvis",
      "title": "Using `debugger_visualizer` with Natvis",
      "level": 2,
      "content": "Natvis is an XML-based framework for Microsoft debuggers (such as Visual Studio and WinDbg) that uses declarative rules to customize the display of types. For detailed information on the Natvis format, refer to Microsoft's [Natvis documentation].\n\nThis attribute only supports embedding Natvis files on `-windows-msvc` targets.\n\nThe path to the Natvis file is specified with the `natvis_file` key, which is a path relative to the source file.\n\n> [!EXAMPLE]\n> <!-- ignore: requires external files and msvc -->\n> ```rust ignore\n> #![debugger_visualizer(natvis_file = \"Rectangle.natvis\")]\n>\n> struct FancyRect {\n>     x: f32,\n>     y: f32,\n>     dx: f32,\n>     dy: f32,\n> }\n>\n> fn main() {\n>     let fancy_rect = FancyRect { x: 10.0, y: 10.0, dx: 5.0, dy: 5.0 };\n>     println!(\"set breakpoint here\");\n> }\n> ```\n>\n> `Rectangle.natvis` contains:\n>\n> ```xml\n> <?xml version=\"1.0\" encoding=\"utf-8\"?>\n> <AutoVisualizer xmlns=\"http://schemas.microsoft.com/vstudio/debugger/natvis/2010\">\n>     <Type Name=\"foo::FancyRect\">\n>       <DisplayString>({x},{y}) + ({dx}, {dy})</DisplayString>\n>       <Expand>\n>         <Synthetic Name=\"LowerLeft\">\n>           <DisplayString>({x}, {y})</DisplayString>\n>         </Synthetic>\n>         <Synthetic Name=\"UpperLeft\">\n>           <DisplayString>({x}, {y + dy})</DisplayString>\n>         </Synthetic>\n>         <Synthetic Name=\"UpperRight\">\n>           <DisplayString>({x + dx}, {y + dy})</DisplayString>\n>         </Synthetic>\n>         <Synthetic Name=\"LowerRight\">\n>           <DisplayString>({x + dx}, {y})</DisplayString>\n>         </Synthetic>\n>       </Expand>\n>     </Type>\n> </AutoVisualizer>\n> ```\n>\n> When viewed under WinDbg, the `fancy_rect` variable would be shown as follows:\n>\n> ```text\n> > Variables:\n>   > fancy_rect: (10.0, 10.0) + (5.0, 5.0)\n>     > LowerLeft: (10.0, 10.0)\n>     > UpperLeft: (10.0, 15.0)\n>     > UpperRight: (15.0, 15.0)\n>     > LowerRight: (15.0, 10.0)\n> ```",
      "parent_id": null,
      "paragraphs": {
        "attributes.debugger.debugger_visualizer.natvis.intro": "Natvis is an XML-based framework for Microsoft debuggers (such as Visual Studio and WinDbg) that uses declarative rules to customize the display of types. For detailed information on the Natvis format, refer to Microsoft's [Natvis documentation].",
        "attributes.debugger.debugger_visualizer.natvis.msvc": "This attribute only supports embedding Natvis files on `-windows-msvc` targets.",
        "attributes.debugger.debugger_visualizer.natvis.path": "The path to the Natvis file is specified with the `natvis_file` key, which is a path relative to the source file.\n\n> [!EXAMPLE]\n> <!-- ignore: requires external files and msvc -->\n> ```rust ignore\n> #![debugger_visualizer(natvis_file = \"Rectangle.natvis\")]\n>\n> struct FancyRect {\n>     x: f32,\n>     y: f32,\n>     dx: f32,\n>     dy: f32,\n> }\n>\n> fn main() {\n>     let fancy_rect = FancyRect { x: 10.0, y: 10.0, dx: 5.0, dy: 5.0 };\n>     println!(\"set breakpoint here\");\n> }\n> ```\n>\n> `Rectangle.natvis` contains:\n>\n> ```xml\n> <?xml version=\"1.0\" encoding=\"utf-8\"?>\n> <AutoVisualizer xmlns=\"http://schemas.microsoft.com/vstudio/debugger/natvis/2010\">\n>     <Type Name=\"foo::FancyRect\">\n>       <DisplayString>({x},{y}) + ({dx}, {dy})</DisplayString>\n>       <Expand>\n>         <Synthetic Name=\"LowerLeft\">\n>           <DisplayString>({x}, {y})</DisplayString>\n>         </Synthetic>\n>         <Synthetic Name=\"UpperLeft\">\n>           <DisplayString>({x}, {y + dy})</DisplayString>\n>         </Synthetic>\n>         <Synthetic Name=\"UpperRight\">\n>           <DisplayString>({x + dx}, {y + dy})</DisplayString>\n>         </Synthetic>\n>         <Synthetic Name=\"LowerRight\">\n>           <DisplayString>({x + dx}, {y})</DisplayString>\n>         </Synthetic>\n>       </Expand>\n>     </Type>\n> </AutoVisualizer>\n> ```\n>\n> When viewed under WinDbg, the `fancy_rect` variable would be shown as follows:\n>\n> ```text\n> > Variables:\n>   > fancy_rect: (10.0, 10.0) + (5.0, 5.0)\n>     > LowerLeft: (10.0, 10.0)\n>     > UpperLeft: (10.0, 15.0)\n>     > UpperRight: (15.0, 15.0)\n>     > LowerRight: (15.0, 10.0)\n> ```"
      }
    },
    {
      "id": "attributes.debugger.debugger_visualizer.gdb",
      "title": "Using `debugger_visualizer` with GDB",
      "level": 3,
      "content": "GDB supports the use of a structured Python script, called a *pretty printer*, that describes how a type should be visualized in the debugger view. For detailed information on pretty printers, refer to GDB's [pretty printing documentation].\n\n> [!NOTE]\n> Embedded pretty printers are not automatically loaded when debugging a binary under GDB.\n>\n> There are two ways to enable auto-loading embedded pretty printers:\n>\n> 1. Launch GDB with extra arguments to explicitly add a directory or binary to the auto-load safe path: `gdb -iex \"add-auto-load-safe-path safe-path path/to/binary\" path/to/binary` For more information, see GDB's [auto-loading documentation].\n> 1. Create a file named `gdbinit` under `$HOME/.config/gdb` (you may need to create the directory if it doesn't already exist). Add the following line to that file: `add-auto-load-safe-path path/to/binary`.\n\nThese scripts are embedded using the `gdb_script_file` key, which is a path relative to the source file.\n\n> [!EXAMPLE]\n> <!-- ignore: requires external files -->\n> ```rust ignore\n> #![debugger_visualizer(gdb_script_file = \"printer.py\")]\n>\n> struct Person {\n>     name: String,\n>     age: i32,\n> }\n>\n> fn main() {\n>     let bob = Person { name: String::from(\"Bob\"), age: 10 };\n>     println!(\"set breakpoint here\");\n> }\n> ```\n>\n> `printer.py` contains:\n>\n> ```python\n> import gdb\n>\n> class PersonPrinter:\n>     \"Print a Person\"\n>\n>     def __init__(self, val):\n>         self.val = val\n>         self.name = val[\"name\"]\n>         self.age = int(val[\"age\"])\n>\n>     def to_string(self):\n>         return \"{} is {} years old.\".format(self.name, self.age)\n>\n> def lookup(val):\n>     lookup_tag = val.type.tag\n>     if lookup_tag is None:\n>         return None\n>     if \"foo::Person\" == lookup_tag:\n>         return PersonPrinter(val)\n>\n>     return None\n>\n> gdb.current_objfile().pretty_printers.append(lookup)\n> ```\n>\n> When the crate's debug executable is passed into GDB[^rust-gdb], `print bob` will display:\n>\n> ```text\n> \"Bob\" is 10 years old.\n> ```\n>\n> [^rust-gdb]: Note: This assumes you are using the `rust-gdb` script which configures pretty-printers for standard library types like `String`.\n\n[auto-loading documentation]: https://sourceware.org/gdb/onlinedocs/gdb/Auto_002dloading-safe-path.html\n[attributes]: ../attributes.md\n[Natvis documentation]: https://docs.microsoft.com/en-us/visualstudio/debugger/create-custom-views-of-native-objects\n[pretty printing documentation]: https://sourceware.org/gdb/onlinedocs/gdb/Pretty-Printing.html\n\n<!-- template:attributes -->",
      "parent_id": null,
      "paragraphs": {
        "attributes.debugger.debugger_visualizer.gdb.pretty": "GDB supports the use of a structured Python script, called a *pretty printer*, that describes how a type should be visualized in the debugger view. For detailed information on pretty printers, refer to GDB's [pretty printing documentation].\n\n> [!NOTE]\n> Embedded pretty printers are not automatically loaded when debugging a binary under GDB.\n>\n> There are two ways to enable auto-loading embedded pretty printers:\n>\n> 1. Launch GDB with extra arguments to explicitly add a directory or binary to the auto-load safe path: `gdb -iex \"add-auto-load-safe-path safe-path path/to/binary\" path/to/binary` For more information, see GDB's [auto-loading documentation].\n> 1. Create a file named `gdbinit` under `$HOME/.config/gdb` (you may need to create the directory if it doesn't already exist). Add the following line to that file: `add-auto-load-safe-path path/to/binary`.",
        "attributes.debugger.debugger_visualizer.gdb.path": "These scripts are embedded using the `gdb_script_file` key, which is a path relative to the source file.\n\n> [!EXAMPLE]\n> <!-- ignore: requires external files -->\n> ```rust ignore\n> #![debugger_visualizer(gdb_script_file = \"printer.py\")]\n>\n> struct Person {\n>     name: String,\n>     age: i32,\n> }\n>\n> fn main() {\n>     let bob = Person { name: String::from(\"Bob\"), age: 10 };\n>     println!(\"set breakpoint here\");\n> }\n> ```\n>\n> `printer.py` contains:\n>\n> ```python\n> import gdb\n>\n> class PersonPrinter:\n>     \"Print a Person\"\n>\n>     def __init__(self, val):\n>         self.val = val\n>         self.name = val[\"name\"]\n>         self.age = int(val[\"age\"])\n>\n>     def to_string(self):\n>         return \"{} is {} years old.\".format(self.name, self.age)\n>\n> def lookup(val):\n>     lookup_tag = val.type.tag\n>     if lookup_tag is None:\n>         return None\n>     if \"foo::Person\" == lookup_tag:\n>         return PersonPrinter(val)\n>\n>     return None\n>\n> gdb.current_objfile().pretty_printers.append(lookup)\n> ```\n>\n> When the crate's debug executable is passed into GDB[^rust-gdb], `print bob` will display:\n>\n> ```text\n> \"Bob\" is 10 years old.\n> ```\n>\n> [^rust-gdb]: Note: This assumes you are using the `rust-gdb` script which configures pretty-printers for standard library types like `String`.\n\n[auto-loading documentation]: https://sourceware.org/gdb/onlinedocs/gdb/Auto_002dloading-safe-path.html\n[attributes]: ../attributes.md\n[Natvis documentation]: https://docs.microsoft.com/en-us/visualstudio/debugger/create-custom-views-of-native-objects\n[pretty printing documentation]: https://sourceware.org/gdb/onlinedocs/gdb/Pretty-Printing.html\n\n<!-- template:attributes -->"
      }
    },
    {
      "id": "attributes.debugger.collapse_debuginfo",
      "title": "The `collapse_debuginfo` attribute",
      "level": 3,
      "content": "The *`collapse_debuginfo` [attribute]* controls whether code locations from a macro definition are collapsed into a single location associated with the macro's call site when generating debuginfo for code calling this macro.\n\n> [!EXAMPLE]\n> ```rust\n> #[collapse_debuginfo(yes)]\n> macro_rules! example {\n>     () => {\n>         println!(\"hello!\");\n>     };\n> }\n> ```\n>\n> When using a debugger, invoking the `example` macro may appear as though it is calling a function. That is, when you step to the invocation site, it may show the macro invocation rather than the expanded code.\n\n<!-- TODO: I think it would be nice to extend this to explain a little more about why this is useful, and the kinds of scenarios where you would want one vs the other. See https://github.com/rust-lang/rfcs/pull/2117 for some guidance. -->\n\nThe syntax for the `collapse_debuginfo` attribute is:\n\n,attributes\n@root CollapseDebuginfoAttribute -> `collapse_debuginfo` `(` CollapseDebuginfoOption `)`\n\nCollapseDebuginfoOption ->\n      `yes`\n    | `no`\n    | `external`\n\nThe `collapse_debuginfo` attribute may only be applied to a [`macro_rules` definition].\n\nThe `collapse_debuginfo` attribute may used only once on a macro.\n\nThe `collapse_debuginfo` attribute accepts these options:\n\n- `#[collapse_debuginfo(yes)]` --- Code locations in debuginfo are collapsed.\n- `#[collapse_debuginfo(no)]` --- Code locations in debuginfo are not collapsed.\n- `#[collapse_debuginfo(external)]` --- Code locations in debuginfo are collapsed only if the macro comes from a different crate.\n\nThe `external` behavior is the default for macros that don't have this attribute unless they are built-in macros. For built-in macros the default is `yes`.\n\n> [!NOTE]\n> `rustc` has a [`-C collapse-macro-debuginfo`] CLI option to override both the default behavior and the values of any `#[collapse_debuginfo]` attributes.\n\n[`-C collapse-macro-debuginfo`]: ../../rustc/codegen-options/index.html#collapse-macro-debuginfo\n[`macro_rules` definition]: ../macros-by-example.md\n[attribute]: ../attributes.md\n[module]: ../items/modules.md",
      "parent_id": null,
      "paragraphs": {
        "attributes.debugger.collapse_debuginfo.intro": "The *`collapse_debuginfo` [attribute]* controls whether code locations from a macro definition are collapsed into a single location associated with the macro's call site when generating debuginfo for code calling this macro.\n\n> [!EXAMPLE]\n> ```rust\n> #[collapse_debuginfo(yes)]\n> macro_rules! example {\n>     () => {\n>         println!(\"hello!\");\n>     };\n> }\n> ```\n>\n> When using a debugger, invoking the `example` macro may appear as though it is calling a function. That is, when you step to the invocation site, it may show the macro invocation rather than the expanded code.\n\n<!-- TODO: I think it would be nice to extend this to explain a little more about why this is useful, and the kinds of scenarios where you would want one vs the other. See https://github.com/rust-lang/rfcs/pull/2117 for some guidance. -->",
        "attributes.debugger.collapse_debuginfo.syntax": "The syntax for the `collapse_debuginfo` attribute is:\n\n,attributes\n@root CollapseDebuginfoAttribute -> `collapse_debuginfo` `(` CollapseDebuginfoOption `)`\n\nCollapseDebuginfoOption ->\n      `yes`\n    | `no`\n    | `external`",
        "attributes.debugger.collapse_debuginfo.allowed-positions": "The `collapse_debuginfo` attribute may only be applied to a [`macro_rules` definition].",
        "attributes.debugger.collapse_debuginfo.duplicates": "The `collapse_debuginfo` attribute may used only once on a macro.",
        "attributes.debugger.collapse_debuginfo.options": "The `collapse_debuginfo` attribute accepts these options:\n\n- `#[collapse_debuginfo(yes)]` --- Code locations in debuginfo are collapsed.\n- `#[collapse_debuginfo(no)]` --- Code locations in debuginfo are not collapsed.\n- `#[collapse_debuginfo(external)]` --- Code locations in debuginfo are collapsed only if the macro comes from a different crate.",
        "attributes.debugger.collapse_debuginfo.default": "The `external` behavior is the default for macros that don't have this attribute unless they are built-in macros. For built-in macros the default is `yes`.\n\n> [!NOTE]\n> `rustc` has a [`-C collapse-macro-debuginfo`] CLI option to override both the default behavior and the values of any `#[collapse_debuginfo]` attributes.\n\n[`-C collapse-macro-debuginfo`]: ../../rustc/codegen-options/index.html#collapse-macro-debuginfo\n[`macro_rules` definition]: ../macros-by-example.md\n[attribute]: ../attributes.md\n[module]: ../items/modules.md"
      }
    }
  ],
  "ids": [
    "attributes.diagnostic.on_unimplemented.intro",
    "attributes.codegen.target_feature.info",
    "attributes.derive.built-in",
    "attributes.codegen.no_builtins",
    "attributes.testing.ignore",
    "attributes.diagnostic.on_unimplemented.repetition",
    "attributes.diagnostic.do_not_recommend.allowed-positions",
    "attributes.testing.should_panic",
    "attributes.codegen.inline.trait",
    "attributes.limits.recursion_limit.syntax",
    "attributes.codegen.inline.intro",
    "attributes.diagnostics.deprecated",
    "attributes.codegen.no_builtins.duplicates",
    "attributes.codegen.target_feature.loongarch",
    "attributes.codegen.naked.prologue-epilogue",
    "attributes.codegen.naked.unsafe-attribute",
    "attributes.type-system.non_exhaustive.syntax",
    "attributes.codegen.naked.unused-variables",
    "attributes.codegen.naked.body",
    "attributes.diagnostics.lint.allow",
    "attributes.codegen.target_feature",
    "attributes.codegen.track_caller.extern",
    "attributes.type-system",
    "attributes.testing.test.syntax",
    "attributes.debugger.collapse_debuginfo.default",
    "attributes.meta.intro",
    "attributes.activity.intro",
    "attributes.debugger.debugger_visualizer.allowed-positions",
    "attributes.diagnostics.expect.fulfillment",
    "attributes.derive.intro",
    "attributes.diagnostic.on_unimplemented.allowed-positions",
    "attributes.codegen",
    "attributes.limits.type_length_limit.syntax",
    "attributes.type-system.non_exhaustive.same-crate",
    "attributes.derive.duplicates",
    "attributes.inner",
    "attributes.outer",
    "attributes.diagnostics.lint.reason",
    "attributes.diagnostics.must_use.fn",
    "attributes.meta.syntax",
    "attributes.diagnostic.on_unimplemented.unknown-keys",
    "attributes.diagnostic.do_not_recommend.syntax",
    "attributes.derive.automatically_derived",
    "attributes.codegen.no_builtins.syntax",
    "attributes.diagnostics.lint.warn",
    "attributes.tool.ignored",
    "attributes.codegen.target_feature.target-ub",
    "attributes.diagnostic.on_unimplemented.note-repetition",
    "attributes.codegen.no_builtins.allowed-positions",
    "attributes.codegen.target_feature.s390x",
    "attributes.codegen.instruction_set.arm",
    "attributes.diagnostics.must_use.trait-impl-function",
    "attributes.codegen.inline.syntax",
    "attributes.codegen.inline.duplicates",
    "attributes.codegen.instruction_set.syntax",
    "attributes.meta.literal-expr",
    "attributes.diagnostics.deprecated.intro",
    "attributes.codegen.track_caller.limits",
    "attributes.diagnostic.on_unimplemented.format-parameters",
    "attributes.limits.type_length_limit",
    "attributes.codegen.naked.intro",
    "attributes.debugger.collapse_debuginfo.intro",
    "attributes.derive.behavior",
    "attributes.codegen.inline.allowed-positions",
    "attributes.intro",
    "attributes.diagnostics.lint.tool.intro",
    "attributes.derive.syntax",
    "attributes.codegen.naked",
    "attributes.type-system.non_exhaustive",
    "attributes.kind",
    "attributes.codegen.target_feature.aarch64",
    "attributes.diagnostic.on_unimplemented.keys",
    "attributes.debugger",
    "attributes.diagnostic.on_unimplemented.format-string",
    "attributes.limits.type_length_limit.allowed-positions",
    "attributes.diagnostics.must_use.trait",
    "attributes.codegen.naked.call-stack",
    "attributes.debugger.debugger_visualizer.intro",
    "attributes.testing.ignore.duplicates",
    "attributes.testing.should_panic.intro",
    "attributes.codegen.target_feature.arch",
    "attributes.debugger.debugger_visualizer.natvis.intro",
    "attributes.diagnostic.namespace",
    "attributes.tool",
    "attributes.codegen.instruction_set.allowed-positions",
    "attributes.testing.test.allowed-positions",
    "attributes.limits.recursion_limit",
    "attributes.meta.order",
    "attributes.meta",
    "attributes.builtin",
    "attributes.debugger.debugger_visualizer.gdb",
    "attributes.codegen.track_caller.behavior",
    "attributes.codegen.naked.inline",
    "attributes.testing.ignore.allowed-positions",
    "attributes.diagnostics",
    "attributes",
    "attributes.allowed-position",
    "attributes.syntax",
    "attributes.codegen.instruction_set",
    "attributes.type-system.non_exhaustive.intro",
    "attributes.codegen.target_feature.allowed-positions",
    "attributes.codegen.track_caller.traits",
    "attributes.codegen.no_builtins.intro",
    "attributes.debugger.collapse_debuginfo",
    "attributes.codegen.target_feature.riscv",
    "attributes.codegen.target_feature.remark-cfg",
    "attributes.testing.ignore.syntax",
    "attributes.diagnostics.lint.override",
    "attributes.safety",
    "attributes.diagnostic.on_unimplemented.invalid-string",
    "attributes.codegen.target_feature.x86",
    "attributes.codegen.target_feature.remark-rt",
    "attributes.codegen.track_caller.allowed-positions",
    "attributes.diagnostics.must_use.intro",
    "attributes.diagnostics.must_use.message",
    "attributes.meta.builtin",
    "attributes.diagnostic.do_not_recommend.intro",
    "attributes.codegen.target_feature.inline",
    "attributes.diagnostics.lint.tool.activation",
    "attributes.testing.ignore.intro",
    "attributes.diagnostic.on_unimplemented",
    "attributes.testing.ignore.behavior",
    "attributes.derive.automatically_derived.syntax",
    "attributes.limits.type_length_limit.intro",
    "attributes.debugger.debugger_visualizer.gdb.path",
    "attributes.diagnostics.lint.tool",
    "attributes.limits",
    "attributes.limits.type_length_limit.duplicates",
    "attributes.codegen.target_feature.availability",
    "attributes.input",
    "attributes.codegen.cold.syntax",
    "attributes.debugger.debugger_visualizer.natvis.msvc",
    "attributes.diagnostics.lint.expect",
    "attributes.diagnostics.lint.deny",
    "attributes.derive.automatically_derived.intro",
    "attributes.diagnostic.deprecated.allowed-positions",
    "attributes.codegen.instruction_set.inline-asm",
    "attributes.testing.test.duplicates",
    "attributes.codegen.target_feature.wasm",
    "attributes.diagnostics.lint.level",
    "attributes.debugger.collapse_debuginfo.duplicates",
    "attributes.derive.automatically_derived.behavior",
    "attributes.debugger.collapse_debuginfo.options",
    "attributes.testing.should_panic.duplicates",
    "attributes.codegen.cold.intro",
    "attributes.codegen.cold.allowed-positions",
    "attributes.codegen.target_feature.closures",
    "attributes.diagnostics.deprecated.syntax",
    "attributes.diagnostics.lint",
    "attributes.codegen.target_feature.fn-traits",
    "attributes.codegen.cold.trait",
    "attributes.codegen.naked.track_caller",
    "attributes.codegen.track_caller.decay",
    "attributes.derive.allowed-positions",
    "attributes.diagnostics.expect",
    "attributes.diagnostic.on_unimplemented.syntax",
    "attributes.codegen.inline.externally-exported",
    "attributes.codegen.target_feature.safety-restrictions",
    "attributes.debugger.debugger_visualizer.natvis.path",
    "attributes.diagnostics.lint.forbid",
    "attributes.testing.should_panic.return",
    "attributes.diagnostics.must_use",
    "attributes.diagnostic.do_not_recommend",
    "attributes.derive.built-in-automatically_derived",
    "attributes.type-system.non_exhaustive.construction",
    "attributes.testing.should_panic.allowed-positions",
    "attributes.codegen.instruction_set.target-limits",
    "attributes.codegen.instruction_set.intro",
    "attributes.testing.should_panic.expected",
    "attributes.codegen.naked.testing",
    "attributes.meta.order-macro",
    "attributes.codegen.inline.modes",
    "attributes.codegen.cold.duplicates",
    "attributes.derive.stdlib",
    "attributes.tool.prelude",
    "attributes.diagnostics.must_use.allowed-positions",
    "attributes.codegen.target_feature.intro",
    "attributes.type-system.non_exhaustive.external-crate",
    "attributes.diagnostics.must_use.type",
    "attributes.diagnostic.on_unimplemented.invalid-formats",
    "attributes.testing.test.intro",
    "attributes.diagnostics.must_use.trait-function",
    "attributes.activity",
    "attributes.diagnostics.expect.independent",
    "attributes.derive",
    "attributes.diagnostics.expect.intro",
    "attributes.type-system.non_exhaustive.match",
    "attributes.tool.intro",
    "attributes.codegen.track_caller",
    "attributes.codegen.instruction_set.duplicates",
    "attributes.codegen.cold",
    "attributes.type-system.non_exhaustive.allowed-positions",
    "attributes.debugger.collapse_debuginfo.allowed-positions",
    "attributes.diagnostics.lint.group",
    "attributes.codegen.inline.async",
    "attributes.derive.automatically_derived.allowed-positions",
    "attributes.debugger.collapse_debuginfo.syntax",
    "attributes.debugger.debugger_visualizer.syntax",
    "attributes.testing.ignore.reason",
    "attributes.codegen.track_caller.hint",
    "attributes.debugger.debugger_visualizer.natvis",
    "attributes.codegen.naked.no-duplication",
    "attributes.limits.recursion_limit.intro",
    "attributes.testing.test",
    "attributes.derive.automatically_derived.duplicates",
    "attributes.testing.test.enabled",
    "attributes.diagnostics.lint.group.warnings",
    "attributes.testing",
    "attributes.testing.should_panic.syntax",
    "attributes.testing.test.success",
    "attributes.testing.test.stdlib",
    "attributes.codegen.inline",
    "attributes.diagnostic.namespace.unknown-invalid-syntax",
    "attributes.debugger.debugger_visualizer",
    "attributes.debugger.debugger_visualizer.gdb.pretty",
    "attributes.meta.builtin.syntax",
    "attributes.debugger.debugger_visualizer.duplicates",
    "attributes.diagnostic.namespace.intro"
  ]
}
