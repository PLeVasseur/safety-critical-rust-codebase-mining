{
  "chapter": 22,
  "title": "Inline Assembly",
  "fls_url": "https://rust-lang.github.io/fls/inline-assembly.html",
  "fls_id": "fls_z1il3w9nulzy",
  "repository": "eclipse-iceoryx/iceoryx2",
  "version": "0.8.0",
  "analysis_date": "2025-12-30",
  "version_changes": {
    "from_version": "0.7.0",
    "to_version": "0.8.0",
    "summary": "Still NO inline assembly in core library. One global_asm! in bare-metal example for ARM startup. Fence usage slightly decreased as atomics restructured.",
    "key_changes": [
      "asm! macro: 0 \u2192 0 (unchanged)",
      "global_asm! macro: 0 \u2192 1 (bare-metal example only)",
      "naked_asm! macro: 0 \u2192 0 (unchanged)",
      "fence() usage: 12 \u2192 11 (-8%)",
      "compiler_fence() usage: 8 \u2192 8 (unchanged)",
      "Atomic wrapper types restructured in iceoryx2-bb/concurrency",
      "Memory ordering total: 816 \u2192 848 (+4%)"
    ]
  },
  "summary": "iceoryx2 v0.8.0 introduces minimal inline assembly usage exclusively in bare-metal no_std examples for ARM architecture. The main codebase remains assembly-free for portability. Memory fences (compiler_fence and hardware fence) are used extensively in lock-free data structures for memory ordering.",
  "statistics": {
    "asm_macro": 1,
    "global_asm_macro": 1,
    "naked_asm_macro": 0,
    "compiler_fence": 8,
    "hardware_fence": 11,
    "spin_loop_hints": 12
  },
  "sections": {
    "registers": {
      "fls_section": "22.1",
      "fls_ids": [
        "fls_j9l8wn6wgm06"
      ],
      "description": "Registers",
      "status": "deliberately_avoided",
      "findings": {
        "description": "iceoryx2 production code does not use inline assembly registers. Memory synchronization uses fence()/compiler_fence() instead.",
        "rationale": "Portability across architectures without architecture-specific assembly"
      },
      "samples": [],
      "count": 0,
      "samples_waiver": {
        "reason": "other",
        "explanation": "iceoryx2 production code does not use inline assembly for portability. Register usage only exists in bare-metal examples which are not production code.",
        "approved_by": "manual_review",
        "date": "2025-12-30"
      }
    },
    "register_classes": {
      "fls_section": "22.2",
      "fls_ids": [
        "fls_pz2ioqchjtym"
      ],
      "description": "Register Classes",
      "status": "not_used",
      "findings": {
        "description": "No register class specifiers found. Uses explicit named registers."
      },
      "samples": [],
      "count": null,
      "count_methodology": "Pattern not defined for this section"
    },
    "register_arguments": {
      "fls_section": "22.3",
      "fls_ids": [
        "fls_hejgghwzblf"
      ],
      "description": "Register Arguments",
      "status": "deliberately_avoided",
      "findings": {
        "description": "iceoryx2 production code does not use inline assembly register arguments.",
        "rationale": "No asm! usage in production code for portability"
      },
      "samples": [],
      "count": 0,
      "samples_waiver": {
        "reason": "other",
        "explanation": "iceoryx2 production code does not use inline assembly register arguments. Only bare-metal examples use asm! which are not production code.",
        "approved_by": "manual_review",
        "date": "2025-12-30"
      }
    },
    "assembly_instructions": {
      "fls_section": "22.4",
      "fls_ids": [
        "fls_e0896uk0mdyl"
      ],
      "description": "Assembly Instructions",
      "status": "deliberately_avoided",
      "findings": {
        "description": "iceoryx2 production code does not use inline assembly instructions.",
        "rationale": "Memory synchronization achieved through Rust's fence() and compiler_fence() APIs"
      },
      "samples": [],
      "count": 0,
      "samples_waiver": {
        "reason": "other",
        "explanation": "iceoryx2 production code does not use inline assembly instructions. Only bare-metal examples use asm! which are not production code.",
        "approved_by": "manual_review",
        "date": "2025-12-30"
      },
      "subsections": {
        "register_parameter_modifiers": {
          "fls_section": "22.4.1",
          "fls_ids": [
            "fls_lv19xysy1f7e"
          ],
          "description": "Register Parameter Modifiers",
          "status": "deliberately_avoided",
          "findings": {
            "description": "iceoryx2 production code does not use inline assembly register parameter modifiers.",
            "rationale": "No asm! usage in production code for portability"
          },
          "samples": [],
          "count": 0,
          "samples_waiver": {
            "reason": "other",
            "explanation": "iceoryx2 production code does not use inline assembly register parameter modifiers. Only bare-metal examples use asm! which are not production code.",
            "approved_by": "manual_review",
            "date": "2025-12-30"
          }
        },
        "directive_support": {
          "fls_section": "22.4.2",
          "fls_ids": [
            "fls_6momhvgx4w21"
          ],
          "description": "Directive Support",
          "status": "deliberately_avoided",
          "findings": {
            "description": "iceoryx2 production code does not use assembly directives.",
            "rationale": "No global_asm! usage in production code for portability"
          },
          "samples": [],
          "count": 0,
          "samples_waiver": {
            "reason": "other",
            "explanation": "iceoryx2 production code does not use assembly directives. Only bare-metal examples use global_asm! which are not production code.",
            "approved_by": "manual_review",
            "date": "2025-12-30"
          }
        }
      }
    },
    "abi_clobbers": {
      "fls_section": "22.5",
      "fls_ids": [
        "fls_a3joqzqp1v9d"
      ],
      "description": "ABI Clobbers",
      "status": "not_used",
      "findings": {
        "description": "No explicit clobber lists found"
      },
      "samples": [],
      "count": null,
      "count_methodology": "Pattern not defined for this section"
    },
    "assembly_options": {
      "fls_section": "22.6",
      "fls_ids": [
        "fls_ylli0ortyegk"
      ],
      "description": "Assembly Options",
      "status": "deliberately_avoided",
      "findings": {
        "description": "iceoryx2 production code does not use inline assembly options.",
        "rationale": "No asm! usage in production code for portability"
      },
      "samples": [],
      "count": 0,
      "samples_waiver": {
        "reason": "other",
        "explanation": "iceoryx2 production code does not use inline assembly options. Only bare-metal examples use asm! options which are not production code.",
        "approved_by": "manual_review",
        "date": "2025-12-30"
      }
    },
    "macros_asm_global_asm_and_naked_asm": {
      "fls_section": "22.7",
      "fls_ids": [
        "fls_qezwyridmjob"
      ],
      "description": "Macros: asm, global_asm, and naked_asm",
      "status": "deliberately_avoided",
      "findings": {
        "asm_in_production": 0,
        "global_asm_in_production": 0,
        "naked_asm_in_production": 0,
        "rationale": "Production code uses fence()/compiler_fence() for memory ordering instead of inline assembly"
      },
      "samples": [],
      "safety_notes": [
        "iceoryx2 production code deliberately avoids asm!, global_asm!, and naked_asm! for portability",
        "Memory synchronization achieved through fence() and compiler_fence() instead"
      ],
      "count": 0,
      "samples_waiver": {
        "reason": "other",
        "explanation": "iceoryx2 production code does not use asm!, global_asm!, or naked_asm! macros. Only bare-metal examples (not production) use these constructs. Production code uses fence()/compiler_fence() for memory ordering.",
        "approved_by": "manual_review",
        "date": "2025-12-30"
      }
    },
    "label_block": {
      "fls_section": "22.8",
      "fls_ids": [],
      "description": "Label block",
      "status": "deliberately_avoided",
      "findings": {
        "description": "iceoryx2 production code does not use inline assembly label blocks.",
        "rationale": "No asm!/global_asm! usage in production code for portability"
      },
      "samples": [],
      "count": 0,
      "samples_waiver": {
        "reason": "other",
        "explanation": "iceoryx2 production code does not use inline assembly. Label blocks only exist in asm! which is not used.",
        "approved_by": "manual_review",
        "date": "2025-12-30"
      }
    }
  },
  "cross_chapter_references": {
    "chapter_17": "Concurrency - Atomics section covers atomic wrapper types",
    "chapter_19": "Unsafety - Documents 0 asm! usage in library",
    "chapter_21": "FFI - POSIX APIs used instead of asm for platform operations"
  }
}