{
  "chapter": 10,
  "title": "Associated Items",
  "fls_url": "https://rust-lang.github.io/fls/associated-items.html",
  "codebase": "iceoryx2",
  "version": "0.8.0",
  "analysis_date": "2025-12-30",
  "version_changes": {
    "from_version": "0.7.0",
    "to_version": "0.8.0",
    "summary": "Significant growth in associated items due to expanded codebase and FFI layer. impl blocks increased 77% (1353->2397), trait implementations increased 24% (773->956), GATs increased 150% (16->40).",
    "key_changes": [
      "Directory structure changed: iceoryx2-bb-*-0.7.0/ -> iceoryx2-bb/*/",
      "impl blocks increased from 1353 to 2397 (+77%)",
      "Trait definitions increased from 88 to 117 (+33%)",
      "Trait implementations increased from 773 to 956 (+24%)",
      "GATs increased from 16 to 40 (+150%)",
      "Methods with &self increased from 1553 to 2349 (+51%)",
      "Methods with &mut self increased from 359 to 485 (+35%)",
      "fn new() constructors increased significantly (351 instances)",
      "impl From increased from 94 to 143 (+52%)",
      "impl Drop decreased from 66 to 41 (-38%) due to restructuring"
    ]
  },
  "summary": "FLS Chapter 10 defines associated items as items that appear within implementations or traits. There are three kinds: associated constants, associated functions (including methods with self parameter), and associated types. iceoryx2 v0.8.0 extensively uses all three, with particular emphasis on trait-based abstraction for IPC backends, Generic Associated Types (GATs) for reactor/guard patterns, and methods for the primary API.",

  "statistics": {
    "impl_blocks_total": 2397,
    "trait_definitions": 117,
    "trait_implementations": 956,
    "type_aliases": 578,
    "associated_type_declarations": 3,
    "associated_constants": 3792,
    "generic_associated_types": 40,
    "methods_with_self": 3526,
    "methods_ref_self": 2349,
    "methods_mut_self": 485,
    "fn_new_constructors": 351,
    "pub_fn_in_impl": 2675,
    "common_trait_impls": {
      "From": 143,
      "Default": 55,
      "Drop": 41,
      "Send": 25,
      "Display": 19,
      "Sync": 18,
      "Debug": 16,
      "Clone": 3
    }
  },

  "syntax": {
    "AssociatedItem": "OuterAttributeOrDoc* (AssociatedItemWithVisibility | TerminatedMacroInvocation)",
    "AssociatedItemWithVisibility": "VisibilityModifier? (ConstantDeclaration | FunctionDeclaration | TypeAliasDeclaration)"
  },

  "legality_rules": {
    "10:1": {
      "rule": "An associated item is an item that appears within an implementation or a trait.",
      "status": "demonstrated",
      "notes": "2,397 impl blocks contain associated items (constants, functions, types). 117 traits define associated items.",
      "samples": [
        {
          "file": "iceoryx2-bb/memory/src/heap_allocator.rs",
          "line": 32,
          "code": "impl HeapAllocator {\n    pub const fn new() -> HeapAllocator {"
        }
      ]
    },
    "10:2": {
      "rule": "An associated constant is a constant that appears as an associated item.",
      "status": "demonstrated",
      "count": 3792,
      "samples": [
        {
          "file": "iceoryx2-bb/elementary/src/alignment.rs",
          "line": 37,
          "code": "impl Alignment {\n    pub const ALIGN_1: Alignment = Alignment(1);\n    pub const ALIGN_2: Alignment = Alignment(2);"
        },
        {
          "file": "iceoryx2-bb/posix/src/permission.rs",
          "line": 29,
          "code": "impl Permission {\n    pub const OWNER_READ: Self = Self(0o0400);\n    pub const OWNER_WRITE: Self = Self(0o0200);"
        }
      ]
    },
    "10:3": {
      "rule": "An associated function is a function that appears as an associated item.",
      "status": "demonstrated",
      "count": 8422,
      "notes": "All functions in impl blocks are associated functions. Includes both methods (with self) and non-methods."
    },
    "10:4": {
      "rule": "An associated type is a type alias that appears as an associated item.",
      "status": "demonstrated",
      "type_aliases": 578,
      "samples": [
        {
          "file": "iceoryx2/src/service/port_factory/mod.rs",
          "line": 64,
          "code": "type Service: crate::service::Service;"
        }
      ]
    },
    "10:5": {
      "rule": "An associated type shall not be used in the path expression of a struct expression.",
      "status": "compliant",
      "notes": "No violations found. Associated types used for type constraints, not struct construction."
    },
    "10:6": {
      "rule": "An associated type with a TypeBoundList shall appear only as an associated trait type.",
      "status": "demonstrated",
      "samples": [
        {
          "file": "iceoryx2/src/service/mod.rs",
          "line": 859,
          "code": "type ArcThreadSafetyPolicy<T: Send + Debug>: ArcSyncPolicy<T>;"
        }
      ]
    },
    "10:7": {
      "rule": "A generic associated type is an associated type with generic parameters.",
      "status": "demonstrated",
      "count": 40,
      "change_from_v0_7_0": "+24 (+150%)",
      "samples": [
        {
          "file": "iceoryx2-cal/src/reactor/mod.rs",
          "line": 74,
          "code": "type Guard<'reactor, 'attachment>: ReactorGuard<'reactor, 'attachment>"
        },
        {
          "file": "iceoryx2-cal/src/dynamic_storage/mod.rs",
          "line": 182,
          "code": "type Builder<'builder>: DynamicStorageBuilder<'builder, T, Self>;"
        },
        {
          "file": "iceoryx2/src/service/mod.rs",
          "line": 859,
          "code": "type ArcThreadSafetyPolicy<T: Send + Debug>: ArcSyncPolicy<T>;"
        },
        {
          "file": "iceoryx2/src/service/mod.rs",
          "line": 862,
          "code": "type BlackboardMgmt<T: Send + Sync + Debug + 'static>: DynamicStorage<T>;"
        }
      ]
    },
    "10:8_to_10:11": {
      "rule": "A lifetime parameter of a GAT requires a bound of form T: 'lifetime when the GAT is used in an associated function of the same trait.",
      "status": "demonstrated",
      "samples": [
        {
          "file": "iceoryx2-cal/src/reactor/mod.rs",
          "lines": "74-76",
          "code": "type Guard<'reactor, 'attachment>: ReactorGuard<'reactor, 'attachment>\n    where\n        Self: 'reactor;",
          "notes": "GAT with Self: 'reactor bound for proper lifetime relationship"
        }
      ]
    },
    "10:12": {
      "rule": "An associated implementation constant is an associated constant that appears within an implementation.",
      "status": "demonstrated",
      "samples": [
        {
          "file": "iceoryx2-cal/src/event/unix_datagram_socket.rs",
          "line": 273,
          "code": "impl crate::event::Listener for Listener {\n    const IS_FILE_DESCRIPTOR_BASED: bool = true;"
        }
      ]
    },
    "10:13": {
      "rule": "An associated implementation constant shall have a constant initializer.",
      "status": "compliant",
      "notes": "All associated constants in impl blocks have initializers (= value)."
    },
    "10:14": {
      "rule": "An associated implementation function is an associated function that appears within an implementation.",
      "status": "demonstrated",
      "count": 8422,
      "notes": "All functions in impl blocks are associated implementation functions."
    },
    "10:15": {
      "rule": "An associated implementation function shall have a function body.",
      "status": "compliant",
      "notes": "All functions in impl blocks have bodies. Only trait declarations can omit bodies."
    },
    "10:16": {
      "rule": "An associated implementation type is an associated type that appears within an implementation.",
      "status": "demonstrated",
      "count": 578
    },
    "10:17": {
      "rule": "An associated implementation type shall have an initialization type.",
      "status": "compliant",
      "notes": "All associated types in impl blocks have initialization types (type X = ConcreteType).",
      "samples": [
        {
          "file": "iceoryx2-cal/src/reactor/posix_select.rs",
          "line": 95,
          "code": "type Guard<'reactor, 'attachment> = FileDescriptorSetGuard<'reactor, 'attachment>;"
        },
        {
          "file": "iceoryx2-cal/src/reactor/epoll.rs",
          "line": 67,
          "code": "type Guard<'reactor, 'attachment> = EpollGuard<'reactor, 'attachment>;"
        }
      ]
    },
    "10:18": {
      "rule": "An associated trait item is an associated item that appears within a trait.",
      "status": "demonstrated",
      "count": 117,
      "notes": "117 trait definitions contain associated items (types, constants, functions)."
    },
    "10:19": {
      "rule": "An associated trait implementation item is an associated item that appears within a trait implementation.",
      "status": "demonstrated",
      "count": 956,
      "notes": "956 trait implementations provide concrete associated items."
    },
    "10:20": {
      "rule": "An associated trait constant is an associated constant that appears within a trait.",
      "status": "demonstrated",
      "samples": [
        {
          "file": "iceoryx2-cal/src/event/mod.rs",
          "line": 119,
          "code": "const IS_FILE_DESCRIPTOR_BASED: bool = false;",
          "notes": "Trait constant with default value"
        }
      ]
    },
    "10:21": {
      "rule": "An associated trait function is an associated function that appears within a trait.",
      "status": "demonstrated",
      "samples": [
        {
          "file": "iceoryx2-cal/src/reactor/mod.rs",
          "line": 82,
          "code": "fn attach<'reactor, 'attachment, F: SynchronousMultiplexing + Debug>(\n        &'reactor self,\n        value: &'attachment F,\n    ) -> Result<Self::Guard<'reactor, 'attachment>, ReactorAttachError>;"
        }
      ]
    },
    "10:22": {
      "rule": "An associated trait function shall not be subject to keyword const.",
      "status": "compliant",
      "notes": "No const fn declarations found in trait definitions. const fn not allowed in traits."
    },
    "10:23": {
      "rule": "Every occurrence of an impl trait type in the return type of an associated trait function is equivalent to referring to a new anonymous associated trait type.",
      "status": "not_used",
      "notes": "No impl Trait return types found in trait functions. iceoryx2 uses explicit associated types."
    },
    "10:24": {
      "rule": "An associated trait type is an associated type that appears within a trait.",
      "status": "demonstrated",
      "samples": [
        {
          "file": "iceoryx2/src/service/port_factory/mod.rs",
          "lines": "64-72",
          "code": "type Service: crate::service::Service;\ntype StaticConfig;\ntype DynamicConfig;"
        }
      ]
    },
    "10:25": {
      "rule": "An associated trait type shall not have an initialization type.",
      "status": "compliant",
      "notes": "Trait associated types declare constraints (bounds), implementations provide concrete types."
    },
    "10:26": {
      "rule": "An associated trait type has an implicit core::marker::Sized bound.",
      "status": "acknowledged",
      "notes": "All trait associated types are implicitly Sized unless ?Sized is specified."
    },
    "10:27_10:28": {
      "rule": "An associated trait type with bounds is equivalent to a where clause.",
      "status": "demonstrated",
      "notes": "type Service: crate::service::Service is equivalent to where Self::Service: crate::service::Service"
    },
    "10:29": {
      "rule": "An associated trait implementation function is an associated function that appears within a trait implementation.",
      "status": "demonstrated",
      "count": 956,
      "samples": [
        {
          "file": "iceoryx2-bb/memory/src/one_chunk_allocator.rs",
          "line": 95,
          "code": "impl BaseAllocator for OneChunkAllocator {\n    fn allocate(&self, layout: Layout) -> Result<NonNull<[u8]>, AllocationError> {"
        }
      ]
    },
    "10:30": {
      "rule": "Every occurrence of an impl trait type in the return type of an associated trait implementation function is equivalent to referring to the corresponding associated trait type.",
      "status": "not_used",
      "notes": "No impl Trait return types in trait implementation functions."
    },
    "10:31": {
      "rule": "A method is an associated function with a self parameter.",
      "status": "demonstrated",
      "count": 3526,
      "breakdown": {
        "ref_self": 2349,
        "mut_ref_self": 485
      }
    },
    "10:32_to_10:36": {
      "rule": "The type of a self parameter shall be one of: implementing type, &T, &mut T, or Pin<T>.",
      "status": "demonstrated",
      "samples": [
        {
          "description": "&self (type is &Self)",
          "file": "iceoryx2-bb/memory/src/one_chunk_allocator.rs",
          "line": 70,
          "code": "pub fn has_chunk_available(&self) -> bool {"
        },
        {
          "description": "&mut self (type is &mut Self)",
          "file": "iceoryx2-bb/memory/tests/pool_allocator_tests.rs",
          "line": 41,
          "code": "fn get_mut_memory(&mut self) -> *mut u8 {"
        },
        {
          "description": "self by value (type is Self)",
          "file": "iceoryx2-pal/concurrency-sync/src/iox_atomic.rs",
          "line": 89,
          "code": "fn overflowing_add(self, rhs: Self) -> (Self, bool);"
        }
      ],
      "pin_self": {
        "count": 0,
        "notes": "No Pin<&Self> or Pin<&mut Self> self parameters found. iceoryx2 doesn't use async patterns."
      }
    },
    "10:37": {
      "rule": "The visibility modifier of an associated trait item or associated trait implementation item is rejected, but may still be consumed by macros.",
      "status": "compliant",
      "notes": "No visibility modifiers on trait item declarations. All trait methods implicitly have trait's visibility."
    }
  },

  "generic_associated_types_gat": {
    "description": "GATs provide generic parameters on associated types, enabling patterns like lending iterators and guards with lifetimes tied to parent",
    "count": 40,
    "change_from_v0_7_0": "+24 (+150%)",
    "samples": [
      {
        "file": "iceoryx2-cal/src/reactor/mod.rs",
        "line": 74,
        "code": "type Guard<'reactor, 'attachment>: ReactorGuard<'reactor, 'attachment>\n    where\n        Self: 'reactor;",
        "usage": "Guard type with lifetimes tied to reactor and attachment"
      },
      {
        "file": "iceoryx2-cal/src/dynamic_storage/mod.rs",
        "line": 182,
        "code": "type Builder<'builder>: DynamicStorageBuilder<'builder, T, Self>;",
        "usage": "Builder with lifetime parameter"
      },
      {
        "file": "iceoryx2/src/service/mod.rs",
        "line": 859,
        "code": "type ArcThreadSafetyPolicy<T: Send + Debug>: ArcSyncPolicy<T>;",
        "usage": "GAT with type parameter for thread safety policy"
      }
    ]
  },

  "trait_implementations": {
    "description": "impl Trait for Type blocks - implementing trait contracts",
    "count": 956,
    "common_patterns": {
      "marker_traits": {
        "Send": 25,
        "Sync": 18,
        "notes": "Thread-safety markers for IPC types"
      },
      "std_traits": {
        "Default": 55,
        "Drop": 41,
        "Display": 19,
        "From": 143,
        "Clone": 3,
        "Debug": 16
      }
    }
  },

  "design_patterns": {
    "trait_abstraction_for_backends": {
      "description": "Traits define contracts, implementations provide platform-specific backends",
      "example": "Reactor trait with posix_select and epoll implementations"
    },
    "gat_for_lifetime_safety": {
      "description": "GATs ensure guards don't outlive their parents",
      "example": "Guard<'reactor, 'attachment> where Self: 'reactor"
    },
    "builder_pattern": {
      "description": "Many types have Builder associated types for configuration"
    },
    "marker_trait_safety": {
      "description": "Send/Sync implementations declare thread-safety guarantees"
    }
  },

  "cross_chapter_references": {
    "chapter_3": "Traits and implementations are items",
    "chapter_4": "Associated types are type aliases; trait types",
    "chapter_7": "Associated constants are values",
    "chapter_9": "Associated functions follow function rules",
    "chapter_11": "Implementations covered in detail",
    "chapter_12": "Generic parameters on associated items",
    "chapter_15": "Drop trait implementations for destruction"
  }
}
