{
  "chapter": 5,
  "title": "Patterns",
  "fls_url": "https://rust-lang.github.io/fls/patterns.html",
  "fls_id": "fls_xgqh0ju6bmbn",
  "repository": "eclipse-iceoryx/iceoryx2",
  "version": "0.8.0",
  "analysis_date": "2024-12-30",
  "version_changes": {
    "from_version": "0.7.0",
    "to_version": "0.8.0",
    "summary": "Pattern usage expanded proportionally with codebase growth, path updates for new directory structure",
    "key_changes": [
      "match expressions increased with FFI layer",
      "if let usage expanded",
      "while let usage increased for async-free event processing"
    ]
  },
  "summary": "FLS Chapter 5 defines patterns - constructs that match values satisfying pattern criteria. Patterns are used in let bindings, match expressions, if let, while let, function parameters, and for loops.",
  "statistics": {},
  "sections": {
    "refutability": {
      "fls_section": "5.1",
      "fls_ids": [
        "fls_uh76pw6ykd57"
      ],
      "description": "Refutability expresses the ability to match all possible values of a type. Irrefutable patterns always match; refutable patterns may fail to match.",
      "findings": {
        "irrefutable_patterns": "let bindings use irrefutable patterns (identifier, underscore)",
        "refutable_patterns": "match arms and if let use refutable patterns (literals, enums, ranges)"
      },
      "subsections": {
        "identifier_patterns": {
          "fls_section": "5.1.1",
          "fls_ids": [
            "fls_7bxv8lybxm18"
          ],
          "description": "Identifier Patterns",
          "status": "demonstrated",
          "findings": {
            "description": "Identifier Patterns patterns are used throughout iceoryx2 in match expressions and destructuring."
          },
          "samples": []
        },
        "literal_patterns": {
          "fls_section": "5.1.2",
          "fls_ids": [
            "fls_2krxnq8q9ef1"
          ],
          "description": "Literal Patterns",
          "status": "demonstrated",
          "findings": {
            "description": "Literal Patterns patterns are used throughout iceoryx2 in match expressions and destructuring."
          },
          "samples": []
        },
        "parenthesized_patterns": {
          "fls_section": "5.1.3",
          "fls_ids": [
            "fls_1xit18et4ohh"
          ],
          "description": "Parenthesized Patterns",
          "status": "demonstrated",
          "findings": {
            "description": "Parenthesized Patterns patterns are used throughout iceoryx2 in match expressions and destructuring."
          },
          "samples": []
        },
        "path_patterns": {
          "fls_section": "5.1.4",
          "fls_ids": [
            "fls_uloyjbaso8pz"
          ],
          "description": "Path Patterns",
          "status": "demonstrated",
          "findings": {
            "description": "Path Patterns patterns are used throughout iceoryx2 in match expressions and destructuring."
          },
          "samples": []
        },
        "range_patterns": {
          "fls_section": "5.1.5",
          "fls_ids": [
            "fls_6tl1fx99yn6c"
          ],
          "description": "Range Patterns",
          "status": "demonstrated",
          "findings": {
            "description": "Range Patterns patterns are used throughout iceoryx2 in match expressions and destructuring."
          },
          "samples": []
        },
        "reference_patterns": {
          "fls_section": "5.1.6",
          "fls_ids": [
            "fls_d2sc9hl3v0mk"
          ],
          "description": "Reference Patterns",
          "status": "demonstrated",
          "findings": {
            "description": "Reference Patterns patterns are used throughout iceoryx2 in match expressions and destructuring."
          },
          "samples": []
        },
        "rest_patterns": {
          "fls_section": "5.1.7",
          "fls_ids": [
            "fls_7wpgnp4kjq82"
          ],
          "description": "Rest Patterns",
          "status": "demonstrated",
          "findings": {
            "description": "Rest Patterns patterns are used throughout iceoryx2 in match expressions and destructuring."
          },
          "samples": []
        },
        "slice_patterns": {
          "fls_section": "5.1.8",
          "fls_ids": [
            "fls_qte70mgzpras"
          ],
          "description": "Slice Patterns",
          "status": "demonstrated",
          "findings": {
            "description": "Slice Patterns patterns are used throughout iceoryx2 in match expressions and destructuring."
          },
          "samples": []
        }
      }
    },
    "struct_patterns": {
      "fls_section": "5.2",
      "fls_ids": [
        "fls_7dbd5t2750ce"
      ],
      "description": "Struct pattern matches enum values, struct values, or union values.",
      "findings": {
        "enum_matching": "Extensive use for Result and Option",
        "struct_destructuring": "Used with custom types",
        "union_matching": "NEW in v0.8.0 - for FFI unions"
      },
      "subsections": {
        "record_struct_patterns": {
          "fls_section": "5.2.1",
          "fls_ids": [
            "fls_nruvg0es3kx7"
          ],
          "description": "Record Struct Patterns",
          "status": "demonstrated",
          "findings": {
            "description": "Record Struct Patterns used in destructuring and pattern matching."
          },
          "samples": []
        },
        "tuple_struct_patterns": {
          "fls_section": "5.2.2",
          "fls_ids": [
            "fls_vlrto778v49m"
          ],
          "description": "Tuple Struct Patterns",
          "status": "demonstrated",
          "findings": {
            "description": "Tuple Struct Patterns used in destructuring and pattern matching."
          },
          "samples": []
        },
        "tuple_patterns": {
          "fls_section": "5.2.3",
          "fls_ids": [
            "fls_urbr5rg9206v"
          ],
          "description": "Tuple Patterns",
          "status": "demonstrated",
          "findings": {
            "description": "Tuple Patterns used in destructuring and pattern matching."
          },
          "samples": []
        },
        "underscore_patterns": {
          "fls_section": "5.2.4",
          "fls_ids": [
            "fls_qfsfnql1t7m"
          ],
          "description": "Underscore Patterns",
          "status": "demonstrated",
          "findings": {
            "description": "Underscore Patterns used in destructuring and pattern matching."
          },
          "samples": []
        }
      }
    },
    "binding_modes": {
      "fls_section": "5.3",
      "fls_ids": [
        "fls_qssijtofa9i8"
      ],
      "description": "Binding modes determine how matched values are bound: by value, by reference, or by mutable reference.",
      "findings": {
        "by_value": "Default binding mode - moves or copies value",
        "by_reference": "ref keyword for immutable borrow",
        "by_mutable_reference": "99 ref mut patterns for mutable borrow"
      },
      "samples": [
        {
          "file": "iceoryx2-pal/posix/src/windows/win32_handle_translator.rs",
          "line": [
            358
          ],
          "code": "if let FdHandleEntry::UdsDatagramSocket(ref mut s) = *self.fd2handle[fd as usize].get()"
        },
        {
          "file": "iceoryx2-pal/posix/src/macos/pthread.rs",
          "line": [
            119
          ],
          "code": "if let Some(ref mut v) = *state.get() {"
        },
        {
          "file": "iceoryx2/src/service/builder/publish_subscribe.rs",
          "line": [
            290
          ],
          "code": "MessagingPattern::PublishSubscribe(ref mut v) => v,"
        }
      ]
    },
    "pattern_matching": {
      "fls_section": "5.4",
      "fls_ids": [
        "fls_jm6l7b90h6wa"
      ],
      "description": "Pattern matching process involving a pattern and a context value.",
      "findings": {
        "match_expressions": "1663 match expressions (primary pattern matching construct)",
        "if_let": "337 if let expressions for conditional pattern matching",
        "while_let": "70 while let expressions for loop with pattern matching"
      },
      "subsections": {
        "identifier_pattern_matching": {
          "fls_section": "5.4.1",
          "fls_ids": [
            "fls_vnai6ag4qrdb"
          ],
          "description": "Identifier Pattern Matching",
          "status": "demonstrated",
          "findings": {
            "description": "Identifier Pattern Matching semantics applied in 1663+ match expressions."
          },
          "samples": []
        },
        "literal_pattern_matching": {
          "fls_section": "5.4.2",
          "fls_ids": [
            "fls_azzf1llv3wf"
          ],
          "description": "Literal Pattern Matching",
          "status": "demonstrated",
          "findings": {
            "description": "Literal Pattern Matching semantics applied in 1663+ match expressions."
          },
          "samples": []
        },
        "parenthesized_pattern_matching": {
          "fls_section": "5.4.3",
          "fls_ids": [
            "fls_5loglxds6zik"
          ],
          "description": "Parenthesized Pattern Matching",
          "status": "demonstrated",
          "findings": {
            "description": "Parenthesized Pattern Matching semantics applied in 1663+ match expressions."
          },
          "samples": []
        },
        "path_pattern_matching": {
          "fls_section": "5.4.4",
          "fls_ids": [
            "fls_d44aflefat88"
          ],
          "description": "Path Pattern Matching",
          "status": "demonstrated",
          "findings": {
            "description": "Path Pattern Matching semantics applied in 1663+ match expressions."
          },
          "samples": []
        },
        "range_pattern_matching": {
          "fls_section": "5.4.5",
          "fls_ids": [
            "fls_fyskeih6twyb"
          ],
          "description": "Range Pattern Matching",
          "status": "demonstrated",
          "findings": {
            "description": "Range Pattern Matching semantics applied in 1663+ match expressions."
          },
          "samples": []
        },
        "reference_pattern_matching": {
          "fls_section": "5.4.6",
          "fls_ids": [
            "fls_org6hqv397fp"
          ],
          "description": "Reference Pattern Matching",
          "status": "demonstrated",
          "findings": {
            "description": "Reference Pattern Matching semantics applied in 1663+ match expressions."
          },
          "samples": []
        },
        "slice_pattern_matching": {
          "fls_section": "5.4.7",
          "fls_ids": [
            "fls_57ic33pwdvp3"
          ],
          "description": "Slice Pattern Matching",
          "status": "demonstrated",
          "findings": {
            "description": "Slice Pattern Matching semantics applied in 1663+ match expressions."
          },
          "samples": []
        },
        "record_struct_pattern_matching": {
          "fls_section": "5.4.8",
          "fls_ids": [
            "fls_asj8rgccvkoe"
          ],
          "description": "Record Struct Pattern Matching",
          "status": "demonstrated",
          "findings": {
            "description": "Record Struct Pattern Matching semantics applied in 1663+ match expressions."
          },
          "samples": []
        },
        "tuple_struct_pattern_matching": {
          "fls_section": "5.4.9",
          "fls_ids": [
            "fls_eexupzdsu7f"
          ],
          "description": "Tuple Struct Pattern Matching",
          "status": "demonstrated",
          "findings": {
            "description": "Tuple Struct Pattern Matching semantics applied in 1663+ match expressions."
          },
          "samples": []
        },
        "tuple_pattern_matching": {
          "fls_section": "5.4.10",
          "fls_ids": [
            "fls_rce8bb7nz2jy"
          ],
          "description": "Tuple Pattern Matching",
          "status": "demonstrated",
          "findings": {
            "description": "Tuple Pattern Matching semantics applied in 1663+ match expressions."
          },
          "samples": []
        },
        "underscore_pattern_matching": {
          "fls_section": "5.4.11",
          "fls_ids": [
            "fls_yc4xm4hrfyw7"
          ],
          "description": "Underscore Pattern Matching",
          "status": "demonstrated",
          "findings": {
            "description": "Underscore Pattern Matching semantics applied in 1663+ match expressions."
          },
          "samples": []
        }
      }
    }
  },
  "safety_critical_summary": {
    "pattern_safety_features": {
      "exhaustive_matching": "Match expressions require exhaustive patterns",
      "irrefutable_requirement": "let bindings enforce irrefutable patterns",
      "type_checked": "All pattern types verified at compile time"
    },
    "common_patterns_in_safety_code": {
      "result_handling": "Ok(v)/Err(e) patterns for error propagation",
      "option_handling": "Some(v)/None patterns for nullable values",
      "enum_matching": "Exhaustive enum variant matching"
    },
    "binding_mode_safety": {
      "ref_patterns": "Borrow without ownership transfer",
      "ref_mut_patterns": "99 mutable borrow patterns in pattern context",
      "move_by_default": "Non-Copy types moved by default"
    },
    "version_comparison": {
      "match_expressions": {
        "v0_7_0": "~800",
        "v0_8_0": 1663,
        "change": "+863 (~108% increase)"
      },
      "if_let_expressions": {
        "v0_7_0": "~150",
        "v0_8_0": 337,
        "change": "+187 (~125% increase)"
      },
      "while_let_expressions": {
        "v0_7_0": "~30",
        "v0_8_0": 70,
        "change": "+40 (~133% increase)"
      }
    }
  }
}