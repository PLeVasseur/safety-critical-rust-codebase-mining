{
  "chapter": 9,
  "title": "Functions",
  "fls_url": "https://rust-lang.github.io/fls/functions.html",
  "fls_id": "fls_qcb1n9c0e5hz",
  "repository": "eclipse-iceoryx/iceoryx2",
  "version": "0.8.0",
  "analysis_date": "2025-12-30",
  "version_changes": {
    "from_version": "0.7.0",
    "to_version": "0.8.0",
    "summary": "Major increase in function count due to expanded FFI layer. Total functions increased 72% (4909->8422). extern C fn increased dramatically (17->630) for C bindings. #[no_mangle] increased from minimal to 602 for FFI exports.",
    "key_changes": [
      "Directory structure changed: iceoryx2-bb-*-0.7.0/ -> iceoryx2-bb/*/",
      "Total fn declarations increased from 4909 to 8422 (+72%)",
      "pub fn increased from 1230 to 2809 (+128%)",
      "unsafe fn increased from 1302 to 1763 (+35%)",
      "extern C fn increased from 17 to 630 (+3606%) for FFI layer",
      "#[no_mangle] increased from minimal to 602 for C bindings",
      "const fn increased from 101 to 113 (+12%)",
      "impl blocks increased from 1353 to 2397 (+77%)",
      "where clauses increased from 94 to 182 (+94%)",
      "generic functions increased from 1002 to 1425 (+42%)",
      "Functions returning Result increased from 626 to 835 (+33%)",
      "Functions returning Self increased from 679 to 1107 (+63%)"
    ]
  },
  "summary": "FLS Chapter 9 defines functions as values of function types that model behavior. Each function declares a unique function item type. The chapter covers function qualifiers (const, async, unsafe), function parameters (including self parameter for methods), return types, function bodies, and function signatures. iceoryx2 v0.8.0 demonstrates massive growth in FFI functions for C/C++ bindings, heavy use of unsafe functions for systems programming, and const functions for compile-time evaluation.",
  "statistics": {
    "total_fn_declarations": 8422,
    "public_functions": 2809,
    "pub_crate_functions": 276,
    "private_functions": 5337,
    "const_fn": 113,
    "unsafe_fn": 1763,
    "async_fn": 0,
    "extern_c_fn": 630,
    "methods_with_self": 3526,
    "methods_ref_self": 2349,
    "methods_mut_self": 485,
    "generic_functions": 1425,
    "functions_returning_result": 835,
    "functions_returning_option": 217,
    "functions_returning_self": 1107,
    "functions_returning_bool": 392,
    "functions_returning_usize": 354,
    "where_clauses": 182,
    "impl_blocks": 2397,
    "test_functions": 960,
    "inline_attribute": 32,
    "must_use_attribute": 8,
    "no_mangle_attribute": 602,
    "extern_c_blocks": 11,
    "extern_rust_blocks": 1
  },
  "sections": {},
  "design_patterns": {
    "no_async": {
      "description": "Zero async functions - deliberate design for real-time IPC systems",
      "rationale": "async/await introduces non-deterministic scheduling, incompatible with real-time requirements"
    },
    "high_unsafe_count": {
      "description": "1,763 unsafe functions (20.9% of all functions)",
      "rationale": "Systems-level IPC requires direct memory manipulation, FFI, and low-level primitives"
    },
    "massive_ffi_layer": {
      "description": "630 extern C functions, 602 #[no_mangle] for C/C++ bindings",
      "rationale": "New in v0.8.0 - comprehensive C API via iceoryx2-ffi/c crate"
    },
    "const_constructors": {
      "description": "const fn new() pattern for compile-time initialization",
      "samples": [
        "HeapAllocator::new()",
        "Mutex::new()",
        "IoxAtomic::new()",
        "EventId::new()"
      ]
    },
    "result_returns": {
      "description": "835 functions return Result - fallible operations with explicit error handling",
      "percentage": "9.9% of functions"
    },
    "builder_pattern": {
      "description": "Methods returning Self (1107 instances) for fluent builder APIs",
      "change_from_v0_7_0": "+428 (+63%)"
    }
  },
  "cross_chapter_references": {
    "chapter_3": "Functions are items (Item declarations)",
    "chapter_4": "Function types, function pointer types, closure types",
    "chapter_5": "Function parameters use irrefutable patterns",
    "chapter_6": "Function bodies are block expressions; call expressions invoke functions",
    "chapter_7": "Functions operate on values; const fn evaluated at compile time",
    "chapter_10": "Associated functions and methods in impl blocks",
    "chapter_12": "Generic parameters and where clauses on functions",
    "chapter_15": "Function parameters have drop scopes; ownership transfer on by-value self",
    "chapter_19": "Unsafe functions and unsafe context requirements",
    "chapter_21": "External functions for FFI - major expansion in v0.8.0"
  }
}